{
  StrategySelectorImpl strategySelector=new StrategySelectorImpl(classLoaderService);
  addDialects(strategySelector);
  addJtaPlatforms(strategySelector);
  addTransactionFactories(strategySelector);
  addMultiTableBulkIdStrategies(strategySelector);
  for (  AvailabilityAnnouncer announcer : classLoaderService.loadJavaServices(AvailabilityAnnouncer.class)) {
    for (    Availability discoveredAvailability : announcer.getAvailabilities()) {
      applyFromAvailability(strategySelector,discoveredAvailability);
    }
  }
  for (  Availability explicitAvailability : explicitAvailabilities) {
    applyFromAvailability(strategySelector,explicitAvailability);
  }
  return strategySelector;
}
