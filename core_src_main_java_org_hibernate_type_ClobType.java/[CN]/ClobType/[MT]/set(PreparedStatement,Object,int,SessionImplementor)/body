{
  if (value == null) {
    st.setNull(index,Types.CLOB);
    return;
  }
  Clob clob=(Clob)value;
  if (WrappedClob.class.isInstance(clob)) {
    clob=((WrappedClob)value).getWrappedClob();
  }
  final boolean useInputStream=session.getFactory().getDialect().useInputStreamToInsertBlob() && ClobImplementer.class.isInstance(clob);
  if (useInputStream) {
    st.setCharacterStream(index,clob.getCharacterStream(),(int)clob.length());
  }
 else {
    st.setClob(index,clob);
  }
}
