{
  Configuration cfg=new Configuration();
  cfg.setProperty(Environment.ENABLE_LAZY_LOAD_NO_TRANS,"true");
  cfg.setProperty(Environment.USE_SECOND_LEVEL_CACHE,"false");
  super.prepare(cfg);
  Session s=getFactory().openSession();
  s.beginTransaction();
  try {
    TestEntity testEntity=new TestEntity("foo");
    testEntity.setParamsAsString("{\"paramName\":\"paramValue\"}");
    s.persist(testEntity);
    TestOtherEntity testOtherEntity=new TestOtherEntity("foo");
    testOtherEntity.setParamsAsString("{\"paramName\":\"paramValue\"}");
    s.persist(testOtherEntity);
    s.getTransaction().commit();
  }
 catch (  Exception e) {
    s.getTransaction().rollback();
    throw e;
  }
 finally {
    s.close();
  }
}
