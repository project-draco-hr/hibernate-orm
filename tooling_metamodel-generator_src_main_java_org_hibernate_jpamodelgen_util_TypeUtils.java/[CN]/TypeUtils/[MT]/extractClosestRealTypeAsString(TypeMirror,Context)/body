{
  if (type instanceof TypeVariable) {
    final TypeMirror compositeUpperBound=((TypeVariable)type).getUpperBound();
    final Types types=context.getTypeUtils();
    final List<? extends TypeMirror> upperBounds=types.directSupertypes(compositeUpperBound);
    if (upperBounds.size() == 0) {
      return compositeUpperBound.toString();
    }
 else {
      return extractClosestRealTypeAsString(upperBounds.get(0),context);
    }
  }
 else {
    return type.toString();
  }
}
