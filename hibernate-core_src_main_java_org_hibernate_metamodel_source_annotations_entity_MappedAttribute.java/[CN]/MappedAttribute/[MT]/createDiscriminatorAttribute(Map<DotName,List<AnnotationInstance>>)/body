{
  Map<DotName,List<AnnotationInstance>> discriminatorAnnotations=JandexHelper.filterAnnotations(annotations,JPADotNames.DISCRIMINATOR_COLUMN,JPADotNames.DISCRIMINATOR_VALUE,HibernateDotNames.DISCRIMINATOR_FORMULA,HibernateDotNames.DISCRIMINATOR_OPTIONS);
  AnnotationInstance discriminatorOptionsAnnotation=JandexHelper.getSingleAnnotation(annotations,JPADotNames.DISCRIMINATOR_COLUMN);
  String name=DiscriminatorColumnValues.DEFAULT_DISCRIMINATOR_COLUMN_NAME;
  Class<?> type=String.class;
  if (discriminatorOptionsAnnotation != null) {
    name=discriminatorOptionsAnnotation.value("name").asString();
    DiscriminatorType discriminatorType=Enum.valueOf(DiscriminatorType.class,discriminatorOptionsAnnotation.value("discriminatorType").asEnum());
switch (discriminatorType) {
case STRING:
{
        type=String.class;
        break;
      }
case CHAR:
{
      type=Character.class;
      break;
    }
case INTEGER:
{
    type=Integer.class;
    break;
  }
default :
{
  throw new AnnotationException("Unsupported discriminator type: " + discriminatorType);
}
}
}
return new MappedAttribute(name,type,discriminatorAnnotations,true);
}
