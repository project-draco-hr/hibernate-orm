{
  LOG.debugf("Seeking mapping documents in jar file : %s",jar.getName());
  final Origin origin=new Origin(SourceType.JAR,jar.getAbsolutePath());
  try {
    JarFile jarFile=new JarFile(jar);
    try {
      Enumeration jarEntries=jarFile.entries();
      while (jarEntries.hasMoreElements()) {
        final ZipEntry zipEntry=(ZipEntry)jarEntries.nextElement();
        if (zipEntry.getName().endsWith(".hbm.xml")) {
          LOG.tracef("found mapping document : %s",zipEntry.getName());
          try {
            add(jarFile.getInputStream(zipEntry),origin,true);
          }
 catch (          Exception e) {
            throw new MappingException("could not read mapping documents",e,origin);
          }
        }
      }
    }
  finally {
      try {
        jarFile.close();
      }
 catch (      Exception ignore) {
      }
    }
  }
 catch (  IOException e) {
    throw new MappingNotFoundException(e,origin);
  }
  return this;
}
