{
  Type elementType=persister.getElementType();
  java.util.Map sn=(java.util.Map)getSnapshot();
  if (sn.size() != set.size()) {
    return false;
  }
 else {
    Iterator iter=set.iterator();
    while (iter.hasNext()) {
      Object test=iter.next();
      Object oldValue=sn.get(test);
      if (oldValue == null || elementType.isDirty(oldValue,test,getSession()))       return false;
    }
    return true;
  }
}
