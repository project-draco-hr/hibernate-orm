{
@Entity class A {
    @Id @GeneratedValue private int id;
  }
@Entity class B extends A {
    private String name;
  }
  Set<EntityHierarchy> hierarchies=createEntityHierarchies(B.class,A.class);
  assertEquals("There should be only one hierarchy",1,hierarchies.size());
  EntityHierarchy hierarchy=hierarchies.iterator().next();
  RootEntitySource rootSource=hierarchy.getRootEntitySource();
  assertEquals("wrong entity name",A.class.getName(),rootSource.getEntityName());
  Iterator<SubclassEntitySource> iter=rootSource.subclassEntitySources().iterator();
  assertTrue("There should be a subclass entity source",iter.hasNext());
  assertEquals("wrong class",B.class.getName(),iter.next().getEntityName());
  assertFalse("There should be no more subclass entity sources",iter.hasNext());
}
