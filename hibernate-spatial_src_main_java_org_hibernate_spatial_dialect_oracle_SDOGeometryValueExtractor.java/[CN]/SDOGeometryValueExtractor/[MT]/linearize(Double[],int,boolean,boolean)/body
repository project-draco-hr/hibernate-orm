{
  Coordinate[] linearizedCoords=new Coordinate[0];
  final int coordDim=lrs ? dim - 1 : dim;
  if (coordDim != 2) {
    throw new IllegalArgumentException("Can only linearize 2D arc segments, but geometry is " + dim + "D.");
  }
  int numOrd=dim;
  while (numOrd < arcOrdinates.length) {
    numOrd=numOrd - dim;
    final double x1=arcOrdinates[numOrd++];
    final double y1=arcOrdinates[numOrd++];
    final double m1=lrs ? arcOrdinates[numOrd++] : Double.NaN;
    final double x2=arcOrdinates[numOrd++];
    final double y2=arcOrdinates[numOrd++];
    final double m2=lrs ? arcOrdinates[numOrd++] : Double.NaN;
    final double x3=arcOrdinates[numOrd++];
    final double y3=arcOrdinates[numOrd++];
    final double m3=lrs ? arcOrdinates[numOrd++] : Double.NaN;
    Coordinate[] coords;
    if (entireCirlce) {
      coords=Circle.linearizeCircle(x1,y1,x2,y2,x3,y3);
    }
 else {
      coords=Circle.linearizeArc(x1,y1,x2,y2,x3,y3);
    }
    if (lrs) {
      throw new UnsupportedOperationException();
    }
    int resultBegin=1;
    if (linearizedCoords.length == 0) {
      resultBegin=0;
    }
    final int destPos=linearizedCoords.length;
    final Coordinate[] tmpCoords=new Coordinate[linearizedCoords.length + coords.length - resultBegin];
    System.arraycopy(linearizedCoords,0,tmpCoords,0,linearizedCoords.length);
    System.arraycopy(coords,resultBegin,tmpCoords,destPos,coords.length - resultBegin);
    linearizedCoords=tmpCoords;
  }
  return linearizedCoords;
}
