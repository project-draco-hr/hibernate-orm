{
  Reader stream=rs.getCharacterStream(name);
  if (stream == null)   return toExternalFormat(null);
  CharArrayWriter writer=new CharArrayWriter();
  for (; ; ) {
    try {
      int c=stream.read();
      if (c == -1)       return toExternalFormat(writer.toCharArray());
      writer.write(c);
    }
 catch (    IOException e) {
      throw new HibernateException("Unable to read character stream from rs");
    }
  }
}
