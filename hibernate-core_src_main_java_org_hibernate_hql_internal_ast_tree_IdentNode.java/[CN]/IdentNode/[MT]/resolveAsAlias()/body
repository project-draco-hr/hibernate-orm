{
  FromElement element=getWalker().getCurrentFromClause().getFromElement(getText());
  if (element != null) {
    setType(SqlTokenTypes.ALIAS_REF);
    setFromElement(element);
    String[] columnExpressions=element.getIdentityColumns();
    final boolean isInNonDistinctCount=getWalker().isInCount() && !getWalker().isInCountDistinct();
    final boolean isCompositeValue=columnExpressions.length > 1;
    if (isCompositeValue) {
      if (isInNonDistinctCount && !getWalker().getSessionFactoryHelper().getFactory().getDialect().supportsTupleCounts()) {
        setText(columnExpressions[0]);
      }
 else {
        String joinedFragment=StringHelper.join(", ",columnExpressions);
        final boolean shouldSkipWrappingInParenthesis=getWalker().isInCount() || getWalker().getCurrentTopLevelClauseType() == HqlSqlTokenTypes.ORDER || getWalker().getCurrentTopLevelClauseType() == HqlSqlTokenTypes.GROUP;
        if (!shouldSkipWrappingInParenthesis) {
          joinedFragment="(" + joinedFragment + ")";
        }
        setText(joinedFragment);
      }
    }
 else {
      setText(columnExpressions[0]);
    }
    return true;
  }
  return false;
}
