{
  if (value == null || parameter.getParameterType() == null) {
    return;
  }
  if (Collection.class.isInstance(value) && !Collection.class.isAssignableFrom(parameter.getParameterType())) {
    validateCollectionValuedParameterMultiBinding(parameter,(Collection)value);
  }
 else   if (value.getClass().isArray()) {
    validateArrayValuedParameterBinding(parameter,value);
  }
 else {
    if (!parameter.getParameterType().isInstance(value)) {
      throw new IllegalArgumentException(String.format("Parameter value [%s] did not match expected type [%s]",value,parameter.getParameterType().getName()));
    }
  }
}
