{
  session.getJdbcCoordinator().getResultSetReturn().executeUpdate(insert);
  ResultSet rs=null;
  try {
    rs=insert.getGeneratedKeys();
    return IdentifierGeneratorHelper.getGeneratedIdentity(rs,persister.getRootTableKeyColumnNames()[0],persister.getIdentifierType(),session.getFactory().getDialect());
  }
  finally {
    if (rs != null) {
      session.getJdbcCoordinator().getResourceRegistry().release(rs,insert);
    }
  }
}
