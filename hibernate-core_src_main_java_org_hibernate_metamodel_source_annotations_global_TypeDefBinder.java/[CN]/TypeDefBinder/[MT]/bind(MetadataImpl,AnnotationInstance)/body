{
  String name=JandexHelper.getValueAsString(typeDef,"name");
  String defaultForType=JandexHelper.getValueAsString(typeDef,"defaultForType");
  String typeClass=JandexHelper.getValueAsString(typeDef,"typeClass");
  boolean noName=StringHelper.isEmpty(name);
  boolean noDefaultForType=defaultForType == null || defaultForType.equals(void.class.getName());
  if (noName && noDefaultForType)   throw new AnnotationException("Either name or defaultForType (or both) attribute should be set in TypeDef having typeClass " + typeClass);
  Map<String,String> prms=new HashMap<String,String>();
  for (  AnnotationInstance prm : JandexHelper.getValueAsArray(typeDef,"parameters")) {
    prms.put(JandexHelper.getValueAsString(prm,"name"),JandexHelper.getValueAsString(prm,"value"));
  }
  if (!noName)   bind(name,typeClass,prms,metadata);
  if (!noDefaultForType)   bind(defaultForType,typeClass,prms,metadata);
}
