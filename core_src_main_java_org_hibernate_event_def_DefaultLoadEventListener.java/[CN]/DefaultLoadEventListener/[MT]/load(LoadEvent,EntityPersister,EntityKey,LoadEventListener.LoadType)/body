{
  if (event.getInstanceToLoad() != null) {
    if (event.getSession().getPersistenceContext().getEntry(event.getInstanceToLoad()) != null) {
      throw new PersistentObjectException("attempted to load into an instance that was already associated with the session: " + MessageHelper.infoString(persister,event.getEntityId(),event.getSession().getFactory()));
    }
    persister.setIdentifier(event.getInstanceToLoad(),event.getEntityId(),event.getSession());
  }
  Object entity=doLoad(event,persister,keyToLoad,options);
  boolean isOptionalInstance=event.getInstanceToLoad() != null;
  if (!options.isAllowNulls() || isOptionalInstance) {
    if (entity == null) {
      event.getSession().getFactory().getEntityNotFoundDelegate().handleEntityNotFound(event.getEntityClassName(),event.getEntityId());
    }
  }
  if (isOptionalInstance && entity != event.getInstanceToLoad()) {
    throw new NonUniqueObjectException(event.getEntityId(),event.getEntityClassName());
  }
  return entity;
}
