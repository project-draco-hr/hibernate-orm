{
switch (type) {
case VERSION:
    return Versioning.OPTIMISTIC_LOCK_VERSION;
case NONE:
  return Versioning.OPTIMISTIC_LOCK_NONE;
case DIRTY:
return Versioning.OPTIMISTIC_LOCK_DIRTY;
case ALL:
return Versioning.OPTIMISTIC_LOCK_ALL;
default :
throw new AssertionFailure("optimistic locking not supported: " + type);
}
}
