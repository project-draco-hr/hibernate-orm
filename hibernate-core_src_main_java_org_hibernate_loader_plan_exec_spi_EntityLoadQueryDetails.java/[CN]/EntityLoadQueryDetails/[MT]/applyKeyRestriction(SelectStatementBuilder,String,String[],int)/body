{
  if (keyColumnNames.length == 1) {
    final InFragment in=new InFragment().setColumn(alias,keyColumnNames[0]);
    for (int i=0; i < batchSize; i++) {
      in.addValue("?");
    }
    select.appendRestrictions(in.toFragmentString());
  }
 else {
    final ConditionFragment keyRestrictionBuilder=new ConditionFragment().setTableAlias(alias).setCondition(keyColumnNames,"?");
    final String keyRestrictionFragment=keyRestrictionBuilder.toFragmentString();
    StringBuilder restrictions=new StringBuilder();
    if (batchSize == 1) {
      restrictions.append(keyRestrictionFragment);
    }
 else {
      restrictions.append('(');
      DisjunctionFragment df=new DisjunctionFragment();
      for (int i=0; i < batchSize; i++) {
        df.addCondition(keyRestrictionFragment);
      }
      restrictions.append(df.toFragmentString());
      restrictions.append(')');
    }
    select.appendRestrictions(restrictions.toString());
  }
}
