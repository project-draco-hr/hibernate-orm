{
  Type associationType=fetch.getAssociation().getOwner().getPropertyType(fetch.getAssociation().getAssociationPath());
  if (associationType.isCollectionType()) {
    log.trace("handling request to add collection fetch [{}]",fetch.getAssociation().getRole());
    if (Fetch.Style.JOIN == fetch.getStyle()) {
      if (BagType.class.isInstance(associationType)) {
        if (containsJoinFetchedCollection) {
          log.warn("Ignoring bag join fetch [{}] due to prior collection join fetch",fetch.getAssociation().getRole());
          return;
        }
      }
      if (containsJoinFetchedBag) {
        if (fetches.remove(bagJoinFetch.getAssociation().getRole()) != bagJoinFetch) {
          log.warn("Unable to erase previously added bag join fetch");
        }
        bagJoinFetch=null;
        containsJoinFetchedBag=false;
      }
      containsJoinFetchedCollection=true;
    }
  }
  fetches.put(fetch.getAssociation().getRole(),fetch);
}
