{
  Field field=getFieldFromMetamodelFor(clazz,fieldName);
  assertNotNull(field);
  ParameterizedType type=(ParameterizedType)field.getGenericType();
  Type actualType=type.getActualTypeArguments()[1];
  if (expectedType.isArray()) {
    expectedType=expectedType.getComponentType();
    actualType=((GenericArrayType)actualType).getGenericComponentType();
  }
  assertEquals(actualType,expectedType,errorString);
}
