{
  String key=subselect == null ? Table.qualify(catalog,schema,name) : subselect;
  if (tables.containsKey(key)) {
    throw new DuplicateMappingException("table",name);
  }
  schema=getObjectNameNormalizer().normalizeIdentifierQuoting(schema);
  catalog=getObjectNameNormalizer().normalizeIdentifierQuoting(catalog);
  Table table=new DenormalizedTable(includedTable);
  table.setAbstract(isAbstract);
  table.setName(name);
  table.setSchema(schema);
  table.setCatalog(catalog);
  table.setSubselect(subselect);
  tables.put(key,table);
  return table;
}
