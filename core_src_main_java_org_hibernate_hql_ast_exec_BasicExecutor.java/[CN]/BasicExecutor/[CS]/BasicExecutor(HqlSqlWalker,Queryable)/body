{
  super(walker,log);
  this.persister=persister;
  try {
    SqlGenerator gen=new SqlGenerator(getFactory());
    gen.statement(walker.getAST());
    sql=gen.getSQL();
    gen.getParseErrorHandler().throwQueryException();
    parameterSpecifications=gen.getCollectedParameters();
  }
 catch (  RecognitionException e) {
    throw QuerySyntaxException.convert(e);
  }
}
