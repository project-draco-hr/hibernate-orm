{
  HashSet proxyInterfaces=new HashSet();
  proxyInterfaces.add(HibernateProxy.class);
  proxyInterfaces.add(Element.class);
  ProxyFactory pf=new Dom4jProxyFactory();
  try {
    pf.postInstantiate(getEntityName(),Element.class,proxyInterfaces,null,null,mappingInfo.hasEmbeddedIdentifier() ? (CompositeType)mappingInfo.getIdentifier().getType() : null);
  }
 catch (  HibernateException he) {
    LOG.warn(LOG.unableToCreateProxyFactory(getEntityName()),he);
    pf=null;
  }
  return pf;
}
