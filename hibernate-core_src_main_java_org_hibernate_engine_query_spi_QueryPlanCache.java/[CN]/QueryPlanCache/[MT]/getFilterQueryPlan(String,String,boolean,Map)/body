{
  FilterQueryPlanKey key=new FilterQueryPlanKey(filterString,collectionRole,shallow,enabledFilters);
  FilterQueryPlan plan=(FilterQueryPlan)planCache.get(key);
  if (plan == null) {
    LOG.trace("Unable to locate collection-filter query plan in cache; generating (" + collectionRole + " : "+ filterString+ ")");
    plan=new FilterQueryPlan(filterString,collectionRole,shallow,enabledFilters,factory);
  }
 else   LOG.trace("Located collection-filter query plan in cache (" + collectionRole + " : "+ filterString+ ")");
  planCache.put(key,plan);
  return plan;
}
