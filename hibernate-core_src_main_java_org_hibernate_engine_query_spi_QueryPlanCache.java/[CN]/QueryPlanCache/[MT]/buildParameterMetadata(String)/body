{
  ParamLocationRecognizer recognizer=ParamLocationRecognizer.parseLocations(query);
  final int size=recognizer.getOrdinalParameterLocationList().size();
  OrdinalParameterDescriptor[] ordinalDescriptors=new OrdinalParameterDescriptor[size];
  for (int i=0; i < size; i++) {
    final Integer position=recognizer.getOrdinalParameterLocationList().get(i);
    ordinalDescriptors[i]=new OrdinalParameterDescriptor(i,null,position);
  }
  Map<String,NamedParameterDescriptor> namedParamDescriptorMap=new HashMap<String,NamedParameterDescriptor>();
  Map<String,ParamLocationRecognizer.NamedParameterDescription> map=recognizer.getNamedParameterDescriptionMap();
  for (  final String name : map.keySet()) {
    final ParamLocationRecognizer.NamedParameterDescription description=map.get(name);
    namedParamDescriptorMap.put(name,new NamedParameterDescriptor(name,null,description.buildPositionsArray(),description.isJpaStyle()));
  }
  return new ParameterMetadata(ordinalDescriptors,namedParamDescriptorMap);
}
