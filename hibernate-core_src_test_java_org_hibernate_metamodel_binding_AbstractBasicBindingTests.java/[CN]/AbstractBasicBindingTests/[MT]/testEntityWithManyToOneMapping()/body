{
  MetadataImpl metadata=addSourcesForManyToOne(sources);
  EntityBinding simpleEntityBinding=metadata.getEntityBinding(SimpleEntity.class.getName());
  assertIdAndSimpleProperty(simpleEntityBinding);
  EntityBinding entityWithManyToOneBinding=metadata.getEntityBinding(ManyToOneEntity.class.getName());
  assertTrue(1 == simpleEntityBinding.getAttributeBinding("id").getEntityReferencingAttributeBindings().size());
  Iterator<EntityReferencingAttributeBinding> it=entityWithManyToOneBinding.getEntityReferencingAttributeBindings().iterator();
  assertTrue(it.hasNext());
  assertSame(entityWithManyToOneBinding.getAttributeBinding("simpleEntity"),it.next());
  assertFalse(it.hasNext());
}
