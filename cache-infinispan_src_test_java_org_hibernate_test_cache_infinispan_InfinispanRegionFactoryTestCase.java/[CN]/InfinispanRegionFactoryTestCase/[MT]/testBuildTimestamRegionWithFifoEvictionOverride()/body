{
  final String timestamps="org.hibernate.cache.UpdateTimestampsCache";
  Properties p=new Properties();
  InfinispanRegionFactory factory=new InfinispanRegionFactory();
  p.setProperty("hibernate.cache.infinispan.timestamps.cfg","mytimestamps-cache");
  p.setProperty("hibernate.cache.infinispan.timestamps.eviction.strategy","FIFO");
  p.setProperty("hibernate.cache.infinispan.timestamps.eviction.wake_up_interval","3000");
  p.setProperty("hibernate.cache.infinispan.timestamps.eviction.max_entries","10000");
  try {
    factory.start(null,p);
    CacheManager manager=factory.getCacheManager();
    manager.getGlobalConfiguration().setTransportClass(null);
    factory.buildTimestampsRegion(timestamps,p);
    assertTrue(factory.getDefinedConfigurations().contains("mytimestamps-cache"));
    fail("Should fail cos no eviction configurations are allowed for timestamp caches");
  }
 catch (  CacheException ce) {
  }
 finally {
    factory.stop();
  }
}
