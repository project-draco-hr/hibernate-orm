{
  Iterator iter=rootCriteria.iterateSubcriteria();
  while (iter.hasNext()) {
    CriteriaImpl.Subcriteria crit=(CriteriaImpl.Subcriteria)iter.next();
    String wholeAssociationPath=getWholeAssociationPath(crit);
    Object old=associationPathCriteriaMap.put(wholeAssociationPath,crit);
    if (old != null) {
      throw new QueryException("duplicate association path: " + wholeAssociationPath);
    }
    int joinType=crit.getJoinType();
    old=associationPathJoinTypesMap.put(wholeAssociationPath,new Integer(joinType));
    if (old != null) {
      throw new QueryException("duplicate association path: " + wholeAssociationPath);
    }
    if (crit.getWithClause() != null) {
      this.withClauseMap.put(wholeAssociationPath,crit.getWithClause());
    }
  }
}
