{
  if (first instanceof PersistentCollectionChangeWorkUnit) {
    PersistentCollectionChangeWorkUnit original=(PersistentCollectionChangeWorkUnit)first;
    Map<Object,PersistentCollectionChangeData> newChangesIdMap=new HashMap<Object,PersistentCollectionChangeData>();
    for (    PersistentCollectionChangeData persistentCollectionChangeData : getCollectionChanges()) {
      newChangesIdMap.put(getOriginalId(persistentCollectionChangeData),persistentCollectionChangeData);
    }
    List<PersistentCollectionChangeData> newChanges=new ArrayList<PersistentCollectionChangeData>();
    newChanges.addAll(collectionChanges);
    collectionChanges.clear();
    for (    PersistentCollectionChangeData originalCollectionChangeData : original.getCollectionChanges()) {
      if (!newChangesIdMap.containsKey(getOriginalId(originalCollectionChangeData))) {
        collectionChanges.add(originalCollectionChangeData);
      }
    }
    collectionChanges.addAll(newChanges);
  }
 else {
    throw new RuntimeException("Trying to merge a " + first + " with a PersitentCollectionChangeWorkUnit. "+ "This is not really possible.");
  }
  return KeepCheckResult.SECOND;
}
