{
  final EntityQuerySpaceImpl rhs=new EntityQuerySpaceImpl(persister,querySpaceUid,getQuerySpaces(),sessionFactory());
  final JoinDefinedByMetadata join=new JoinImpl(this,attribute,rhs,optional);
  internalGetJoins().add(join);
  getQuerySpaces().registerQuerySpace(rhs);
  return join;
}
