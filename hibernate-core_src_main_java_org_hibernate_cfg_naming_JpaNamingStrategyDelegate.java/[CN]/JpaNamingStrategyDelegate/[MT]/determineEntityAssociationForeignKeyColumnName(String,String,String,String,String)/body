{
  final String header;
  if (referencingPropertyName == null) {
    header=determineEntityNameToUse(propertyEntityName,propertyJpaEntityName);
  }
 else {
    header=StringHelper.unqualify(referencingPropertyName);
  }
  if (header == null) {
    throw new AssertionFailure("propertyJpaEntityName and referencingPropertyName cannot both be empty.");
  }
  return toPhysicalColumnName(header + "_" + referencedColumnName);
}
