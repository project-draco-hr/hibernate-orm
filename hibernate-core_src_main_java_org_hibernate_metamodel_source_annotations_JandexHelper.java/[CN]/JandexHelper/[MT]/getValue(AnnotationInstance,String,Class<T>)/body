{
  if (Class.class.equals(type)) {
    throw new AssertionFailure("Annotation parameters of type Class should be retrieved as strings (fully qualified class names)");
  }
  if (type.isPrimitive()) {
    type=PrimitiveWrapperHelper.getDescriptorByPrimitiveType(type).getWrapperClass();
  }
  AnnotationValue annotationValue=annotation.value(element);
  try {
    if (annotationValue != null) {
      return explicitAnnotationParameter(annotationValue,type);
    }
 else {
      return defaultAnnotationParameter(getDefaultValue(annotation,element),type);
    }
  }
 catch (  ClassCastException e) {
    throw new AssertionFailure(String.format("the annotation property %s of annotation %s is not of type %s",element,annotation.name(),type.getName()),e);
  }
}
