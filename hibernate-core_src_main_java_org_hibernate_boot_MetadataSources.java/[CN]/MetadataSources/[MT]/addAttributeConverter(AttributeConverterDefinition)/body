{
  if (attributeConverterDefinitionsByClass == null) {
    attributeConverterDefinitionsByClass=new ConcurrentHashMap<Class,AttributeConverterDefinition>();
  }
  final Object old=attributeConverterDefinitionsByClass.put(definition.getAttributeConverter().getClass(),definition);
  if (old != null) {
    throw new AssertionFailure(String.format("AttributeConverter class [%s] registered multiple times",definition.getAttributeConverter().getClass()));
  }
  return this;
}
