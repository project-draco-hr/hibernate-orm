{
  LOG.trace("after transaction completion");
  final boolean success=JtaStatusHelper.isCommitted(status);
  transactionEnvironment.getStatisticsImplementor().endTransaction(success);
  getJdbcCoordinator().afterTransaction();
  getTransactionContext().afterTransactionCompletion(hibernateTransaction,success);
  sendAfterTransactionCompletionNotifications(hibernateTransaction,status);
  reset();
}
