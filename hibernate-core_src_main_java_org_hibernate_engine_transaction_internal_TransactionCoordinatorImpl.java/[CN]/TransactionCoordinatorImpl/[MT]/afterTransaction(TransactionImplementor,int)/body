{
  log.trace("after transaction completion");
  final boolean success=JtaStatusHelper.isCommitted(status);
  transactionContext.getTransactionEnvironment().getStatisticsImplementor().endTransaction(success);
  getJdbcCoordinator().afterTransaction();
  getTransactionContext().afterTransactionCompletion(hibernateTransaction,success);
  sendAfterTransactionCompletionNotifications(hibernateTransaction,status);
  reset();
}
