{
  final Object optionalObject=queryParameters.getOptionalObject();
  final Serializable optionalId=queryParameters.getOptionalId();
  final String optionalEntityName=queryParameters.getOptionalEntityName();
  if (optionalObject != null && optionalEntityName != null) {
    return new EntityKey(optionalId,session.getEntityPersister(optionalEntityName,optionalObject),session.getEntityMode());
  }
 else {
    return null;
  }
}
