{
  log.usingHibernateBuiltInConnectionPool();
  connectionCreator=buildCreator(configurationValues);
  final int maxSize=ConfigurationHelper.getInt(AvailableSettings.POOL_SIZE,configurationValues,20);
  final long validationInterval=ConfigurationHelper.getLong(VALIDATION_INTERVAL,configurationValues,30);
  log.hibernateConnectionPoolSize(maxSize);
  executorService=Executors.newSingleThreadScheduledExecutor();
  executorService.scheduleWithFixedDelay(new Runnable(){
    @Override public void run(){
      int size=connections.size();
      if (size > maxSize) {
        int sizeToBeRemoved=size - maxSize;
        for (int i=0; i < sizeToBeRemoved; i++) {
          connections.poll();
        }
      }
    }
  }
,validationInterval,validationInterval,TimeUnit.SECONDS);
}
