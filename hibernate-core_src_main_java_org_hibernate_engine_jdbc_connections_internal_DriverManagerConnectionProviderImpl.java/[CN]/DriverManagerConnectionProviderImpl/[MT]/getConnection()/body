{
  if (!active) {
    throw new HibernateException("Connection pool is no longer active");
  }
  Connection conn=pool.poll();
  if (conn == null) {
    conn=connectionCreator.createConnection();
  }
  return conn;
}
