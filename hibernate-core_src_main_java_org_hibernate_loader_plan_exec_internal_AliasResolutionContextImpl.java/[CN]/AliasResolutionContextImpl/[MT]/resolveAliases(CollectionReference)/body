{
  LoadQueryCollectionAliasesImpl aliases=aliasesByCollectionReference.get(collectionReference);
  if (aliases == null) {
    final CollectionPersister collectionPersister=collectionReference.getCollectionPersister();
    aliases=new LoadQueryCollectionAliasesImpl(createTableAlias(collectionPersister.getRole()),collectionPersister.isManyToMany() ? createTableAlias(collectionPersister.getRole()) : null,createCollectionAliases(collectionPersister),createCollectionElementAliases(collectionPersister));
    aliasesByCollectionReference.put(collectionReference,aliases);
  }
  return aliases;
}
