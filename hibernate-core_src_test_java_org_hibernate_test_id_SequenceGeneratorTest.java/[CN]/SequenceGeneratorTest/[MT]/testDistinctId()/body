{
  Session s=openSession();
  Transaction tx=s.beginTransaction();
  final int testLength=8;
  final Person[] persons=new Person[testLength];
  for (int i=0; i < testLength; i++) {
    persons[i]=new Person();
    s.persist(persons[i]);
  }
  tx.commit();
  s.close();
  for (int i=0; i < testLength; i++) {
    assertEquals(i + 1,persons[i].getId().intValue());
  }
  s=openSession();
  tx=s.beginTransaction();
  s.createQuery("delete from Person").executeUpdate();
  tx.commit();
  s.close();
}
