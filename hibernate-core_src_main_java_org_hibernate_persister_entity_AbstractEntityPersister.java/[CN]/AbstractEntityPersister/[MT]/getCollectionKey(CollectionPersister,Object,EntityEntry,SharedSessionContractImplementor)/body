{
  final CollectionType collectionType=persister.getCollectionType();
  if (ownerEntry != null) {
    return collectionType.getKeyOfOwner(owner,session);
  }
  if (collectionType.getLHSPropertyName() == null) {
    return persister.getOwnerEntityPersister().getIdentifier(owner,session);
  }
 else {
    return (Serializable)persister.getOwnerEntityPersister().getPropertyValue(owner,collectionType.getLHSPropertyName());
  }
}
