{
  EntityManagerFactory entityManagerFactory=entityManagerFactory();
  Serializable customerId=1L;
  SessionFactory sessionFactory=entityManagerFactory.unwrap(SessionFactory.class);
  Session session=sessionFactory.withOptions().interceptor(new LoggingInterceptor()).openSession();
  session.getTransaction().begin();
  Customer customer=session.get(Customer.class,customerId);
  customer.setName("Mr. John Doe");
  session.getTransaction().commit();
  session.close();
}
