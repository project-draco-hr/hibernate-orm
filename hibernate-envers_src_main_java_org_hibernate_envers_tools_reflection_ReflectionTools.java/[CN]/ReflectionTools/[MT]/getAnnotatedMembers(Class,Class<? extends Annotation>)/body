{
  try {
    Set<Field> annotatedFields=new HashSet<Field>();
    Set<Method> annotatedMethods=new HashSet<Method>();
    doGetAnnotatedFields(clazz,annotation,annotatedFields);
    doGetAnnotatedMethods(clazz,annotation,annotatedMethods);
    Set<Member> result=new HashSet<Member>(annotatedFields.size() + annotatedMethods.size());
    for (    Field field : annotatedFields) {
      field.setAccessible(true);
      result.add(field);
    }
    for (    Method method : annotatedMethods) {
      method.setAccessible(true);
      result.add(method);
    }
    return result;
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
