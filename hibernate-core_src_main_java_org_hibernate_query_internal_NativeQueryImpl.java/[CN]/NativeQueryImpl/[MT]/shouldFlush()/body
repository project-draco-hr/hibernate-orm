{
  if (getProducer().isTransactionInProgress()) {
    FlushMode effectiveFlushMode=getHibernateFlushMode();
    if (effectiveFlushMode == null) {
      effectiveFlushMode=getProducer().getHibernateFlushMode();
    }
    if (effectiveFlushMode != FlushMode.MANUAL) {
      if (getProducer().getFactory().getSessionFactoryOptions().isJpaBootstrap()) {
        return true;
      }
    }
  }
  return false;
}
