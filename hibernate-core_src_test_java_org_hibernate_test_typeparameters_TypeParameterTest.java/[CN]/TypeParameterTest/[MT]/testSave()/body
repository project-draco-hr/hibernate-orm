{
  deleteData();
  Session s=openSession();
  s.beginTransaction();
  Widget obj=new Widget();
  obj.setValueThree(5);
  final Integer id=(Integer)s.save(obj);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  s.doWork(new Work(){
    @Override public void execute(    Connection connection) throws SQLException {
      PreparedStatement statement=connection.prepareStatement("SELECT * FROM STRANGE_TYPED_OBJECT WHERE ID=?");
      statement.setInt(1,id.intValue());
      ResultSet resultSet=statement.executeQuery();
      assertTrue("A row should have been returned",resultSet.next());
      assertTrue("Default value should have been mapped to null",resultSet.getObject("VALUE_ONE") == null);
      assertTrue("Default value should have been mapped to null",resultSet.getObject("VALUE_TWO") == null);
      assertEquals("Non-Default value should not be changed",resultSet.getInt("VALUE_THREE"),5);
      assertTrue("Default value should have been mapped to null",resultSet.getObject("VALUE_FOUR") == null);
    }
  }
);
  s.getTransaction().commit();
  s.close();
  deleteData();
}
