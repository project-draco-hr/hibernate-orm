{
  try {
    Class clazz=getIdentifierGeneratorClass(strategy,dialect);
    IdentifierGenerator idgen=(IdentifierGenerator)clazz.newInstance();
    if (idgen instanceof Configurable)     ((Configurable)idgen).configure(type,params,dialect);
    return idgen;
  }
 catch (  Exception e) {
    throw new MappingException("could not instantiate id generator [entity-name=" + params.get(IdentifierGenerator.ENTITY_NAME) + "]",e);
  }
}
