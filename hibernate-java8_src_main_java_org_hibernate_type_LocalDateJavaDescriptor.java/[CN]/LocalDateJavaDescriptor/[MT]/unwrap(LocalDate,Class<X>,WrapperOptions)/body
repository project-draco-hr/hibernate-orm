{
  if (value == null) {
    return null;
  }
  if (LocalDate.class.isAssignableFrom(type)) {
    return (X)value;
  }
  final ZonedDateTime zonedDateTime=value.atStartOfDay().atZone(ZoneId.systemDefault());
  if (Calendar.class.isAssignableFrom(type)) {
    return (X)GregorianCalendar.from(zonedDateTime);
  }
  final Instant instant=zonedDateTime.toInstant();
  if (Timestamp.class.isAssignableFrom(type)) {
    return (X)Timestamp.from(instant);
  }
  if (java.sql.Date.class.isAssignableFrom(type)) {
    return (X)java.sql.Date.from(instant);
  }
  if (java.sql.Time.class.isAssignableFrom(type)) {
    return (X)java.sql.Time.from(instant);
  }
  if (Date.class.isAssignableFrom(type)) {
    return (X)Date.from(instant);
  }
  if (Long.class.isAssignableFrom(type)) {
    return (X)Long.valueOf(instant.toEpochMilli());
  }
  throw unknownUnwrap(type);
}
