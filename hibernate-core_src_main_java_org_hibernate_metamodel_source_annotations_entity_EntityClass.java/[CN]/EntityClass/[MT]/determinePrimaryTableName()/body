{
  String tableName=null;
  if (hasOwnTable()) {
    tableName=getConfiguredClass().getSimpleName();
    AnnotationInstance tableAnnotation=JandexHelper.getSingleAnnotation(getClassInfo(),JPADotNames.TABLE);
    if (tableAnnotation != null) {
      AnnotationValue value=tableAnnotation.value("name");
      String tmp=value == null ? null : value.asString();
      if (tmp != null && !tmp.isEmpty()) {
        tableName=tmp;
      }
    }
  }
 else   if (getParent() != null && !getParent().getConfiguredClassType().equals(ConfiguredClassType.MAPPED_SUPERCLASS) && !getParent().getConfiguredClassType().equals(ConfiguredClassType.EMBEDDABLE)) {
    tableName=((EntityClass)getParent()).getPrimaryTableName();
  }
  return tableName;
}
