{
  List<AnnotationInstance> idAnnotations=getClassInfo().annotations().get(JPADotNames.ENTITY);
  List<AnnotationInstance> embeddedIdAnnotations=getClassInfo().annotations().get(JPADotNames.EMBEDDED_ID);
  if (idAnnotations != null && embeddedIdAnnotations != null) {
    throw new MappingException("@EmbeddedId and @Id cannot be used together. Check the configuration for " + getName() + ".");
  }
  if (embeddedIdAnnotations != null) {
    if (embeddedIdAnnotations.size() == 1) {
      return IdType.EMBEDDED;
    }
 else {
      throw new AnnotationException("Multiple @EmbeddedId annotations are not allowed");
    }
  }
  if (idAnnotations != null) {
    if (idAnnotations.size() == 1) {
      return IdType.SIMPLE;
    }
 else {
      return IdType.COMPOSED;
    }
  }
  return IdType.NONE;
}
