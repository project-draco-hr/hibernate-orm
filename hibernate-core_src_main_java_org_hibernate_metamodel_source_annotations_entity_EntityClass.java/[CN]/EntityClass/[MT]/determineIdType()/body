{
  List<AnnotationInstance> idAnnotations=findIdAnnotations(JPADotNames.ID);
  List<AnnotationInstance> embeddedIdAnnotations=findIdAnnotations(JPADotNames.EMBEDDED_ID);
  if (!idAnnotations.isEmpty() && !embeddedIdAnnotations.isEmpty()) {
    throw new MappingException("@EmbeddedId and @Id cannot be used together. Check the configuration for " + getName() + ".");
  }
  if (!embeddedIdAnnotations.isEmpty()) {
    if (embeddedIdAnnotations.size() == 1) {
      return IdType.EMBEDDED;
    }
 else {
      throw new AnnotationException("Multiple @EmbeddedId annotations are not allowed");
    }
  }
  if (!idAnnotations.isEmpty()) {
    return idAnnotations.size() == 1 ? IdType.SIMPLE : IdType.COMPOSED;
  }
  return IdType.NONE;
}
