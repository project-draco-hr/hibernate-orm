{
  Session s=openSession();
  Transaction t=s.beginTransaction();
  courseExpected=new Course();
  courseExpected.setCourseCode("HIB");
  courseExpected.setDescription("Hibernate Training");
  courseMeetingExpected1=new CourseMeeting(courseExpected,"Monday",1,"1313 Mockingbird Lane");
  courseMeetingExpected2=new CourseMeeting(courseExpected,"Tuesday",2,"1313 Mockingbird Lane");
  courseExpected.getCourseMeetings().add(courseMeetingExpected1);
  courseExpected.getCourseMeetings().add(courseMeetingExpected2);
  s.save(courseExpected);
  yogiExpected=new Student();
  yogiExpected.setName(new PersonName("Yogi","The","Bear"));
  yogiExpected.setStudentNumber(111);
  yogiExpected.setPreferredCourse(courseExpected);
  List yogiSecretCodes=new ArrayList();
  yogiSecretCodes.add(Integer.valueOf(0));
  yogiExpected.setSecretCodes(yogiSecretCodes);
  s.save(yogiExpected);
  Address address1=new Address(yogiExpected,"home","1 Main Street","Podunk","WA","98000","USA");
  Address address2=new Address(yogiExpected,"work","2 Main Street","NotPodunk","WA","98001","USA");
  yogiExpected.getAddresses().put(address1.getAddressType(),address1);
  yogiExpected.getAddresses().put(address2.getAddressType(),address2);
  s.save(address1);
  s.save(address2);
  shermanExpected=new Student();
  shermanExpected.setName(new PersonName("Sherman",null,"Grote"));
  shermanExpected.setStudentNumber(999);
  List shermanSecretCodes=new ArrayList();
  shermanSecretCodes.add(Integer.valueOf(1));
  shermanSecretCodes.add(Integer.valueOf(2));
  shermanExpected.setSecretCodes(shermanSecretCodes);
  s.save(shermanExpected);
  shermanEnrolmentExpected=new Enrolment();
  shermanEnrolmentExpected.setCourse(courseExpected);
  shermanEnrolmentExpected.setCourseCode(courseExpected.getCourseCode());
  shermanEnrolmentExpected.setSemester((short)1);
  shermanEnrolmentExpected.setYear((short)1999);
  shermanEnrolmentExpected.setStudent(shermanExpected);
  shermanEnrolmentExpected.setStudentNumber(shermanExpected.getStudentNumber());
  shermanExpected.getEnrolments().add(shermanEnrolmentExpected);
  s.save(shermanEnrolmentExpected);
  yogiEnrolmentExpected=new Enrolment();
  yogiEnrolmentExpected.setCourse(courseExpected);
  yogiEnrolmentExpected.setCourseCode(courseExpected.getCourseCode());
  yogiEnrolmentExpected.setSemester((short)3);
  yogiEnrolmentExpected.setYear((short)1998);
  yogiEnrolmentExpected.setStudent(yogiExpected);
  yogiEnrolmentExpected.setStudentNumber(yogiExpected.getStudentNumber());
  yogiExpected.getEnrolments().add(yogiEnrolmentExpected);
  s.save(yogiEnrolmentExpected);
  t.commit();
  s.close();
}
