{
  if (classInfo == null) {
    throw new IllegalArgumentException("classInfo cannot be null");
  }
  if (name == null) {
    throw new IllegalArgumentException("name cannot be null");
  }
  Map<DotName,List<AnnotationInstance>> annotations=new HashMap<DotName,List<AnnotationInstance>>();
  for (  List<AnnotationInstance> annotationList : classInfo.annotations().values()) {
    for (    AnnotationInstance instance : annotationList) {
      String targetName=null;
      if (instance.target() instanceof FieldInfo) {
        targetName=((FieldInfo)instance.target()).name();
      }
 else       if (instance.target() instanceof MethodInfo) {
        targetName=((MethodInfo)instance.target()).name();
      }
      if (targetName != null && name.equals(targetName)) {
        addAnnotationToMap(instance,annotations);
      }
    }
  }
  return annotations;
}
