{
  Object returnValue=annotationValue.value();
  if (returnValue instanceof Type) {
    returnValue=((Type)returnValue).name().toString();
  }
  if (type.isArray()) {
    AnnotationValue[] values=(AnnotationValue[])returnValue;
    Class<?> componentType=type.getComponentType();
    Object[] arr=(Object[])Array.newInstance(componentType,values.length);
    for (int i=0; i < values.length; i++) {
      arr[i]=componentType.cast(values[i].value());
    }
    returnValue=arr;
  }
  return type.cast(returnValue);
}
