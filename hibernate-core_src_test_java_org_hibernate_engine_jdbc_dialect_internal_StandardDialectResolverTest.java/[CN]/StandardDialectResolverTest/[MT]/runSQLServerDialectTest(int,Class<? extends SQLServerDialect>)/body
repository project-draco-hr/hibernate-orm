{
  DatabaseMetaData metaData=mock(DatabaseMetaData.class);
  when(metaData.getDatabaseProductName()).thenReturn("Microsoft SQL Server");
  when(metaData.getDatabaseMajorVersion()).thenReturn(version);
  Dialect dialect=new StandardDialectResolver().resolveDialectInternal(metaData);
  assertNotNull("Dialect for SQL Server version " + version + " should not be null",dialect);
  assertTrue("Dialect for SQL Server version " + version + " should be "+ expectedDialect.getSimpleName(),expectedDialect.isInstance(dialect));
}
