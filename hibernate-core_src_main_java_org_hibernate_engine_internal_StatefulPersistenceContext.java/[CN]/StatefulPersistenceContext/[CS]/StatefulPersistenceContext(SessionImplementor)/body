{
  this.session=session;
  entitiesByKey=new HashMap(INIT_COLL_SIZE);
  entitiesByUniqueKey=new HashMap(INIT_COLL_SIZE);
  proxiesByKey=new ReferenceMap(AbstractReferenceMap.HARD,AbstractReferenceMap.WEAK);
  entitySnapshotsByKey=new HashMap(INIT_COLL_SIZE);
  entityEntries=IdentityMap.instantiateSequenced(INIT_COLL_SIZE);
  collectionEntries=IdentityMap.instantiateSequenced(INIT_COLL_SIZE);
  parentsByChild=IdentityMap.instantiateSequenced(INIT_COLL_SIZE);
  collectionsByKey=new HashMap(INIT_COLL_SIZE);
  arrayHolders=new IdentityHashMap<Object,PersistentCollection>(INIT_COLL_SIZE);
  nullifiableEntityKeys=new HashSet();
  initTransientState();
}
