{
  this.session=session;
  entitiesByKey=new HashMap<EntityKey,Object>(INIT_COLL_SIZE);
  entitiesByUniqueKey=new HashMap<EntityUniqueKey,Object>(INIT_COLL_SIZE);
  proxiesByKey=new ConcurrentReferenceHashMap<EntityKey,Object>(INIT_COLL_SIZE,.75f,1,ConcurrentReferenceHashMap.ReferenceType.STRONG,ConcurrentReferenceHashMap.ReferenceType.WEAK,null);
  entitySnapshotsByKey=new HashMap<EntityKey,Object>(INIT_COLL_SIZE);
  entityEntryContext=new EntityEntryContext();
  collectionEntries=IdentityMap.instantiateSequenced(INIT_COLL_SIZE);
  parentsByChild=new IdentityHashMap<Object,Object>(INIT_COLL_SIZE);
  collectionsByKey=new HashMap<CollectionKey,PersistentCollection>(INIT_COLL_SIZE);
  arrayHolders=new IdentityHashMap<Object,PersistentCollection>(INIT_COLL_SIZE);
  nullifiableEntityKeys=new HashSet<EntityKey>();
  initTransientState();
}
