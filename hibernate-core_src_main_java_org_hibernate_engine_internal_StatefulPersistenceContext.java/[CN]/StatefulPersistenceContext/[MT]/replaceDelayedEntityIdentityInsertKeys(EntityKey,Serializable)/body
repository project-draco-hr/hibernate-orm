{
  Object entity=entitiesByKey.remove(oldKey);
  EntityEntry oldEntry=entityEntries.remove(entity);
  parentsByChild.clear();
  final EntityKey newKey=session.generateEntityKey(generatedId,oldEntry.getPersister());
  addEntity(newKey,entity);
  addEntry(entity,oldEntry.getStatus(),oldEntry.getLoadedState(),oldEntry.getRowId(),generatedId,oldEntry.getVersion(),oldEntry.getLockMode(),oldEntry.isExistsInDatabase(),oldEntry.getPersister(),oldEntry.isBeingReplicated(),oldEntry.isLoadedWithLazyPropertiesUnfetched());
}
