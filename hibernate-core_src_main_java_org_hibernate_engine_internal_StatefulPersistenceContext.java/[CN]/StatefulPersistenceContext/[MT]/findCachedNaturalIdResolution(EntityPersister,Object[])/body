{
  if (!persister.hasNaturalIdentifier()) {
    throw new IllegalArgumentException("Entity did not define a natrual-id");
  }
  if (persister.getNaturalIdentifierProperties().length != naturalIdValues.length) {
    throw new IllegalArgumentException("Mismatch between expected number of natural-id values and found.");
  }
  final NaturalIdResolutionCache entityNaturalIdResolutionCache=naturalIdResolutionCacheMap.get(persister);
  final NaturalIdCacheKey naturalIdCacheKey=getNaturalIdCacheKey(naturalIdValues,persister);
  if (entityNaturalIdResolutionCache == null) {
    final NaturalIdRegionAccessStrategy naturalIdCacheAccessStrategy=persister.getNaturalIdCacheAccessStrategy();
    return (Serializable)naturalIdCacheAccessStrategy.get(naturalIdCacheKey,session.getTimestamp());
  }
 else {
    return entityNaturalIdResolutionCache.naturalIdToPkMap.get(naturalIdCacheKey);
  }
}
