{
  final int[] naturalIdPropertyIndexes=persister.getNaturalIdentifierProperties();
  final Serializable[] naturalIdKeyValues=new Serializable[naturalIdPropertyIndexes.length];
  final Type[] naturalIdTypes=new Type[naturalIdPropertyIndexes.length];
  final Type[] propertyTypes=persister.getPropertyTypes();
  for (int i=0; i < naturalIdPropertyIndexes.length; i++) {
    naturalIdTypes[i]=propertyTypes[naturalIdPropertyIndexes[i]];
    naturalIdKeyValues[i]=naturalIdTypes[i].disassemble(naturalIdValues[i],session,null);
  }
  return new NaturalIdCacheKey(naturalIdKeyValues,naturalIdTypes,persister.getEntityName(),session.getTenantIdentifier(),session.getFactory());
}
