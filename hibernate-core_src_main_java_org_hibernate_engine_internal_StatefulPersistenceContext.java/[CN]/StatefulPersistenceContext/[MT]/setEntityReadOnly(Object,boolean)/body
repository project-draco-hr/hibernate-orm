{
  final EntityEntry entry=getEntry(entity);
  if (entry == null) {
    throw new TransientObjectException("Instance was not associated with this persistence context");
  }
  entry.setReadOnly(readOnly,entity);
  hasNonReadOnlyEntities=hasNonReadOnlyEntities || !readOnly;
}
