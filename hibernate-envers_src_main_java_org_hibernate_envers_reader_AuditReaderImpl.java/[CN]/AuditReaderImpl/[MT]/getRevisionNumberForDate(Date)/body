{
  checkNotNull(date,"Date of revision");
  checkSession();
  Criteria query=verCfg.getRevisionInfoQueryCreator().getRevisionNumberForDateQuery(session,date);
  try {
    Number res=(Number)query.uniqueResult();
    if (res == null) {
      throw new RevisionDoesNotExistException(date);
    }
    return res;
  }
 catch (  NonUniqueResultException e) {
    throw new AuditException(e);
  }
}
