{
  final HashSet<String> schemas=new HashSet<String>();
  final Iterator<Table> tables=hibernateConfiguration.getTableMappings();
  while (tables.hasNext()) {
    final Table table=tables.next();
    schemas.add(table.getSchema());
  }
  final Iterator<IdentifierGenerator> generators=hibernateConfiguration.iterateGenerators(dialect);
  while (generators.hasNext()) {
    final IdentifierGenerator generator=generators.next();
    if (PersistentIdentifierGenerator.class.isInstance(generator)) {
      schemas.add(((PersistentIdentifierGenerator)generator).getCatalog());
    }
  }
  if (schemas.isEmpty()) {
    commands=Collections.emptyList();
    return;
  }
  commands=new ArrayList<String>();
  for (  String schema : schemas) {
    commands.add(dialect.getCreateSchemaCommand(schema));
  }
}
