{
  Object existing=persistenceContext.getEntity(keyToLoad);
  if (existing != null) {
    if (traceEnabled) {
      LOG.trace("Entity found in session cache");
    }
    if (options.isCheckDeleted()) {
      EntityEntry entry=persistenceContext.getEntry(existing);
      Status status=entry.getStatus();
      if (status == Status.DELETED || status == Status.GONE) {
        return null;
      }
    }
    return existing;
  }
  if (traceEnabled) {
    LOG.trace("Creating new proxy for entity");
  }
  Object proxy=persister.createProxy(event.getEntityId(),event.getSession());
  persistenceContext.getBatchFetchQueue().addBatchLoadableEntityKey(keyToLoad);
  persistenceContext.addProxy(keyToLoad,proxy);
  return proxy;
}
