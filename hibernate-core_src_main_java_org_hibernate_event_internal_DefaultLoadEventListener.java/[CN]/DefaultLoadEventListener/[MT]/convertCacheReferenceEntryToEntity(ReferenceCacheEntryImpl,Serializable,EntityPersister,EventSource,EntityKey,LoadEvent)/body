{
  final Object entity=referenceCacheEntry.getReference();
  if (entity == null) {
    throw new IllegalStateException("Reference cache entry contained null : " + entityId);
  }
 else {
    makeEntityCircularReferenceSafe(referenceCacheEntry,entityId,session,entity,entityKey);
    return entity;
  }
}
