{
  Session s=openSession();
  s.beginTransaction();
  s.save(new UserImpl("steve"));
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  User user=s.get(UserImpl.class,1);
  user=s.get(User.class,1);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  user=s.get(UserImpl.class,1,LockMode.PESSIMISTIC_WRITE);
  user=s.get(User.class,1,LockMode.PESSIMISTIC_WRITE);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  user=s.get(UserImpl.class,1,LockOptions.UPGRADE);
  user=s.get(User.class,1,LockOptions.UPGRADE);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  user=s.byId(UserImpl.class).load(1);
  user=s.byId(User.class).load(1);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  user=s.byId(UserImpl.class).with(LockOptions.UPGRADE).load(1);
  user=s.byId(User.class).with(LockOptions.UPGRADE).load(1);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  user=s.load(UserImpl.class,1);
  user=s.load(User.class,1);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  user=s.load(UserImpl.class,1,LockMode.PESSIMISTIC_WRITE);
  user=s.load(User.class,1,LockMode.PESSIMISTIC_WRITE);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  user=s.load(UserImpl.class,1,LockOptions.UPGRADE);
  user=s.load(User.class,1,LockOptions.UPGRADE);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  user=s.byId(UserImpl.class).getReference(1);
  user=s.byId(User.class).getReference(1);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  user=s.byId(UserImpl.class).with(LockOptions.UPGRADE).getReference(1);
  user=s.byId(User.class).with(LockOptions.UPGRADE).getReference(1);
  s.getTransaction().commit();
  s.close();
}
