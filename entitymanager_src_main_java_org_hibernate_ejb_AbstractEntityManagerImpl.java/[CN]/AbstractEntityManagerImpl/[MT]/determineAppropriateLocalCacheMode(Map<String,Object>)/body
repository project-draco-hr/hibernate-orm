{
  CacheRetrieveMode retrieveMode=null;
  CacheStoreMode storeMode=null;
  if (localProperties != null) {
    retrieveMode=determineCacheRetrieveMode(localProperties);
    storeMode=determineCacheStoreMode(localProperties);
  }
  if (retrieveMode == null) {
    retrieveMode=determineCacheRetrieveMode(this.properties);
  }
  if (storeMode == null) {
    storeMode=determineCacheStoreMode(this.properties);
  }
  return CacheModeHelper.interpretCacheMode(storeMode,retrieveMode);
}
