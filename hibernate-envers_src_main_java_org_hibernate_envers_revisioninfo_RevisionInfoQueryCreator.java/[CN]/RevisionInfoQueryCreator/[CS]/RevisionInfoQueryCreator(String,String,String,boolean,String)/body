{
  this.timestampAsDate=timestampAsDate;
  revisionDateQuery=new StringBuilder().append("select rev.").append(revisionInfoTimestampName).append(" from ").append(revisionInfoEntityName).append(" rev where ").append(revisionInfoIdName).append(" = :_revision_number").toString();
  revisionNumberForDateQuery=new StringBuilder().append("select max(rev.").append(revisionInfoIdName).append(") from ").append(revisionInfoEntityName).append(" rev where ").append(revisionInfoTimestampName).append(" <= :_revision_date").toString();
  if (modifiedEntityNamesName == null) {
    revisionsQuery=new StringBuilder().append("select rev from ").append(revisionInfoEntityName).append(" rev where ").append(revisionInfoIdName).append(" in (:_revision_numbers)").toString();
  }
 else {
    revisionsQuery=new StringBuilder().append("select rev from ").append(revisionInfoEntityName).append(" rev join fetch rev.").append(modifiedEntityNamesName).append(" ent where rev.").append(revisionInfoIdName).append(" in (:_revision_numbers)").toString();
  }
}
