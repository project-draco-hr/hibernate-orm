{
  if (transactionManagerLookupImplName == null) {
    return null;
  }
  log.info("Encountered legacy TransactionManagerLookup specified; convert to newer " + JtaPlatform.class.getName() + " contract specified via "+ JTA_PLATFORM+ "setting");
  if ("org.hibernate.transaction.BESTransactionManagerLookup".equals(transactionManagerLookupImplName)) {
    return new BorlandEnterpriseServerJtaPlatform();
  }
  if ("org.hibernate.transaction.BTMTransactionManagerLookup".equals(transactionManagerLookupImplName)) {
    return new BitronixJtaPlatform();
  }
  if ("org.hibernate.transaction.JBossTransactionManagerLookup".equals(transactionManagerLookupImplName)) {
    return new JBossAppServerPlatform();
  }
  if ("org.hibernate.transaction.JBossTSStandaloneTransactionManagerLookup".equals(transactionManagerLookupImplName)) {
    return new JBossStandAloneJtaPlatform();
  }
  if ("org.hibernate.transaction.JOnASTransactionManagerLookup".equals(transactionManagerLookupImplName)) {
    return new JOnASJtaPlatform();
  }
  if ("org.hibernate.transaction.JOTMTransactionManagerLookup".equals(transactionManagerLookupImplName)) {
    return new JOTMJtaPlatform();
  }
  if ("org.hibernate.transaction.JRun4TransactionManagerLookup".equals(transactionManagerLookupImplName)) {
    return new JRun4JtaPlatform();
  }
  if ("org.hibernate.transaction.OC4JTransactionManagerLookup".equals(transactionManagerLookupImplName)) {
    return new OC4JJtaPlatform();
  }
  if ("org.hibernate.transaction.OrionTransactionManagerLookup".equals(transactionManagerLookupImplName)) {
    return new OrionJtaPlatform();
  }
  if ("org.hibernate.transaction.ResinTransactionManagerLookup".equals(transactionManagerLookupImplName)) {
    return new ResinJtaPlatform();
  }
  if ("org.hibernate.transaction.SunONETransactionManagerLookup".equals(transactionManagerLookupImplName)) {
    return new SunOneJtaPlatform();
  }
  if ("org.hibernate.transaction.WeblogicTransactionManagerLookup".equals(transactionManagerLookupImplName)) {
    return new WeblogicJtaPlatform();
  }
  if ("org.hibernate.transaction.WebSphereTransactionManagerLookup".equals(transactionManagerLookupImplName)) {
    return new WebSphereJtaPlatform();
  }
  if ("org.hibernate.transaction.WebSphereExtendedJTATransactionLookup".equals(transactionManagerLookupImplName)) {
    return new WebSphereExtendedJtaPlatform();
  }
  try {
    TransactionManagerLookup lookup=(TransactionManagerLookup)registry.getService(ClassLoaderService.class).classForName(transactionManagerLookupImplName).newInstance();
    return new TransactionManagerLookupBridge(lookup,JndiHelper.extractJndiProperties(configVales));
  }
 catch (  Exception e) {
    throw new JtaPlatformException("Unable to build " + TransactionManagerLookupBridge.class.getName() + " from specified "+ TransactionManagerLookup.class.getName()+ " implementation: "+ transactionManagerLookupImplName);
  }
}
