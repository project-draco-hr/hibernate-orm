{
  Configuration cfg=new Configuration();
  if (doConfiguration) {
    addToConfiguration(cfg,ogcStrict,connFinderClassName);
  }
  cfg.setProperty(AvailableSettings.DIALECT,OracleSpatial10gDialect.class.getCanonicalName());
  StandardServiceRegistry serviceRegistry=ServiceRegistryBuilder.buildServiceRegistry(cfg.getProperties());
  SessionFactory sessionFactory=cfg.buildSessionFactory(serviceRegistry);
  Dialect d=((SessionFactoryImpl)sessionFactory).getDialect();
  OracleSpatial10gDialect osd=(OracleSpatial10gDialect)d;
  Assert.assertTrue(ogcStrict == osd.isOGCStrict());
  ConnectionFinder finder=osd.getConnectionFinder();
  Assert.assertNotNull(finder);
  Assert.assertEquals(connFinderClassName,finder.getClass().getCanonicalName());
}
