{
  Route route=getUpdatedDetachedEntity();
  clearCounts();
  Session s=openSession();
  s.beginTransaction();
  Tour tour=(Tour)operation.doEntityOperation(((Node)route.getNodes().toArray()[0]).getTour(),s);
  s.getTransaction().commit();
  s.close();
  assertInsertCount(4);
  assertUpdateCount(0);
  s=openSession();
  s.beginTransaction();
  route=(Route)s.get(Route.class,route.getRouteID());
  checkResults(route,false);
  s.getTransaction().commit();
  s.close();
  cleanup();
}
