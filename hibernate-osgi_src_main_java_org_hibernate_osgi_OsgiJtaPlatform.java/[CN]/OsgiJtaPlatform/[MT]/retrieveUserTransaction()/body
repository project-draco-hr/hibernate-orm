{
  try {
    final UserTransaction userTransaction=OsgiServiceUtil.getServiceImpl(UserTransaction.class,bundleContext);
    if (userTransaction == null) {
      throw new TransactionException("Cannot retrieve the UserTransaction OSGi service!");
    }
    return userTransaction;
  }
 catch (  Exception e) {
    throw new TransactionException("Cannot retrieve the UserTransaction OSGi service!",e);
  }
}
