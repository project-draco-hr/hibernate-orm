{
  if (geom.isEmpty()) {
    shapes.add(new Shape(parentShapeIndex,-1,this.openGisType));
    return;
  }
  int thisShapeIndex=shapes.size();
  Shape thisShape=createShape(parentShapeIndex,figures);
  shapes.add(thisShape);
  if (!(geom instanceof GeometryCollection)) {
    throw new IllegalArgumentException("Expect GeometryCollection argument.");
  }
  GeometryCollection gc=(GeometryCollection)geom;
  for (int i=0; i < gc.getNumGeometries(); i++) {
    Geometry component=gc.getGeometryN(i);
    encodeComponent(component,thisShapeIndex,coordinates,figures,shapes);
  }
}
