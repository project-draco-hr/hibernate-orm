{
  for (  NamedEntityGraphDefinition definition : namedEntityGraphs) {
    final EntityType entityType=metamodel.getEntityTypeByName(definition.getJpaEntityName());
    final EntityGraphImpl entityGraph=new EntityGraphImpl(definition.getRegisteredName(),entityType,this);
    final NamedEntityGraph namedEntityGraph=definition.getAnnotation();
    if (namedEntityGraph.includeAllAttributes()) {
      for (      Object attributeObject : entityType.getAttributes()) {
        entityGraph.addAttributeNodes((Attribute)attributeObject);
      }
    }
    if (namedEntityGraph.attributeNodes() != null) {
      applyNamedAttributeNodes(namedEntityGraph.attributeNodes(),namedEntityGraph,entityGraph);
    }
    entityGraphs.put(definition.getRegisteredName(),entityGraph);
  }
}
