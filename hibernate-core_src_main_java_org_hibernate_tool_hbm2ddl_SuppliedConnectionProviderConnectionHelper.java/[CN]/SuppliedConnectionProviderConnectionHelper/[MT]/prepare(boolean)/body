{
  connection=provider.getConnection();
  toggleAutoCommit=needsAutoCommit && !connection.getAutoCommit();
  if (toggleAutoCommit) {
    try {
      connection.commit();
    }
 catch (    Throwable ignore) {
    }
    connection.setAutoCommit(true);
  }
}
