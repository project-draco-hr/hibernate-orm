{
  log.debug("Setting SimpleValue typeName for {}",propertyName);
  String type=BinderHelper.isEmptyAnnotationValue(explicitType) ? returnedClassName : explicitType;
  org.hibernate.mapping.TypeDef typeDef=mappings.getTypeDef(type);
  if (typeDef != null) {
    type=typeDef.getTypeClass();
    simpleValue.setTypeParameters(typeDef.getParameters());
  }
  if (typeParameters != null && typeParameters.size() != 0) {
    simpleValue.setTypeParameters(typeParameters);
  }
  simpleValue.setTypeName(type);
  if (persistentClassName != null) {
    simpleValue.setTypeUsingReflection(persistentClassName,propertyName);
  }
  if (!simpleValue.isTypeSpecified() && isVersion()) {
    simpleValue.setTypeName("integer");
  }
  if (timeStampVersionType != null) {
    simpleValue.setTypeName(timeStampVersionType);
  }
}
