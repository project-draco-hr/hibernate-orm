{
  final StringBuilder builder=new StringBuilder();
  try {
    if (PersistentAttributesHelper.hasAnnotation(currentValue,Id.class) || PersistentAttributesHelper.hasAnnotation(currentValue,EmbeddedId.class)) {
      return "";
    }
    if (currentValue.getType().isPrimitive() || currentValue.getType().isEnum()) {
      builder.append(String.format("  if (%s != $1)",currentValue.getName()));
    }
 else {
      for (      CtClass ctClass : currentValue.getType().getInterfaces()) {
        if (ctClass.getName().equals(Collection.class.getName())) {
          if (context.isMappedCollection(currentValue)) {
            return "";
          }
        }
      }
      builder.append(String.format("  if ( !%s.areEqual( %s, $1 ) )",EqualsHelper.class.getName(),currentValue.getName()));
    }
    builder.append(String.format("  {  %s(\"%s\");  }",EnhancerConstants.TRACKER_CHANGER_NAME,currentValue.getName()));
  }
 catch (  NotFoundException e) {
    e.printStackTrace();
  }
  return builder.toString();
}
