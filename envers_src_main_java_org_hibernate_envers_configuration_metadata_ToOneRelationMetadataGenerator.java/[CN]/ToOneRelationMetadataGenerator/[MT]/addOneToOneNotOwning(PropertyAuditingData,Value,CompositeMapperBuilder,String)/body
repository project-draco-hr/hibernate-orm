{
  OneToOne propertyValue=(OneToOne)value;
  String owningReferencePropertyName=propertyValue.getReferencedPropertyName();
  EntityConfiguration configuration=mainGenerator.getEntitiesConfigurations().get(entityName);
  if (configuration == null) {
    throw new MappingException("An audited relation to a non-audited entity " + entityName + "!");
  }
  IdMappingData ownedIdMapping=configuration.getIdMappingData();
  if (ownedIdMapping == null) {
    throw new MappingException("An audited relation to a non-audited entity " + entityName + "!");
  }
  String lastPropertyPrefix=owningReferencePropertyName + "_";
  String referencedEntityName=propertyValue.getReferencedEntityName();
  IdMapper ownedIdMapper=ownedIdMapping.getIdMapper().prefixMappedProperties(lastPropertyPrefix);
  mainGenerator.getEntitiesConfigurations().get(entityName).addToOneNotOwningRelation(propertyAuditingData.getName(),owningReferencePropertyName,referencedEntityName,ownedIdMapper);
  PropertyData propertyData=propertyAuditingData.getPropertyData();
  mapper.addComposite(propertyData,new OneToOneNotOwningMapper(owningReferencePropertyName,referencedEntityName,propertyData));
}
