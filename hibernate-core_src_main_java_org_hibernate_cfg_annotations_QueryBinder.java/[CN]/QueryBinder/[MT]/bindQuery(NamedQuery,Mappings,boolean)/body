{
  if (queryAnn == null)   return;
  if (BinderHelper.isEmptyAnnotationValue(queryAnn.name())) {
    throw new AnnotationException("A named query must have a name when used in class or package level");
  }
  QueryHint[] hints=queryAnn.hints();
  String queryName=queryAnn.query();
  NamedQueryDefinition queryDefinition=new NamedQueryDefinitionBuilder(queryAnn.name()).setLockOptions(determineLockOptions(queryAnn,hints)).setQuery(queryName).setCacheable(getBoolean(queryName,"org.hibernate.cacheable",hints)).setCacheRegion(getString(queryName,"org.hibernate.cacheRegion",hints)).setTimeout(getTimeout(queryName,hints)).setFetchSize(getInteger(queryName,"org.hibernate.fetchSize",hints)).setFlushMode(getFlushMode(queryName,hints)).setCacheMode(getCacheMode(queryName,hints)).setReadOnly(getBoolean(queryName,"org.hibernate.readOnly",hints)).setComment(getString(queryName,"org.hibernate.comment",hints)).setParameterTypes(null).createNamedQueryDefinition();
  if (isDefault) {
    mappings.addDefaultQuery(queryDefinition.getName(),queryDefinition);
  }
 else {
    mappings.addQuery(queryDefinition.getName(),queryDefinition);
  }
  if (LOG.isDebugEnabled()) {
    LOG.debugf("Binding named query: %s => %s",queryDefinition.getName(),queryDefinition.getQueryString());
  }
}
