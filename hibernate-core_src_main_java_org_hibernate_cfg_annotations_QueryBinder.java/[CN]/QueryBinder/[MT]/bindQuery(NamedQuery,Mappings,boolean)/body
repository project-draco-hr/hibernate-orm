{
  if (queryAnn == null)   return;
  if (BinderHelper.isEmptyAnnotationValue(queryAnn.name())) {
    throw new AnnotationException("A named query must have a name when used in class or package level");
  }
  QueryHintDefinition hints=new QueryHintDefinition(queryAnn.hints());
  String queryName=queryAnn.query();
  NamedQueryDefinition queryDefinition=new NamedQueryDefinitionBuilder(queryAnn.name()).setLockOptions(hints.determineLockOptions(queryAnn)).setQuery(queryName).setCacheable(hints.getBoolean(queryName,QueryHints.CACHEABLE)).setCacheRegion(hints.getString(queryName,QueryHints.CACHE_REGION)).setTimeout(hints.getTimeout(queryName)).setFetchSize(hints.getInteger(queryName,QueryHints.FETCH_SIZE)).setFlushMode(hints.getFlushMode(queryName)).setCacheMode(hints.getCacheMode(queryName)).setReadOnly(hints.getBoolean(queryName,QueryHints.READ_ONLY)).setComment(hints.getString(queryName,QueryHints.COMMENT)).setParameterTypes(null).createNamedQueryDefinition();
  if (isDefault) {
    mappings.addDefaultQuery(queryDefinition.getName(),queryDefinition);
  }
 else {
    mappings.addQuery(queryDefinition.getName(),queryDefinition);
  }
  if (LOG.isDebugEnabled()) {
    LOG.debugf("Binding named query: %s => %s",queryDefinition.getName(),queryDefinition.getQueryString());
  }
}
