{
@FetchProfile(name="foo",fetchOverrides={@FetchProfile.FetchOverride(entity=Foo.class,association="bar",mode=FetchMode.JOIN)}) class Foo {
  }
  Index index=JandexHelper.indexForClass(service,Foo.class);
  FetchProfileBinder.bind(new AnnotationBindingContextImpl(meta,index));
  Iterator<org.hibernate.metamodel.binding.FetchProfile> mappedFetchProfiles=meta.getFetchProfiles().iterator();
  assertTrue(mappedFetchProfiles.hasNext());
  org.hibernate.metamodel.binding.FetchProfile profile=mappedFetchProfiles.next();
  assertEquals("Wrong fetch profile name","foo",profile.getName());
  org.hibernate.metamodel.binding.FetchProfile.Fetch fetch=profile.getFetches().iterator().next();
  assertEquals("Wrong association name","bar",fetch.getAssociation());
  assertEquals("Wrong association type",Foo.class.getName(),fetch.getEntity());
}
