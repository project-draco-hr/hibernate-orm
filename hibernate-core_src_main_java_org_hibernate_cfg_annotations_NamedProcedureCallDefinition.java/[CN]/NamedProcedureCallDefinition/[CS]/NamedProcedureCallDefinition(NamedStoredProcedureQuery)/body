{
  this.registeredName=annotation.name();
  this.procedureName=annotation.procedureName();
  this.hints=new QueryHintDefinition(annotation.hints()).getHintsMap();
  this.resultClasses=annotation.resultClasses();
  this.resultSetMappings=annotation.resultSetMappings();
  this.parameterDefinitions=new ParameterDefinitions(annotation.parameters(),hints);
  final boolean specifiesResultClasses=resultClasses != null && resultClasses.length > 0;
  final boolean specifiesResultSetMappings=resultSetMappings != null && resultSetMappings.length > 0;
  if (specifiesResultClasses && specifiesResultSetMappings) {
    throw new MappingException(String.format("NamedStoredProcedureQuery [%s] specified both resultClasses and resultSetMappings",registeredName));
  }
}
