{
  PersistentClass entity=configuration().getClassMapping(WealthyPerson.class.getName());
  Property property=entity.getProperty("explicitVacationHomes");
  Set set=(Set)property.getValue();
  Table collectionTable=set.getCollectionTable();
  Iterator<Index> itr=collectionTable.getIndexIterator();
  assertTrue(itr.hasNext());
  Index index=itr.next();
  assertFalse(itr.hasNext());
  assertTrue("index name is not generated",StringHelper.isNotEmpty(index.getName()));
  assertEquals(2,index.getColumnSpan());
  Iterator<Column> columnIterator=index.getColumnIterator();
  Column column=columnIterator.next();
  assertEquals("countryName",column.getName());
  column=columnIterator.next();
  assertEquals("type_id",column.getName());
  assertSame(collectionTable,index.getTable());
}
