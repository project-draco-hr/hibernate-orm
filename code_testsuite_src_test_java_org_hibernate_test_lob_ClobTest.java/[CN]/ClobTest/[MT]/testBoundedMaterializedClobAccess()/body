{
  String original=buildRecursively(CLOB_SIZE,'x');
  String changed=buildRecursively(CLOB_SIZE,'y');
  Session s=openSession();
  s.beginTransaction();
  LobHolder entity=new LobHolder();
  entity.setMaterializedClob(original);
  s.save(entity);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  entity=(LobHolder)s.get(LobHolder.class,entity.getId());
  assertEquals(CLOB_SIZE,entity.getMaterializedClob().length());
  assertEquals(original,entity.getMaterializedClob());
  entity.setMaterializedClob(changed);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  entity=(LobHolder)s.get(LobHolder.class,entity.getId());
  assertEquals(CLOB_SIZE,entity.getMaterializedClob().length());
  assertEquals(changed,entity.getMaterializedClob());
  s.delete(entity);
  s.getTransaction().commit();
  s.close();
}
