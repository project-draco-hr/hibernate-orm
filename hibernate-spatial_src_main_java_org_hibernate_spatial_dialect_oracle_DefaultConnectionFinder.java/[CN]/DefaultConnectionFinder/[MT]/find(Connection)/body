{
  if (con == null) {
    return null;
  }
  if (ORACLE_CONNECTION_CLASS.isInstance(con)) {
    return con;
  }
  for (  Method method : con.getClass().getMethods()) {
    if (method.getReturnType().isAssignableFrom(java.sql.Connection.class) && method.getParameterTypes().length == 0) {
      try {
        method.setAccessible(true);
        final Connection oc=find((Connection)(method.invoke(con,new Object[]{})));
        if (oc == null) {
          throw new FinderException(String.format("Tried retrieving OracleConnection from %s using method %s, but received null.",con.getClass().getCanonicalName(),method.getName()));
        }
        return oc;
      }
 catch (      IllegalAccessException e) {
        throw new FinderException(String.format("Illegal access on executing method %s when finding OracleConnection",method.getName()));
      }
catch (      InvocationTargetException e) {
        throw new FinderException(String.format("Invocation exception on executing method %s when finding OracleConnection",method.getName()));
      }
    }
  }
  throw new FinderException("Couldn't get at the OracleSpatial Connection object from the PreparedStatement.");
}
