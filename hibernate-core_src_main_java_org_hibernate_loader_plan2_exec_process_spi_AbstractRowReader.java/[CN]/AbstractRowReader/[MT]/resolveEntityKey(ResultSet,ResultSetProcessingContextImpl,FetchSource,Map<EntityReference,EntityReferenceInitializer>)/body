{
  for (  Fetch fetch : fetchSource.getFetches()) {
    if (EntityFetch.class.isInstance(fetch)) {
      final EntityFetch entityFetch=(EntityFetch)fetch;
      final EntityReferenceInitializer targetEntityReferenceInitializer;
      if (BidirectionalEntityFetch.class.isInstance(fetch)) {
        final BidirectionalEntityFetch bidirectionalEntityFetch=(BidirectionalEntityFetch)fetch;
        targetEntityReferenceInitializer=initializerByEntityReference.get(bidirectionalEntityFetch.getTargetEntityReference());
      }
 else {
        targetEntityReferenceInitializer=initializerByEntityReference.get(entityFetch);
      }
      if (targetEntityReferenceInitializer != null) {
        resolveEntityKey(resultSet,context,targetEntityReferenceInitializer,initializerByEntityReference);
        targetEntityReferenceInitializer.hydrateEntityState(resultSet,context);
      }
    }
 else     if (CompositeFetch.class.isInstance(fetch)) {
      resolveEntityKey(resultSet,context,(CompositeFetch)fetch,initializerByEntityReference);
    }
  }
}
