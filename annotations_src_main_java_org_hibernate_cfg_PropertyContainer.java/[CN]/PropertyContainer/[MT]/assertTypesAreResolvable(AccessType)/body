{
  TreeMap<String,XProperty> xprops;
  if (AccessType.PROPERTY.equals(access) || AccessType.DEFAULT.equals(access)) {
    xprops=propertyAccessMap;
  }
 else {
    xprops=fieldAccessMap;
  }
  for (  XProperty property : xprops.values()) {
    if (!property.isTypeResolved() && !discoverTypeWithoutReflection(property)) {
      String msg="Property " + StringHelper.qualify(xClass.getName(),property.getName()) + " has an unbound type and no explicit target entity. Resolve this Generic usage issue"+ " or set an explicit target attribute (eg @OneToMany(target=) or use an explicit @Type";
      throw new AnnotationException(msg);
    }
  }
}
