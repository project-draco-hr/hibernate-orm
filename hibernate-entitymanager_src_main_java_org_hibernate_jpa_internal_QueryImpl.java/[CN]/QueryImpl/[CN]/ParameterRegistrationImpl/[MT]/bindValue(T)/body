{
  validateBinding(getParameterType(),value,null);
  if (name != null) {
    if (value instanceof TypedParameterValue) {
      final TypedParameterValue typedValueWrapper=(TypedParameterValue)value;
      nativeQuery.setParameter(name,typedValueWrapper.getValue(),typedValueWrapper.getType());
      value=(T)typedValueWrapper.getValue();
    }
 else     if (value instanceof Collection) {
      nativeQuery.setParameterList(name,(Collection)value);
    }
 else {
      nativeQuery.setParameter(name,value);
    }
  }
 else {
    if (value instanceof TypedParameterValue) {
      final TypedParameterValue typedValueWrapper=(TypedParameterValue)value;
      nativeQuery.setParameter(position,typedValueWrapper.getValue(),typedValueWrapper.getType());
      value=(T)typedValueWrapper.getValue();
    }
 else {
      nativeQuery.setParameter(position - 1,value);
    }
  }
  bind=new ParameterBindImpl<T>(value,null);
}
