{
  if (configuration == null) {
    return;
  }
 else {
    log.info("Configuring HBSpatialExtension from " + configuration.getSource());
    String dialectName=configuration.getDefaultDialect();
    if (dialectName != null) {
      SpatialDialect dialect=createSpatialDialect(dialectName);
      if (dialect != null) {
        log.info("Setting Spatial Dialect to : " + dialectName);
        setDefaultSpatialDialect(dialect);
      }
    }
    log.info("Creating default Geometry Factory");
    defaultGeomFactory=GeometryFactoryHelper.createGeometryFactory(configuration);
  }
  if (defaultSpatialDialect == null) {
    log.warn("Hibernate Spatial Configured but no spatial dialect");
  }
 else {
    log.info("Hibernate Spatial configured. Using dialect: " + defaultSpatialDialect.getClass().getCanonicalName());
  }
}
