{
  int n=persister.countSubclassProperties();
  for (int i=0; i < n; i++) {
    Type type=persister.getSubclassPropertyType(i);
    if (type.isAssociationType()) {
      walkEntityAssociationTree((AssociationType)type,persister,i,alias,path,persister.isSubclassPropertyNullable(i),currentDepth);
    }
 else     if (type.isComponentType()) {
      walkComponentTree((CompositeType)type,i,0,persister,alias,path.append(persister.getSubclassPropertyName(i)),currentDepth);
    }
  }
  final Type idType=persister.getIdentifierType();
  if (idType.isComponentType()) {
    final CompositeType cidType=(CompositeType)idType;
    if (cidType.isEmbedded()) {
      if (persister.getEntityMetamodel().getIdentifierProperty().isEmbedded()) {
        walkComponentTree(cidType,-1,0,persister,alias,path,currentDepth);
      }
    }
  }
}
