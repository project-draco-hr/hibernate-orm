{
  Type[] types=componentType.getSubtypes();
  String[] propertyNames=componentType.getPropertyNames();
  for (int i=0; i < types.length; i++) {
    if (types[i].isAssociationType()) {
      AssociationType associationType=(AssociationType)types[i];
      String[] aliasedLhsColumns=JoinHelper.getAliasedLHSColumnNames(associationType,alias,propertyNumber,begin,persister,getFactory());
      String[] lhsColumns=JoinHelper.getLHSColumnNames(associationType,propertyNumber,begin,persister,getFactory());
      String lhsTable=JoinHelper.getLHSTableName(associationType,propertyNumber,persister);
      final PropertyPath subPath=path.append(propertyNames[i]);
      final boolean[] propertyNullability=componentType.getPropertyNullability();
      final JoinType joinType=getJoinType(persister,subPath,propertyNumber,associationType,componentType.getFetchMode(i),componentType.getCascadeStyle(i),lhsTable,lhsColumns,propertyNullability == null || propertyNullability[i],currentDepth);
      addAssociationToJoinTreeIfNecessary(associationType,aliasedLhsColumns,alias,subPath,currentDepth,joinType);
    }
 else     if (types[i].isComponentType()) {
      final PropertyPath subPath=path.append(propertyNames[i]);
      walkComponentTree((CompositeType)types[i],propertyNumber,begin,persister,alias,subPath,currentDepth);
    }
    begin+=types[i].getColumnSpan(getFactory());
  }
}
