{
  final JoinType resolvedJoinType;
  if (translator.isJoin(path.getFullPath())) {
    resolvedJoinType=translator.getJoinType(path.getFullPath());
  }
 else {
    if (translator.hasProjection()) {
      resolvedJoinType=JoinType.NONE;
    }
 else {
      FetchMode fetchMode=translator.getRootCriteria().getFetchMode(path.getFullPath());
      if (isDefaultFetchMode(fetchMode)) {
        if (persister != null) {
          if (isJoinFetchEnabledByProfile(persister,path,propertyNumber)) {
            if (isDuplicateAssociation(lhsTable,lhsColumns,associationType)) {
              resolvedJoinType=JoinType.NONE;
            }
 else             if (isTooDeep(currentDepth) || (associationType.isCollectionType() && isTooManyCollections())) {
              resolvedJoinType=JoinType.NONE;
            }
 else {
              resolvedJoinType=getJoinType(nullable,currentDepth);
            }
          }
 else {
            resolvedJoinType=super.getJoinType(persister,path,propertyNumber,associationType,metadataFetchMode,metadataCascadeStyle,lhsTable,lhsColumns,nullable,currentDepth);
          }
        }
 else {
          resolvedJoinType=super.getJoinType(associationType,metadataFetchMode,path,lhsTable,lhsColumns,nullable,currentDepth,metadataCascadeStyle);
        }
      }
 else {
        if (fetchMode == FetchMode.JOIN) {
          isDuplicateAssociation(lhsTable,lhsColumns,associationType);
          resolvedJoinType=getJoinType(nullable,currentDepth);
        }
 else {
          resolvedJoinType=JoinType.NONE;
        }
      }
    }
  }
  return resolvedJoinType;
}
