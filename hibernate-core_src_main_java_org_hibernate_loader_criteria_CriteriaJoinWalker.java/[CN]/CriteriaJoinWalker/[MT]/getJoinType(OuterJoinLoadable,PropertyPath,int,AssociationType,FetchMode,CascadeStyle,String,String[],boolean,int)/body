{
  JoinType ret;
  if (translator.isJoin(path.getFullPath())) {
    ret=translator.getJoinType(path.getFullPath());
  }
 else {
    if (translator.hasProjection()) {
      ret=JoinType.NONE;
    }
 else {
      FetchMode fetchMode=translator.getRootCriteria().getFetchMode(path.getFullPath());
      if (isDefaultFetchMode(fetchMode)) {
        if (persister != null) {
          if (isJoinFetchEnabledByProfile(persister,path,propertyNumber)) {
            ret=getJoinType(nullable,currentDepth);
          }
 else {
            ret=super.getJoinType(persister,path,propertyNumber,associationType,metadataFetchMode,metadataCascadeStyle,lhsTable,lhsColumns,nullable,currentDepth);
          }
        }
 else {
          ret=super.getJoinType(associationType,metadataFetchMode,path,lhsTable,lhsColumns,nullable,currentDepth,metadataCascadeStyle);
        }
      }
 else {
        if (fetchMode == FetchMode.JOIN) {
          isDuplicateAssociation(lhsTable,lhsColumns,associationType);
          ret=getJoinType(nullable,currentDepth);
        }
 else {
          ret=JoinType.NONE;
        }
      }
    }
  }
  return ret;
}
