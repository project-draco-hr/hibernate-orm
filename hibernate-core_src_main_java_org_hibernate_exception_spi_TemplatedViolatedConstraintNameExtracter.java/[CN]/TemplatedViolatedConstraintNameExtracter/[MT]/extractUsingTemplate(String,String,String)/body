{
  int templateStartPosition=message.indexOf(templateStart);
  if (templateStartPosition < 0) {
    return null;
  }
  int start=templateStartPosition + templateStart.length();
  int end=message.lastIndexOf(templateEnd,start);
  if (end < 0) {
    end=message.length();
  }
  return message.substring(start,end);
}
