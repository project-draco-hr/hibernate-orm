{
  if (element == null) {
    return new ArrayList();
  }
  List namedQueryElementList=isNative ? element.elements("named-native-query") : element.elements("named-query");
  List namedQueries=new ArrayList();
  Iterator it=namedQueryElementList.listIterator();
  while (it.hasNext()) {
    Element subelement=(Element)it.next();
    AnnotationDescriptor ann=new AnnotationDescriptor(isNative ? NamedNativeQuery.class : NamedQuery.class);
    copyStringAttribute(ann,subelement,"name",false);
    Element queryElt=subelement.element("query");
    if (queryElt == null) {
      throw new AnnotationException("No <query> element found." + SCHEMA_VALIDATION);
    }
    copyStringElement(queryElt,ann,"query");
    List<Element> elements=subelement.elements("hint");
    buildQueryHints(elements,ann);
    String clazzName=subelement.attributeValue("result-class");
    if (StringHelper.isNotEmpty(clazzName)) {
      Class clazz;
      try {
        clazz=ReflectHelper.classForName(XMLContext.buildSafeClassName(clazzName,defaults),JPAOverriddenAnnotationReader.class);
      }
 catch (      ClassNotFoundException e) {
        throw new AnnotationException("Unable to find entity-class: " + clazzName,e);
      }
      ann.setValue("resultClass",clazz);
    }
    copyStringAttribute(ann,subelement,"result-set-mapping",false);
    namedQueries.add(AnnotationFactory.create(ann));
  }
  return namedQueries;
}
