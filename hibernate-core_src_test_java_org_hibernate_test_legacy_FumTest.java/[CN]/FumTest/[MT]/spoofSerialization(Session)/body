{
  try {
    ByteArrayOutputStream serBaOut=new ByteArrayOutputStream();
    ObjectOutputStream serOut=new ObjectOutputStream(serBaOut);
    serOut.writeObject(session);
    ByteArrayInputStream serBaIn=new ByteArrayInputStream(serBaOut.toByteArray());
    ObjectInputStream serIn=new ObjectInputStream(serBaIn);
    Session outgoing=(Session)serIn.readObject();
    return outgoing;
  }
 catch (  ClassNotFoundException cnfe) {
    throw new IOException("Unable to locate class on reconstruction");
  }
}
