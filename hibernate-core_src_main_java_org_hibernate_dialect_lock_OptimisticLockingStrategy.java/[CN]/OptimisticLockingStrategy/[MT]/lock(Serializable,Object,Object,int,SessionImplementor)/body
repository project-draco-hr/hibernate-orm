{
  if (!lockable.isVersioned()) {
    throw new OptimisticLockException("[" + lockMode + "] not supported for non-versioned entities ["+ lockable.getEntityName()+ "]");
  }
  EntityEntry entry=session.getPersistenceContext().getEntry(object);
  EventSource source=(EventSource)session;
  EntityVerifyVersionProcess verifyVersion=new EntityVerifyVersionProcess(object,entry);
  source.getActionQueue().registerProcess(verifyVersion);
}
