{
  cfg.getProperties().put(JtaPlatformInitiator.JTA_PLATFORM,AtomikosJtaPlatform.class.getName());
  cfg.getProperties().put(Environment.CONNECTION_PROVIDER,AtomikosDataSourceConnectionProvider.class.getName());
  cfg.setProperty(Environment.TRANSACTION_STRATEGY,CMTTransactionFactory.class.getName());
  cfg.setProperty(Environment.AUTO_CLOSE_SESSION,"true");
  cfg.setProperty(Environment.FLUSH_BEFORE_COMPLETION,"true");
  cfg.setProperty(Environment.RELEASE_CONNECTIONS,ConnectionReleaseMode.AFTER_STATEMENT.toString());
  cfg.setProperty(Environment.GENERATE_STATISTICS,"true");
  cfg.setProperty(Environment.USE_QUERY_CACHE,"true");
  cfg.setProperty(Environment.DEFAULT_ENTITY_MODE,EntityMode.MAP.toString());
}
