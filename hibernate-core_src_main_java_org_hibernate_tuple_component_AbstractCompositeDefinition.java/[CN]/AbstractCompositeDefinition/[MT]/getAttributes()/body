{
  return new Iterable<AttributeDefinition>(){
    @Override public Iterator<AttributeDefinition> iterator(){
      return new Iterator<AttributeDefinition>(){
        private final int numberOfAttributes=getType().getSubtypes().length;
        private int currentAttributeNumber=0;
        private int currentColumnPosition=0;
        @Override public boolean hasNext(){
          return currentAttributeNumber < numberOfAttributes;
        }
        @Override public AttributeDefinition next(){
          final int attributeNumber=currentAttributeNumber;
          currentAttributeNumber++;
          final String name=getType().getPropertyNames()[attributeNumber];
          final Type type=getType().getSubtypes()[attributeNumber];
          int columnPosition=currentColumnPosition;
          currentColumnPosition+=type.getColumnSpan(sessionFactory());
          if (type.isAssociationType()) {
            final AssociationKey associationKey;
            final AssociationType aType=(AssociationType)type;
            final Joinable joinable=aType.getAssociatedJoinable(sessionFactory());
            if (aType.getForeignKeyDirection() == ForeignKeyDirection.FOREIGN_KEY_FROM_PARENT) {
              associationKey=new AssociationKey(getLHSTableName(aType,attributeNumber(),(OuterJoinLoadable)joinable),getLHSColumnNames(aType,attributeNumber(),columnPosition,(OuterJoinLoadable)joinable,sessionFactory()));
            }
 else {
              associationKey=new AssociationKey(joinable.getTableName(),getRHSColumnNames(aType,sessionFactory()));
            }
            return new CompositeBasedAssociationAttribute(AbstractCompositeDefinition.this,sessionFactory(),currentAttributeNumber,name,(AssociationType)type,new BaselineAttributeInformation.Builder().setInsertable(AbstractCompositeDefinition.this.isInsertable()).setUpdateable(AbstractCompositeDefinition.this.isUpdateable()).setInsertGenerated(AbstractCompositeDefinition.this.isInsertGenerated()).setUpdateGenerated(AbstractCompositeDefinition.this.isUpdateGenerated()).setNullable(getType().getPropertyNullability()[currentAttributeNumber]).setDirtyCheckable(true).setVersionable(AbstractCompositeDefinition.this.isVersionable()).setCascadeStyle(getType().getCascadeStyle(currentAttributeNumber)).setFetchMode(getType().getFetchMode(currentAttributeNumber)).createInformation(),AbstractCompositeDefinition.this.attributeNumber(),associationKey);
          }
 else           if (type.isComponentType()) {
            return new CompositeBasedCompositeAttribute(AbstractCompositeDefinition.this,sessionFactory(),currentAttributeNumber,name,(CompositeType)type,new BaselineAttributeInformation.Builder().setInsertable(AbstractCompositeDefinition.this.isInsertable()).setUpdateable(AbstractCompositeDefinition.this.isUpdateable()).setInsertGenerated(AbstractCompositeDefinition.this.isInsertGenerated()).setUpdateGenerated(AbstractCompositeDefinition.this.isUpdateGenerated()).setNullable(getType().getPropertyNullability()[currentAttributeNumber]).setDirtyCheckable(true).setVersionable(AbstractCompositeDefinition.this.isVersionable()).setCascadeStyle(getType().getCascadeStyle(currentAttributeNumber)).setFetchMode(getType().getFetchMode(currentAttributeNumber)).createInformation());
          }
 else {
            return new CompositeBasedBasicAttribute(AbstractCompositeDefinition.this,sessionFactory(),currentAttributeNumber,name,type,new BaselineAttributeInformation.Builder().setInsertable(AbstractCompositeDefinition.this.isInsertable()).setUpdateable(AbstractCompositeDefinition.this.isUpdateable()).setInsertGenerated(AbstractCompositeDefinition.this.isInsertGenerated()).setUpdateGenerated(AbstractCompositeDefinition.this.isUpdateGenerated()).setNullable(getType().getPropertyNullability()[currentAttributeNumber]).setDirtyCheckable(true).setVersionable(AbstractCompositeDefinition.this.isVersionable()).setCascadeStyle(getType().getCascadeStyle(currentAttributeNumber)).setFetchMode(getType().getFetchMode(currentAttributeNumber)).createInformation());
          }
        }
        @Override public void remove(){
          throw new UnsupportedOperationException("Remove operation not supported here");
        }
      }
;
    }
  }
;
}
