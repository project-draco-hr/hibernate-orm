{
  final String databaseName=metaData.getDatabaseProductName();
  final int databaseMajorVersion=metaData.getDatabaseMajorVersion();
  if (matchingName.equalsIgnoreCase(databaseName) && (matchingVersion == VERSION_INSENSITIVE_VERSION || matchingVersion == databaseMajorVersion)) {
    try {
      return (Dialect)dialectClass.newInstance();
    }
 catch (    HibernateException e) {
      throw e;
    }
catch (    Throwable t) {
      throw new HibernateException("Could not instantiate specified Dialect class [" + dialectClass.getName() + "]",t);
    }
  }
  return null;
}
