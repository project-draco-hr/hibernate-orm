{
  try {
    if ("close".equals(method.getName())) {
      unbind(realSession.getSessionFactory());
    }
 else     if ("toString".equals(method.getName()) || "equals".equals(method.getName()) || "hashCode".equals(method.getName())|| "getStatistics".equals(method.getName())|| "isOpen".equals(method.getName())|| "getListeners".equals(method.getName())) {
    }
 else     if (!realSession.isOpen()) {
    }
 else     if (!realSession.getTransaction().isActive()) {
      if ("beginTransaction".equals(method.getName()) || "getTransaction".equals(method.getName()) || "isTransactionInProgress".equals(method.getName())|| "setFlushMode".equals(method.getName())|| "getFactory".equals(method.getName())|| "getSessionFactory".equals(method.getName())) {
        LOG.trace("Allowing method [" + method.getName() + "] in non-transacted context");
      }
 else       if ("reconnect".equals(method.getName()) || "disconnect".equals(method.getName())) {
      }
 else {
        throw new HibernateException(method.getName() + " is not valid without active transaction");
      }
    }
    LOG.trace("Allowing proxied method [" + method.getName() + "] to proceed to real session");
    return method.invoke(realSession,args);
  }
 catch (  InvocationTargetException e) {
    if (e.getTargetException() instanceof RuntimeException)     throw (RuntimeException)e.getTargetException();
    throw e;
  }
}
