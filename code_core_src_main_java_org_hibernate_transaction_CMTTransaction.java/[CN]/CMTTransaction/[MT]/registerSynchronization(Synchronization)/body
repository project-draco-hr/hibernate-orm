{
  try {
    getTransaction().registerSynchronization(sync);
  }
 catch (  Exception e) {
    throw new TransactionException("Could not register synchronization",e);
  }
}
