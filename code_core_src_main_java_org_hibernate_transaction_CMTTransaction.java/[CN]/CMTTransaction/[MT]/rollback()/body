{
  if (!begun) {
    throw new TransactionException("Transaction not successfully started");
  }
  log.debug("rollback");
  try {
    getTransaction().setRollbackOnly();
  }
 catch (  SystemException se) {
    log.error("Could not set transaction to rollback only",se);
    throw new TransactionException("Could not set transaction to rollback only",se);
  }
  begun=false;
}
