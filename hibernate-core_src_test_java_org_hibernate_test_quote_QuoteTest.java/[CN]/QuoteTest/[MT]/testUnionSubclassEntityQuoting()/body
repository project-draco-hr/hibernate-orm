{
  Session s=openSession();
  s.beginTransaction();
  Container container1=new Container();
  Container container2=new Container();
  SimpleItem simpleItem=new SimpleItem();
  container1.items.add(container2);
  container1.items.add(simpleItem);
  container2.parent=container1;
  simpleItem.parent=container1;
  s.persist(simpleItem);
  s.persist(container2);
  s.persist(container1);
  s.getTransaction().commit();
  s.clear();
  Container result=(Container)s.get(Container.class,container1.id);
  assertNotNull(result);
  assertNotNull(result.items);
  assertEquals(2,result.items.size());
}
