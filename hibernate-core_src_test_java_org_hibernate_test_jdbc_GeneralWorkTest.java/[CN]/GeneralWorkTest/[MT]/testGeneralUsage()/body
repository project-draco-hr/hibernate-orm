{
  final Session session=openSession();
  session.beginTransaction();
  session.doWork(new Work(){
    public void execute(    Connection connection) throws SQLException {
      Statement statement=null;
      try {
        statement=((SessionImplementor)session).getTransactionCoordinator().getJdbcCoordinator().getStatementPreparer().createStatement();
        ResultSet resultSet=null;
        try {
          resultSet=((SessionImplementor)session).getTransactionCoordinator().getJdbcCoordinator().getResultSetReturn().extract(statement,"select * from T_JDBC_PERSON");
        }
  finally {
          releaseQuietly(((SessionImplementor)session),resultSet);
        }
        try {
          ((SessionImplementor)session).getTransactionCoordinator().getJdbcCoordinator().getResultSetReturn().extract(statement,"select * from T_JDBC_BOAT");
        }
  finally {
          releaseQuietly(((SessionImplementor)session),resultSet);
        }
      }
  finally {
        releaseQuietly(((SessionImplementor)session),statement);
      }
    }
  }
);
  session.getTransaction().commit();
  session.close();
}
