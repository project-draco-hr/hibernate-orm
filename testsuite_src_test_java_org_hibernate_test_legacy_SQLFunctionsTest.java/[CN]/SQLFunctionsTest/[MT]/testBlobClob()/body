{
  Session s=openSession();
  Blobber b=new Blobber();
  b.setBlob(s.getLobHelper().createBlob("foo/bar/baz".getBytes()));
  b.setClob(s.getLobHelper().createClob("foo/bar/baz"));
  s.save(b);
  s.flush();
  if (getDialect() instanceof SybaseDialect || getDialect() instanceof Sybase11Dialect || getDialect() instanceof SybaseASE15Dialect|| getDialect() instanceof SybaseAnywhereDialect) {
    s.connection().rollback();
    s.close();
    return;
  }
  s.refresh(b);
  b.getClob().getSubString(2,3);
  s.flush();
  s.connection().commit();
  s.close();
  s=openSession();
  b=(Blobber)s.load(Blobber.class,new Integer(b.getId()));
  Blobber b2=new Blobber();
  s.save(b2);
  b2.setBlob(b.getBlob());
  b.setBlob(null);
  b.getClob().getSubString(1,6);
  s.flush();
  s.connection().commit();
  s.close();
  s=openSession();
  b=(Blobber)s.load(Blobber.class,new Integer(b.getId()));
  b.setClob(s.getLobHelper().createClob("xcvfxvc xcvbx cvbx cvbx cvbxcvbxcvbxcvb"));
  s.flush();
  s.connection().commit();
  s.close();
  s=openSession();
  b=(Blobber)s.load(Blobber.class,new Integer(b.getId()));
  assertTrue(b.getClob().getSubString(1,7).equals("xcvfxvc"));
  s.flush();
  s.connection().commit();
  s.close();
}
