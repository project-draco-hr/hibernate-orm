{
  Class persisterClass=model.getCollectionPersisterClass();
  if (persisterClass == null) {
    return model.isOneToMany() ? (CollectionPersister)new OneToManyPersister(model,cacheAccessStrategy,cfg,factory) : (CollectionPersister)new BasicCollectionPersister(model,cacheAccessStrategy,cfg,factory);
  }
 else {
    return create(persisterClass,cfg,model,cacheAccessStrategy,factory);
  }
}
