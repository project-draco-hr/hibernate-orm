{
  final JavassistLazyInitializer instance=new JavassistLazyInitializer(entityName,persistentClass,interfaces,id,getIdentifierMethod,setIdentifierMethod,componentIdType,session,classOverridesEquals);
  final HibernateProxy proxy;
  try {
    proxy=(HibernateProxy)factory.newInstance();
  }
 catch (  Exception e) {
    throw new HibernateException("Javassist Enhancement failed: " + persistentClass.getName(),e);
  }
  ((Proxy)proxy).setHandler(instance);
  instance.constructed=true;
  return proxy;
}
