{
  final XClass declaringClass=propertyContainer.getDeclaringClass();
  final XClass entity=propertyContainer.getEntityAtStake();
  int idPropertyCounter=0;
  PropertyData propertyAnnotatedElement=new PropertyInferredData(declaringClass,property,propertyAccessor,mappings.getReflectionManager());
  final XAnnotatedElement element=propertyAnnotatedElement.getProperty();
  if (element.isAnnotationPresent(Id.class) || element.isAnnotationPresent(EmbeddedId.class)) {
    annElts.add(0,propertyAnnotatedElement);
    if (element.isAnnotationPresent(ManyToOne.class) || element.isAnnotationPresent(OneToOne.class)) {
      mappings.addToOneAndIdProperty(entity,propertyAnnotatedElement);
    }
    idPropertyCounter++;
  }
 else {
    annElts.add(propertyAnnotatedElement);
  }
  if (element.isAnnotationPresent(MapsId.class)) {
    mappings.addPropertyAnnotatedWithMapsId(entity,propertyAnnotatedElement);
  }
  return idPropertyCounter;
}
