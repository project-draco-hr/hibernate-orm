{
  EntityManager em=factory.createEntityManager();
  em.getTransaction().begin();
  Umbrella umbrella=new Umbrella();
  umbrella.setId(new Umbrella.PK());
  umbrella.getId().setBrand("Burberry");
  umbrella.getId().setModel("Red Hat");
  em.persist(umbrella);
  em.flush();
  assertEquals(umbrella.getId(),em.getEntityManagerFactory().getPersistenceUnitUtil().getIdentifier(umbrella));
  em.getTransaction().rollback();
  em.close();
}
