{
  if (fetch instanceof EntityFetch) {
    EntityFetch entityFetch=(EntityFetch)fetch;
    final ResultSetProcessingContext.EntityReferenceProcessingState entityReferenceProcessingState=context.getProcessingState(entityFetch);
    if (entityReferenceProcessingState.getEntityKey() != null) {
      return;
    }
    EntityKey fetchKey=entityFetch.resolveInIdentifier(resultSet,context);
    entityReferenceProcessingState.registerEntityKey(fetchKey);
  }
 else   if (fetch instanceof CompositeFetch) {
    for (    Fetch subFetch : ((CompositeFetch)fetch).getFetches()) {
      resolveIdentifierFetch(resultSet,context,subFetch);
    }
  }
}
