{
  for (  Fetch fetch : identifierFetches) {
    resolveIdentifierFetch(resultSet,context,fetch);
  }
  final IdentifierResolutionContext ownerIdentifierResolutionContext=context.getIdentifierResolutionContext(entityReference);
  Object hydratedState=ownerIdentifierResolutionContext.getHydratedForm();
  Serializable resolvedId=(Serializable)entityReference.getEntityPersister().getIdentifierType().resolve(hydratedState,context.getSession(),null);
  return context.getSession().generateEntityKey(resolvedId,entityReference.getEntityPersister());
}
