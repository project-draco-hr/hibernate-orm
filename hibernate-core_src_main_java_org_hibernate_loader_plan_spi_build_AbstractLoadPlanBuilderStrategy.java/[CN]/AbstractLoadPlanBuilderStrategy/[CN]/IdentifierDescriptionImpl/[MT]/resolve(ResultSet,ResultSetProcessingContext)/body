{
  for (  Fetch fetch : identifierFetches) {
    resolveIdentifierFetch(resultSet,context,fetch);
  }
  final ResultSetProcessingContext.EntityReferenceProcessingState ownerEntityReferenceProcessingState=context.getProcessingState(entityReference);
  Object hydratedState=ownerEntityReferenceProcessingState.getIdentifierHydratedForm();
  Serializable resolvedId=(Serializable)entityReference.getEntityPersister().getIdentifierType().resolve(hydratedState,context.getSession(),null);
  return context.getSession().generateEntityKey(resolvedId,entityReference.getEntityPersister());
}
