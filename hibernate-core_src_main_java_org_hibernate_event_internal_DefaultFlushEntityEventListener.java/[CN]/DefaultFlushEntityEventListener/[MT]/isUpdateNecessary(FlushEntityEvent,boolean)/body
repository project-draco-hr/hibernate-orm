{
  final Status status=event.getEntityEntry().getStatus();
  if (mightBeDirty || status == Status.DELETED) {
    dirtyCheck(event);
    if (isUpdateNecessary(event)) {
      return true;
    }
 else {
      if (SelfDirtinessTracker.class.isInstance(event.getEntity())) {
        ((SelfDirtinessTracker)event.getEntity()).$$_hibernate_clearDirtyAttributes();
      }
      event.getSession().getFactory().getCustomEntityDirtinessStrategy().resetDirty(event.getEntity(),event.getEntityEntry().getPersister(),event.getSession());
      return false;
    }
  }
 else {
    return hasDirtyCollections(event,event.getEntityEntry().getPersister(),status);
  }
}
