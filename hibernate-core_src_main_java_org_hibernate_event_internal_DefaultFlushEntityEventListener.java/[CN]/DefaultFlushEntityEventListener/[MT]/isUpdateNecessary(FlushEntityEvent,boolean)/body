{
  final Status status=event.getEntityEntry().getStatus();
  if (mightBeDirty || status == Status.DELETED) {
    dirtyCheck(event);
    if (isUpdateNecessary(event)) {
      return true;
    }
 else {
      if (event.getEntityEntry().getPersister().getInstrumentationMetadata().isInstrumented()) {
        event.getEntityEntry().getPersister().getInstrumentationMetadata().extractInterceptor(event.getEntity()).clearDirty();
      }
      event.getSession().getFactory().getCustomEntityDirtinessStrategy().resetDirty(event.getEntity(),event.getEntityEntry().getPersister(),event.getSession());
      return false;
    }
  }
 else {
    return hasDirtyCollections(event,event.getEntityEntry().getPersister(),status);
  }
}
