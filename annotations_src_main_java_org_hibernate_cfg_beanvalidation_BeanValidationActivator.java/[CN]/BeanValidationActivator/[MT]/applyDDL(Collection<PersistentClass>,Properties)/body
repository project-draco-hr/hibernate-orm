{
  Set<ValidationMode> modes=ValidationMode.getModes(properties.get(MODE_PROPERTY));
  if (!(modes.contains(ValidationMode.DDL) || modes.contains(ValidationMode.AUTO)))   return;
  try {
    ReflectHelper.classForName(BV_DISCOVERY_CLASS,BeanValidationActivator.class);
  }
 catch (  ClassNotFoundException e) {
    if (modes.contains(ValidationMode.DDL)) {
      throw new HibernateException("Bean Validation not available in the class path but required in " + MODE_PROPERTY);
    }
 else     if (modes.contains(ValidationMode.AUTO)) {
      return;
    }
  }
  try {
    Class<?> activator=ReflectHelper.classForName(TYPE_SAFE_ACTIVATOR_CLASS,BeanValidationActivator.class);
    Method applyDDL=activator.getMethod(TYPE_SAFE_DDL_METHOD,Collection.class,Properties.class);
    applyDDL.invoke(null,persistentClasses,properties);
  }
 catch (  NoSuchMethodException e) {
    throw new HibernateException("Unable to get the default Bean Validation factory",e);
  }
catch (  IllegalAccessException e) {
    throw new HibernateException("Unable to get the default Bean Validation factory",e);
  }
catch (  InvocationTargetException e) {
    throw new HibernateException("Unable to get the default Bean Validation factory",e);
  }
catch (  ClassNotFoundException e) {
    throw new HibernateException("Unable to get the default Bean Validation factory",e);
  }
}
