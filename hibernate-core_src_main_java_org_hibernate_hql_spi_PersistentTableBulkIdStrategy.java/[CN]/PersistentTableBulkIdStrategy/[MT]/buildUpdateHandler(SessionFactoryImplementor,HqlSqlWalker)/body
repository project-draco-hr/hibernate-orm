{
  return new TableBasedUpdateHandlerImpl(factory,walker){
    @Override protected String extraIdSelectValues(){
      return "cast(? as char)";
    }
    @Override protected String generateIdSubselect(    Queryable persister){
      return super.generateIdSubselect(persister) + " where hib_sess_id=?";
    }
    @Override protected int handlePrependedParametersOnIdSelection(    PreparedStatement ps,    SessionImplementor session,    int pos) throws SQLException {
      if (!AbstractSessionImpl.class.isInstance(session)) {
        throw new HibernateException("Only available on SessionImpl instances");
      }
      UUIDCharType.INSTANCE.set(ps,((AbstractSessionImpl)session).getSessionIdentifier(),pos,session);
      return 1;
    }
    @Override protected void handleAddedParametersOnUpdate(    PreparedStatement ps,    SessionImplementor session,    int position) throws SQLException {
      if (!AbstractSessionImpl.class.isInstance(session)) {
        throw new HibernateException("Only available on SessionImpl instances");
      }
      UUIDCharType.INSTANCE.set(ps,((AbstractSessionImpl)session).getSessionIdentifier(),position,session);
    }
  }
;
}
