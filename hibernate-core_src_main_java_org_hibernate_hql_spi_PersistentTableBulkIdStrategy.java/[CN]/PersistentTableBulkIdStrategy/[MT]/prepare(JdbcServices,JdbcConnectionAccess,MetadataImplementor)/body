{
  final ConfigurationService configService=metadata.getMetadataBuildingOptions().getServiceRegistry().getService(ConfigurationService.class);
  this.catalog=configService.getSetting(CATALOG,StandardConverters.STRING,configService.getSetting(AvailableSettings.DEFAULT_CATALOG,StandardConverters.STRING));
  this.schema=configService.getSetting(SCHEMA,StandardConverters.STRING,configService.getSetting(AvailableSettings.DEFAULT_SCHEMA,StandardConverters.STRING));
  this.cleanUpTables=configService.getSetting(CLEAN_UP_ID_TABLES,StandardConverters.BOOLEAN,false);
  final List<Table> idTableDefinitions=new ArrayList<Table>();
  for (  PersistentClass entityBinding : metadata.getEntityBindings()) {
    final Table idTableDefinition=generateIdTableDefinition(entityBinding,metadata);
    idTableDefinitions.add(idTableDefinition);
  }
  exportTableDefinitions(idTableDefinitions,jdbcServices,connectionAccess,metadata);
}
