{
  SharedCacheMode mode;
  final Object value=mappings.getConfigurationProperties().get("javax.persistence.sharedCache.mode");
  if (value == null) {
    LOG.sharedCacheModeNotFound();
    mode=SharedCacheMode.UNSPECIFIED;
  }
 else {
    if (SharedCacheMode.class.isInstance(value)) {
      mode=(SharedCacheMode)value;
    }
 else {
      try {
        mode=SharedCacheMode.valueOf(value.toString());
      }
 catch (      Exception e) {
        LOG.invalidSharedCacheMode(value,e);
        mode=SharedCacheMode.UNSPECIFIED;
      }
    }
  }
  return mode;
}
