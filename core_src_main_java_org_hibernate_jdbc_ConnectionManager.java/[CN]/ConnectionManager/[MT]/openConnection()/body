{
  if (connection != null) {
    return;
  }
  log.debug("opening JDBC connection");
  try {
    connection=factory.getConnectionProvider().getConnection();
  }
 catch (  SQLException sqle) {
    throw JDBCExceptionHelper.convert(factory.getSQLExceptionConverter(),sqle,"Cannot open connection");
  }
  callback.connectionOpened();
}
