{
  PersistenceUnitInfoAdapter empty=new PersistenceUnitInfoAdapter();
{
    EntityManagerFactoryBuilderImpl builder=(EntityManagerFactoryBuilderImpl)Bootstrap.getEntityManagerFactoryBuilder(empty,Collections.singletonMap(AvailableSettings.SHARED_CACHE_MODE,SharedCacheMode.DISABLE_SELECTIVE));
    assertEquals(SharedCacheMode.DISABLE_SELECTIVE,builder.getConfigurationValues().get(AvailableSettings.SHARED_CACHE_MODE));
  }
{
    EntityManagerFactoryBuilderImpl builder=(EntityManagerFactoryBuilderImpl)Bootstrap.getEntityManagerFactoryBuilder(empty,Collections.singletonMap(AvailableSettings.SHARED_CACHE_MODE,SharedCacheMode.DISABLE_SELECTIVE.name()));
    assertEquals(SharedCacheMode.DISABLE_SELECTIVE.name(),builder.getConfigurationValues().get(AvailableSettings.SHARED_CACHE_MODE));
  }
  PersistenceUnitInfoAdapter adapter=new PersistenceUnitInfoAdapter(){
    @Override public SharedCacheMode getSharedCacheMode(){
      return SharedCacheMode.ENABLE_SELECTIVE;
    }
  }
;
{
    EntityManagerFactoryBuilderImpl builder=(EntityManagerFactoryBuilderImpl)Bootstrap.getEntityManagerFactoryBuilder(adapter,null);
    assertEquals(SharedCacheMode.ENABLE_SELECTIVE,builder.getConfigurationValues().get(AvailableSettings.SHARED_CACHE_MODE));
  }
{
    EntityManagerFactoryBuilderImpl builder=(EntityManagerFactoryBuilderImpl)Bootstrap.getEntityManagerFactoryBuilder(adapter,Collections.singletonMap(AvailableSettings.SHARED_CACHE_MODE,SharedCacheMode.DISABLE_SELECTIVE));
    assertEquals(SharedCacheMode.DISABLE_SELECTIVE,builder.getConfigurationValues().get(AvailableSettings.SHARED_CACHE_MODE));
  }
}
