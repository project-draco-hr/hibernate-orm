{
  this.entityManagerFactory=entityManagerFactory;
  this.persistenceContextType=type;
  this.synchronizationType=synchronizationType;
  this.transactionType=transactionType;
  this.lockOptions=new LockOptions();
  this.properties=new HashMap<String,Object>();
  for (  String key : entityManagerSpecificProperties) {
    if (entityManagerFactory.getProperties().containsKey(key)) {
      this.properties.put(key,entityManagerFactory.getProperties().get(key));
    }
    if (properties != null && properties.containsKey(key)) {
      this.properties.put(key,properties.get(key));
    }
  }
}
