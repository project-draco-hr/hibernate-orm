{
  super(entityManagerFactory,null);
  this.entityManagerFactory=entityManagerFactory;
  this.synchronizationType=synchronizationType;
  this.transactionType=transactionType;
  this.lockOptions=new LockOptions();
  this.properties=new HashMap<>();
  for (  String key : ENTITY_MANAGER_SPECIFIC_PROPERTIES) {
    if (entityManagerFactory.getProperties().containsKey(key)) {
      this.properties.put(key,entityManagerFactory.getProperties().get(key));
    }
    if (properties != null && properties.containsKey(key)) {
      this.properties.put(key,properties.get(key));
    }
  }
}
