{
  checkOpen();
  if (!contains(entity)) {
    throw convert(new IllegalArgumentException("entity not in the persistence context"));
  }
  return getLockModeType(internalGetSession().getCurrentLockMode(entity));
}
