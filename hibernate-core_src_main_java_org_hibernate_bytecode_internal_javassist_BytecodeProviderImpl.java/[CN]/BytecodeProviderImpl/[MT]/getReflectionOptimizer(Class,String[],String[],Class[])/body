{
  FastClass fastClass;
  BulkAccessor bulkAccessor;
  try {
    fastClass=FastClass.create(clazz);
    bulkAccessor=BulkAccessor.create(clazz,getterNames,setterNames,types);
    if (!clazz.isInterface() && !Modifier.isAbstract(clazz.getModifiers())) {
      if (fastClass == null) {
        bulkAccessor=null;
      }
 else {
        final Object instance=fastClass.newInstance();
        bulkAccessor.setPropertyValues(instance,bulkAccessor.getPropertyValues(instance));
      }
    }
  }
 catch (  Throwable t) {
    fastClass=null;
    bulkAccessor=null;
    if (LOG.isDebugEnabled()) {
      int index=0;
      if (t instanceof BulkAccessorException) {
        index=((BulkAccessorException)t).getIndex();
      }
      if (index >= 0) {
        LOG.debugf("Reflection optimizer disabled for %s [%s: %s (property %s)]",clazz.getName(),StringHelper.unqualify(t.getClass().getName()),t.getMessage(),setterNames[index]);
      }
 else {
        LOG.debugf("Reflection optimizer disabled for %s [%s: %s]",clazz.getName(),StringHelper.unqualify(t.getClass().getName()),t.getMessage());
      }
    }
  }
  if (fastClass != null && bulkAccessor != null) {
    return new ReflectionOptimizerImpl(new InstantiationOptimizerAdapter(fastClass),new AccessOptimizerAdapter(bulkAccessor,clazz));
  }
  return null;
}
