{
  try {
    ResultSet rs=session.getJdbcCoordinator().getResultSetReturn().extract(st);
    rs=wrapResultSetIfEnabled(rs,session);
    if (!limitHandler.supportsLimitOffset() || !LimitHelper.useLimit(limitHandler,selection)) {
      advance(rs,selection);
    }
    if (autodiscovertypes) {
      autoDiscoverTypes(rs);
    }
    return rs;
  }
 catch (  SQLException sqle) {
    session.getJdbcCoordinator().getResourceRegistry().release(st);
    session.getJdbcCoordinator().afterStatementExecution();
    throw sqle;
  }
catch (  HibernateException he) {
    session.getJdbcCoordinator().getResourceRegistry().release(st);
    session.getJdbcCoordinator().afterStatementExecution();
    throw he;
  }
}
