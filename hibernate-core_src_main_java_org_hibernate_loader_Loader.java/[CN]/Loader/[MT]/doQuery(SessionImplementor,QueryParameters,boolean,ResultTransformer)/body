{
  final RowSelection selection=queryParameters.getRowSelection();
  final int maxRows=LimitHelper.hasMaxRows(selection) ? selection.getMaxRows() : Integer.MAX_VALUE;
  final List<AfterLoadAction> afterLoadActions=new ArrayList<AfterLoadAction>();
  final SqlStatementWrapper wrapper=executeQueryStatement(queryParameters,false,afterLoadActions,session);
  final ResultSet rs=wrapper.getResultSet();
  final Statement st=wrapper.getStatement();
  try {
    return processResultSet(rs,queryParameters,session,returnProxies,forcedResultTransformer,maxRows,afterLoadActions);
  }
  finally {
    session.getTransactionCoordinator().getJdbcCoordinator().release(st);
  }
}
