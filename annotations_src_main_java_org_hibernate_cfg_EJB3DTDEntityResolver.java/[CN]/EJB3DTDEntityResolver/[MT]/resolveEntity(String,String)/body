{
  log.trace("Resolving XML entity {} : {}",publicId,systemId);
  InputSource is=super.resolveEntity(publicId,systemId);
  if (is == null) {
    if (systemId != null) {
      if (systemId.endsWith("orm_1_0.xsd")) {
        InputStream dtdStream=getStreamFromClasspath("orm_1_0.xsd");
        final InputSource source=buildInputSource(publicId,systemId,dtdStream,false);
        if (source != null)         return source;
      }
 else       if (systemId.endsWith("orm_2_0.xsd")) {
        InputStream dtdStream=getStreamFromClasspath("orm_2_0.xsd");
        final InputSource source=buildInputSource(publicId,systemId,dtdStream,false);
        if (source != null)         return source;
      }
 else       if (systemId.endsWith("persistence_1_0.xsd")) {
        InputStream dtdStream=getStreamFromClasspath("persistence_1_0.xsd");
        final InputSource source=buildInputSource(publicId,systemId,dtdStream,true);
        if (source != null)         return source;
      }
 else       if (systemId.endsWith("persistence_2_0.xsd")) {
        InputStream dtdStream=getStreamFromClasspath("persistence_2_0.xsd");
        final InputSource source=buildInputSource(publicId,systemId,dtdStream,true);
        if (source != null)         return source;
      }
    }
  }
 else {
    resolved=true;
    return is;
  }
  return null;
}
