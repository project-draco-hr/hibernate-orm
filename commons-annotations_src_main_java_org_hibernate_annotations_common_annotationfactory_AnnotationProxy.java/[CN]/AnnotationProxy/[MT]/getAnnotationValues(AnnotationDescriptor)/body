{
  Map<Method,Object> result=new HashMap<Method,Object>();
  int processedValuesFromDescriptor=0;
  for (  Method m : annotationType.getDeclaredMethods()) {
    if (descriptor.containsElement(m.getName())) {
      result.put(m,descriptor.valueOf(m.getName()));
      processedValuesFromDescriptor++;
    }
 else     if (m.getDefaultValue() != null) {
      result.put(m,m.getDefaultValue());
    }
 else {
      throw new IllegalArgumentException("No value provided for " + m.getName());
    }
  }
  if (processedValuesFromDescriptor != descriptor.numberOfElements()) {
    throw new RuntimeException("Trying to instanciate " + annotationType + " with unknown elements");
  }
  return result;
}
