{
  final FetchSource fetchSource=fetch.getSource();
  if (EntityReference.class.isInstance(fetchSource)) {
    return (EntityReference)fetchSource;
  }
 else   if (CompositeFetch.class.isInstance(fetchSource)) {
    return resolveFetchSourceEntityReference((CompositeFetch)fetchSource);
  }
  throw new IllegalStateException(String.format("Cannot resolve FetchOwner [%s] of Fetch [%s (%s)] to an EntityReference",fetchSource,fetch,fetch.getPropertyPath()));
}
