{
  ClassLoader cl=YLogManager.class.getClassLoader();
  try {
    Class<?> logFactoryClass=cl.loadClass("org.apache.commons.logging.LogFactory");
    try {
      getLogMethod=logFactoryClass.getMethod("getLog",Class.class);
      argClass=Object.class;
    }
 catch (    NoSuchMethodException e) {
      throw new VersionsException("No 'getLog' method in org.apache.commons.logging.LogFactory.");
    }
  }
 catch (  ClassNotFoundException e) {
    try {
      Class<?> loggerFactoryClass=cl.loadClass("org.slf4j.LoggerFactory");
      try {
        getLogMethod=loggerFactoryClass.getMethod("getLogger",Class.class);
        argClass=String.class;
      }
 catch (      NoSuchMethodException e1) {
        throw new VersionsException("No 'getLogger' method in org.slf4j.LoggerFactory.");
      }
    }
 catch (    ClassNotFoundException e1) {
      throw new VersionsException("No org.apache.commons.logging.LogFactory or org.slf4j.LoggerFactory found.");
    }
  }
}
