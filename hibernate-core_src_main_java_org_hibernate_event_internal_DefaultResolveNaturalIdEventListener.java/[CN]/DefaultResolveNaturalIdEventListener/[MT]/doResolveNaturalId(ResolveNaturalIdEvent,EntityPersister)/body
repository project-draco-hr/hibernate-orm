{
  if (LOG.isTraceEnabled())   LOG.trace("Attempting to resolve: " + MessageHelper.infoString(persister,event.getNaturalId(),event.getSession().getFactory()));
  Serializable entityId=loadFromSessionCache(event,persister);
  if (entityId == REMOVED_ENTITY_MARKER) {
    LOG.debugf("Load request found matching entity in context, but it is scheduled for removal; returning null");
    return null;
  }
  if (entityId == INCONSISTENT_RTN_CLASS_MARKER) {
    LOG.debugf("Load request found matching entity in context, but the matched entity was of an inconsistent return type; returning null");
    return null;
  }
  if (entityId != null) {
    if (LOG.isTraceEnabled())     LOG.trace("Resolved object in session cache: " + MessageHelper.infoString(persister,event.getNaturalId(),event.getSession().getFactory()));
    return entityId;
  }
  entityId=loadFromSecondLevelCache(event,persister);
  if (entityId != null) {
    if (LOG.isTraceEnabled())     LOG.trace("Resolved object in second-level cache: " + MessageHelper.infoString(persister,event.getNaturalId(),event.getSession().getFactory()));
    return entityId;
  }
  if (LOG.isTraceEnabled())   LOG.trace("Object not resolved in any cache: " + MessageHelper.infoString(persister,event.getNaturalId(),event.getSession().getFactory()));
  return loadFromDatasource(event,persister);
}
