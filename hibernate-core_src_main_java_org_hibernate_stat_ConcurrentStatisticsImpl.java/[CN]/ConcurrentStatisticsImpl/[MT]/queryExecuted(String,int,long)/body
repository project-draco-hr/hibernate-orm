{
  PERF_LOG.info("HQL: {}, time: {}ms, rows: {}",new Object[]{hql,Long.valueOf(time),Long.valueOf(rows)});
  queryExecutionCount.getAndIncrement();
  boolean isLongestQuery=false;
  for (long old=queryExecutionMaxTime.get(); (isLongestQuery=time > old) && (!queryExecutionMaxTime.compareAndSet(old,time)); old=queryExecutionMaxTime.get()) {
  }
  if (isLongestQuery) {
    queryExecutionMaxTimeQueryString=hql;
  }
  if (hql != null) {
    ConcurrentQueryStatisticsImpl qs=(ConcurrentQueryStatisticsImpl)getQueryStatistics(hql);
    qs.executed(rows,time);
  }
}
