{
  if (component != null) {
    String[] propertyNames=type.getPropertyNames();
    Object[] values=type.getPropertyValues(component,getEntityMode(criteria,criteriaQuery));
    Type[] subtypes=type.getSubtypes();
    for (int i=0; i < propertyNames.length; i++) {
      String subpath=StringHelper.qualify(path,propertyNames[i]);
      Object value=values[i];
      if (isPropertyIncluded(value,subpath,subtypes[i])) {
        Type subtype=subtypes[i];
        if (subtype.isComponentType()) {
          appendComponentCondition(subpath,value,(AbstractComponentType)subtype,criteria,criteriaQuery,buf);
        }
 else {
          appendPropertyCondition(subpath,value,criteria,criteriaQuery,buf);
        }
      }
    }
  }
}
