{
  Session session=openSession();
  session.getSessionFactory().getStatistics().clear();
  session.beginTransaction();
  Another it=new Another("it");
  session.save(it);
  Serializable id=it.getId();
  session.getTransaction().commit();
  session.close();
  session=openSession();
  for (int i=0; i < 10; i++) {
    session.beginTransaction();
    it=session.byId(Another.class).load(id);
    if (i == 9) {
      it.setName("name" + i);
    }
    it.setSurname("surname" + i);
    session.getTransaction().commit();
  }
  session=openSession();
  session.beginTransaction();
  it=session.bySimpleNaturalId(Another.class).load("it");
  assertNull(it);
  assertEquals(0,session.getSessionFactory().getStatistics().getNaturalIdCacheHitCount());
  it=session.byId(Another.class).load(id);
  session.delete(it);
  session.getTransaction().commit();
  session.close();
  assertEquals(2,session.getSessionFactory().getStatistics().getNaturalIdCachePutCount());
}
