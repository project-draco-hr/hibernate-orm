{
  byte[] original=buildRecursively(ARRAY_SIZE,true);
  byte[] changed=buildRecursively(ARRAY_SIZE,false);
  Session s=openSession();
  s.beginTransaction();
  LongByteArrayHolder entity=new LongByteArrayHolder();
  s.save(entity);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  entity=(LongByteArrayHolder)s.get(LongByteArrayHolder.class,entity.getId());
  assertNull(entity.getLongByteArray());
  entity.setLongByteArray(original);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  entity=(LongByteArrayHolder)s.get(LongByteArrayHolder.class,entity.getId());
  assertEquals(ARRAY_SIZE,entity.getLongByteArray().length);
  assertEquals(original,entity.getLongByteArray());
  entity.setLongByteArray(changed);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  entity=(LongByteArrayHolder)s.get(LongByteArrayHolder.class,entity.getId());
  assertEquals(ARRAY_SIZE,entity.getLongByteArray().length);
  assertEquals(changed,entity.getLongByteArray());
  entity.setLongByteArray(null);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  entity=(LongByteArrayHolder)s.get(LongByteArrayHolder.class,entity.getId());
  assertNull(entity.getLongByteArray());
  s.delete(entity);
  s.getTransaction().commit();
  s.close();
}
