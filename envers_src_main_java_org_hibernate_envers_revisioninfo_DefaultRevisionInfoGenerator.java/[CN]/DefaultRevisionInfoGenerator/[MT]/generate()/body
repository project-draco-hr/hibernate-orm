{
  Object revisionInfo;
  try {
    revisionInfo=revisionInfoClass.newInstance();
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  long timestamp=System.currentTimeMillis();
  revisionTimestampSetter.set(revisionInfo,timestampAsDate ? new Date(timestamp) : timestamp,null);
  if (listener != null) {
    listener.newRevision(revisionInfo);
  }
  return revisionInfo;
}
