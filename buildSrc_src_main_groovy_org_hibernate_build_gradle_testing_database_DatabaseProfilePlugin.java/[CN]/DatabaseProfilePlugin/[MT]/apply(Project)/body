{
  this.project=project;
  final LinkedHashMap<String,DatabaseProfile> profileMap=new LinkedHashMap<String,DatabaseProfile>();
  processStandardProfiles(profileMap);
  processCustomProfiles(profileMap);
  this.profiles=new ArrayList<DatabaseProfile>();
  DatabaseAllocationCleanUp listener=new DatabaseAllocationCleanUp();
  project.getGradle().addBuildListener(listener);
  for (  DatabaseProfile profile : profileMap.values()) {
    this.profiles.add(profile);
    listener.addDatabaseAllocation(profile.getDatabaseAllocation());
  }
}
