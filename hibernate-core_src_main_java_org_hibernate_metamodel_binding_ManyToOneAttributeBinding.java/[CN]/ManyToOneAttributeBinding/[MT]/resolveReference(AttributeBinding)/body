{
  if (!referencedEntityName.equals(referencedAttributeBinding.getEntityBinding().getEntity().getName())) {
    throw new IllegalStateException("attempt to set EntityBinding with name: [" + referencedAttributeBinding.getEntityBinding().getEntity().getName() + "; entity name should be: "+ referencedEntityName);
  }
  if (referencedAttributeName == null) {
    referencedAttributeName=referencedAttributeBinding.getAttribute().getName();
  }
 else   if (!referencedAttributeName.equals(referencedAttributeBinding.getAttribute().getName())) {
    throw new IllegalStateException("Inconsistent attribute name; expected: " + referencedAttributeName + "actual: "+ referencedAttributeBinding.getAttribute().getName());
  }
  this.referencedAttributeBinding=referencedAttributeBinding;
  buildForeignKey();
}
