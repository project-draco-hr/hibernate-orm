{
  if (bytes[0] != WKBConstants.wkbNDR && bytes[0] != WKBConstants.wkbXDR) {
    return WKB.fromEWKB(bytes,getGeometryFactory());
  }
 else {
    try {
      return WKB.fromWKB(bytes,getGeometryFactory());
    }
 catch (    RuntimeException e) {
      if (e.getCause() != null && e.getCause() instanceof ParseException) {
        LOG.debug("Caught parse exception while parsing byte array as WKB. Retrying as EWKB.",e);
        return WKB.fromEWKB(bytes,getGeometryFactory());
      }
 else {
        throw e;
      }
    }
  }
}
