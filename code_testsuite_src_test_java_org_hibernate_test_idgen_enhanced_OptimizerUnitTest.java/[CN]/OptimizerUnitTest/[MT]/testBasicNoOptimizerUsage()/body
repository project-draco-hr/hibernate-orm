{
  SourceMock sequence=new SourceMock(1);
  Optimizer optimizer=OptimizerFactory.buildOptimizer(OptimizerFactory.NONE,Long.class,1);
  for (int i=1; i < 11; i++) {
    final Long next=(Long)optimizer.generate(sequence);
    assertEquals(i,next.intValue());
  }
  assertEquals(10,sequence.getTimesCalled());
  assertEquals(10,sequence.getCurrentValue());
  sequence=new SourceMock(0);
  optimizer=OptimizerFactory.buildOptimizer(OptimizerFactory.NONE,Long.class,1);
  for (int i=1; i < 11; i++) {
    final Long next=(Long)optimizer.generate(sequence);
    assertEquals(i,next.intValue());
  }
  assertEquals(11,sequence.getTimesCalled());
  assertEquals(10,sequence.getCurrentValue());
}
