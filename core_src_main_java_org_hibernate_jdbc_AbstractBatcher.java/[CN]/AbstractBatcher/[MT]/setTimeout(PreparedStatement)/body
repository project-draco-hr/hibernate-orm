{
  if (isTransactionTimeoutSet) {
    int timeout=(int)(transactionTimeout - (System.currentTimeMillis() / 1000));
    if (timeout <= 0) {
      throw new TransactionException("transaction timeout expired");
    }
 else {
      result.setQueryTimeout(timeout);
    }
  }
}
