{
  byte[] raw=null;
  if (obj == null) {
    return null;
  }
  if ((obj instanceof byte[])) {
    raw=(byte[])obj;
  }
 else   if (obj instanceof Blob) {
    raw=toByteArray((Blob)obj);
  }
 else {
    throw new IllegalArgumentException("Expected byte array.");
  }
  return Decoders.decode(raw);
}
