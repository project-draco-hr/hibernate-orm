{
  super(factory,enabledFilters);
  this.collectionPersister=collectionPersister;
  String alias=generateRootAlias(collectionPersister.getRole());
  walkCollectionTree(collectionPersister,alias);
  List allAssociations=new ArrayList();
  allAssociations.addAll(associations);
  allAssociations.add(new OuterJoinableAssociation(collectionPersister.getCollectionType(),null,null,alias,JoinFragment.LEFT_OUTER_JOIN,getFactory(),CollectionHelper.EMPTY_MAP));
  initPersisters(allAssociations,LockMode.NONE);
  initStatementString(alias,batchSize,subquery);
}
