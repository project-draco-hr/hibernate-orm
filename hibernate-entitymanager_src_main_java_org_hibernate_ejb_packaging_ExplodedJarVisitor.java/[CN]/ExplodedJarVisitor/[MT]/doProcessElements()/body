{
  File jarFile;
  try {
    String filePart=jarUrl.getFile();
    if (filePart != null && filePart.indexOf(' ') != -1) {
      jarFile=new File(jarUrl.getFile());
    }
 else {
      jarFile=new File(jarUrl.toURI().getSchemeSpecificPart());
    }
  }
 catch (  URISyntaxException e) {
    LOG.error(LOG.malformedUrl(jarUrl),e);
    return;
  }
  if (!jarFile.exists()) {
    LOG.explodedJarDoesNotExist(jarUrl);
    return;
  }
  if (!jarFile.isDirectory()) {
    LOG.explodedJarNotDirectory(jarUrl);
    return;
  }
  File rootFile;
  if (entry != null && entry.length() > 0 && !"/".equals(entry)) {
    rootFile=new File(jarFile,entry);
  }
 else {
    rootFile=jarFile;
  }
  if (rootFile.isDirectory()) {
    getClassNamesInTree(rootFile,null);
  }
 else {
    processZippedRoot(rootFile);
  }
}
