{
  if (namedParams != null) {
    Iterator iter=namedParams.entrySet().iterator();
    int result=0;
    while (iter.hasNext()) {
      Map.Entry e=(Map.Entry)iter.next();
      String name=(String)e.getKey();
      TypedValue typedval=(TypedValue)e.getValue();
      int[] locations=source.getNamedParameterLocations(name);
      for (int i=0; i < locations.length; i++) {
        if (log.isDebugEnabled()) {
          log.debug("bindNamedParameters() " + typedval.getValue() + " -> "+ name+ " ["+ (locations[i] + start)+ "]");
        }
        typedval.getType().nullSafeSet(ps,typedval.getValue(),locations[i] + start,session);
      }
      result+=locations.length;
    }
    return result;
  }
 else {
    return 0;
  }
}
