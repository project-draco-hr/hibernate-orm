{
  if (string == null || string.isEmpty()) {
    return null;
  }
  int found=0, position=0;
  char[] chars=string.toCharArray();
  for (int i=0; i < chars.length; i++) {
    if (chars[i] == '_') {
switch (found) {
case 0:
        string=new String(chars,position,i - position);
      position=i + 1;
    break;
case 1:
  if (chars.length > i + 1) {
    return new Locale(string,new String(chars,position,i - position),new String(chars,i + 1,chars.length - i - 1));
  }
 else {
    return new Locale(string,new String(chars,position,i - position),"");
  }
}
found++;
}
}
switch (found) {
case 0:
return new Locale(string);
case 1:
return new Locale(string,new String(chars,position,chars.length - position));
}
return null;
}
