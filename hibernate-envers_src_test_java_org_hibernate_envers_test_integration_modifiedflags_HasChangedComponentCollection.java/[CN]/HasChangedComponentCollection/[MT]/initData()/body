{
  EntityManager em=getEntityManager();
  em.getTransaction().begin();
  EmbeddableListEntity1 ele1=new EmbeddableListEntity1();
  ele1.setOtherData("data");
  ele1.getComponentList().add(c3_1);
  em.persist(ele1);
  em.getTransaction().commit();
  em.getTransaction().begin();
  ele1=em.find(EmbeddableListEntity1.class,ele1.getId());
  ele1.getComponentList().remove(c3_2);
  em.getTransaction().commit();
  em.getTransaction().begin();
  ele1=em.find(EmbeddableListEntity1.class,ele1.getId());
  ele1.setOtherData("modified");
  ele1.getComponentList().remove(c3_2);
  ele1=em.merge(ele1);
  em.getTransaction().commit();
  em.getTransaction().begin();
  ele1=em.find(EmbeddableListEntity1.class,ele1.getId());
  ele1.getComponentList().add(c3_2);
  em.getTransaction().commit();
  em.getTransaction().begin();
  ele1=em.find(EmbeddableListEntity1.class,ele1.getId());
  ele1.getComponentList().add(c3_1);
  em.getTransaction().commit();
  em.getTransaction().begin();
  ele1=em.find(EmbeddableListEntity1.class,ele1.getId());
  ele1.getComponentList().remove(c3_2);
  em.getTransaction().commit();
  em.getTransaction().begin();
  ele1=em.find(EmbeddableListEntity1.class,ele1.getId());
  ele1.setOtherData("another modification");
  ele1=em.merge(ele1);
  em.getTransaction().commit();
  ele1_id=ele1.getId();
  em.close();
}
