{
  final Object[] copiedValues;
  if (foreignKeyDirection == ForeignKeyDirection.FOREIGN_KEY_TO_PARENT) {
    copiedValues=TypeHelper.replaceAssociations(persister.getPropertyValues(entity,source.getEntityMode()),persister.getPropertyValues(target,source.getEntityMode()),persister.getPropertyTypes(),source,target,copyCache,foreignKeyDirection);
  }
 else {
    copiedValues=TypeHelper.replace(persister.getPropertyValues(entity,source.getEntityMode()),persister.getPropertyValues(target,source.getEntityMode()),persister.getPropertyTypes(),source,target,copyCache,foreignKeyDirection);
  }
  persister.setPropertyValues(target,copiedValues,source.getEntityMode());
}
