{
  begun=false;
  if (callback) {
    if (!newTransaction)     LOG.managerLookupClassShouldBeSet();
    int status=NULL;
    try {
      status=userTransaction.getStatus();
    }
 catch (    Exception e) {
      LOG.error(LOG.unableToDetermineTransactionStatusAfterCommit(),e);
      throw new TransactionException(LOG.unableToDetermineTransactionStatusAfterCommit(),e);
    }
 finally {
      jdbcContext.afterTransactionCompletion(status == Status.STATUS_COMMITTED,this);
    }
  }
}
