{
  CacheConcurrencyStrategy ccs;
  if (AccessType.READ_ONLY.equals(accessType)) {
    if (metadata.isMutable()) {
      log.warn("read-only cache configured for mutable collection [" + getName() + "]");
    }
    ccs=new ReadOnlyCache();
  }
 else   if (AccessType.READ_WRITE.equals(accessType)) {
    ccs=new ReadWriteCache();
  }
 else   if (AccessType.NONSTRICT_READ_WRITE.equals(accessType)) {
    ccs=new NonstrictReadWriteCache();
  }
 else   if (AccessType.TRANSACTIONAL.equals(accessType)) {
    ccs=new TransactionalCache();
  }
 else {
    throw new IllegalArgumentException("unrecognized access strategy type [" + accessType + "]");
  }
  ccs.setCache(underlyingCache);
  return new CollectionAccessStrategyAdapter(this,ccs,settings);
}
