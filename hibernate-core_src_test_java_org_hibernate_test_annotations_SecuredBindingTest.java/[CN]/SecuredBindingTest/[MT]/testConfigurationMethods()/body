{
  AnnotationConfiguration ac=new AnnotationConfiguration();
  Properties p=new Properties();
  p.put(Environment.DIALECT,"org.hibernate.dialect.HSQLDialect");
  p.put("hibernate.connection.driver_class","org.hsqldb.jdbcDrive");
  p.put("hibernate.connection.url","jdbc:hsqldb:.");
  p.put("hibernate.connection.username","sa");
  p.put("hibernate.connection.password","");
  p.put("hibernate.show_sql","true");
  ac.setProperties(p);
  ac.addAnnotatedClass(Plane.class);
  SessionFactory sf;
  ServiceRegistryHolder serviceRegistryHolder=null;
  try {
    serviceRegistryHolder=new ServiceRegistryHolder(p);
    sf=ac.buildSessionFactory(serviceRegistryHolder.getServiceRegistry());
    fail("Driver property overriding should work");
    sf.close();
  }
 catch (  HibernateException he) {
  }
 finally {
    if (serviceRegistryHolder != null) {
      serviceRegistryHolder.destroy();
    }
  }
}
