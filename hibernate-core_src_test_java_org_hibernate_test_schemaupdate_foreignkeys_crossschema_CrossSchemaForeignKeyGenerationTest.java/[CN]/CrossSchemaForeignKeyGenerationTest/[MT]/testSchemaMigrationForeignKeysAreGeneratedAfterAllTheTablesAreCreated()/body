{
  final MetadataSources metadataSources=new MetadataSources(ssr);
  metadataSources.addAnnotatedClass(SchemaOneEntity.class);
  metadataSources.addAnnotatedClass(SchemaTwoEntity.class);
  MetadataImplementor metadata=(MetadataImplementor)metadataSources.buildMetadata();
  metadata.validate();
  final Database database=metadata.getDatabase();
  final SchemaManagementTool tool=ssr.getService(SchemaManagementTool.class);
  DatabaseInformation dbInfo=new DatabaseInformationImpl(ssr,database.getJdbcEnvironment(),ssr.getService(JdbcServices.class).getBootstrapJdbcConnectionAccess(),database.getDefaultNamespace().getPhysicalName().getCatalog(),database.getDefaultNamespace().getPhysicalName().getSchema());
  tool.getSchemaMigrator(Collections.emptyMap()).doMigration(metadata,dbInfo,true,buildTargets());
  tool.getSchemaDropper(Collections.emptyMap()).doDrop(metadata,false,buildTargets());
}
