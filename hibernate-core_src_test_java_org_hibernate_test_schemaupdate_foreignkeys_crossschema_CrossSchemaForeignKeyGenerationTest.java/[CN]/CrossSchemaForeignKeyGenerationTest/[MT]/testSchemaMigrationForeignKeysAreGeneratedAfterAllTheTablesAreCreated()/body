{
  final MetadataSources metadataSources=new MetadataSources(ssr);
  metadataSources.addAnnotatedClass(SchemaOneEntity.class);
  metadataSources.addAnnotatedClass(SchemaTwoEntity.class);
  MetadataImplementor metadata=(MetadataImplementor)metadataSources.buildMetadata();
  metadata.validate();
  final Database database=metadata.getDatabase();
  final HibernateSchemaManagementTool tool=(HibernateSchemaManagementTool)ssr.getService(SchemaManagementTool.class);
  DatabaseInformation dbInfo=new DatabaseInformationImpl(ssr,database.getJdbcEnvironment(),ssr.getService(JdbcServices.class).getBootstrapJdbcConnectionAccess(),database.getDefaultNamespace().getPhysicalName().getCatalog(),database.getDefaultNamespace().getPhysicalName().getSchema());
  final Map configurationValues=ssr.getService(ConfigurationService.class).getSettings();
  new SchemaMigratorImpl(tool).doMigration(metadata,dbInfo,new ExecutionOptions(){
    @Override public boolean shouldManageNamespaces(){
      return true;
    }
    @Override public Map getConfigurationValues(){
      return configurationValues;
    }
    @Override public ExceptionHandler getExceptionHandler(){
      return ExceptionHandlerLoggedImpl.INSTANCE;
    }
  }
,ssr.getService(JdbcEnvironment.class).getDialect(),buildTargets());
  new SchemaDropperImpl(tool).doDrop(metadata,new ExecutionOptions(){
    @Override public boolean shouldManageNamespaces(){
      return true;
    }
    @Override public Map getConfigurationValues(){
      return configurationValues;
    }
    @Override public ExceptionHandler getExceptionHandler(){
      return ExceptionHandlerLoggedImpl.INSTANCE;
    }
  }
,ssr.getService(JdbcEnvironment.class).getDialect(),new SourceDescriptor(){
    @Override public SourceType getSourceType(){
      return SourceType.METADATA;
    }
    @Override public ScriptSourceInput getScriptSourceInput(){
      return null;
    }
  }
,buildTargets());
}
