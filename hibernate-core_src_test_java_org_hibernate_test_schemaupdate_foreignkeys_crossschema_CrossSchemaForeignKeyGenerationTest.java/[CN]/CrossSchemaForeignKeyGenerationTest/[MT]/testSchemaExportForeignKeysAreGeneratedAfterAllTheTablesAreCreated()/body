{
  final MetadataSources metadataSources=new MetadataSources(ssr);
  metadataSources.addAnnotatedClass(SchemaOneEntity.class);
  metadataSources.addAnnotatedClass(SchemaTwoEntity.class);
  MetadataImplementor metadata=(MetadataImplementor)metadataSources.buildMetadata();
  metadata.validate();
  final SchemaExport schemaExport=new SchemaExport(metadata).setHaltOnError(true).setOutputFile(output.getAbsolutePath()).setFormat(false);
  schemaExport.create(true,false);
  final List<String> sqlLines=Files.readAllLines(output.toPath(),Charset.defaultCharset());
  assertThat("Expected alter table SCHEMA1.Child add constraint but is : " + sqlLines.get(4),sqlLines.get(4).startsWith("alter table "),is(true));
}
