{
  boolean failureExpected=runMethod.getAnnotation(FailureExpected.class) != null;
  try {
    runMethod.invoke(this,new Class[0]);
    if (failureExpected) {
      throw new FailureExpectedTestPassedException();
    }
  }
 catch (  FailureExpectedTestPassedException t) {
    closeSession();
    throw t;
  }
catch (  Throwable t) {
    if (t instanceof InvocationTargetException || t instanceof IllegalAccessException) {
      t.fillInStackTrace();
    }
    closeSession();
    if (failureExpected) {
      FailureExpected ann=runMethod.getAnnotation(FailureExpected.class);
      StringBuilder builder=new StringBuilder();
      if (StringHelper.isNotEmpty(ann.message())) {
        builder.append(ann.message());
      }
 else {
        builder.append("ignoring test methods annoated with @FailureExpected");
      }
      if (StringHelper.isNotEmpty(ann.issueNumber())) {
        builder.append(" (");
        builder.append(ann.issueNumber());
        builder.append(")");
      }
      reportSkip(builder.toString(),"Failed with: " + t.toString());
    }
 else {
      throw t;
    }
  }
}
