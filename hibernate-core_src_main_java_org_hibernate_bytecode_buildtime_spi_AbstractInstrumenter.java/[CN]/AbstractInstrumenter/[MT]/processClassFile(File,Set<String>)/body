{
  final byte[] bytes=ByteCodeHelper.readByteCode(file);
  final ClassDescriptor descriptor=getClassDescriptor(bytes);
  final ClassTransformer transformer=getClassTransformer(descriptor,classNames);
  if (transformer == null) {
    logger.debug("no trasformer for class file : " + file.getAbsolutePath());
    return;
  }
  logger.info("processing class : " + descriptor.getName() + ";  file = "+ file.getAbsolutePath());
  final byte[] transformedBytes=transformer.transform(getClass().getClassLoader(),descriptor.getName(),null,null,descriptor.getBytes());
  final OutputStream out=new FileOutputStream(file);
  try {
    out.write(transformedBytes);
    out.flush();
  }
  finally {
    try {
      out.close();
    }
 catch (    IOException ignore) {
    }
  }
}
