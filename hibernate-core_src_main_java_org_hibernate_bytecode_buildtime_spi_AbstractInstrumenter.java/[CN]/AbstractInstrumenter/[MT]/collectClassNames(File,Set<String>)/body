{
  if (isClassFile(file)) {
    final byte[] bytes=ByteCodeHelper.readByteCode(file);
    final ClassDescriptor descriptor=getClassDescriptor(bytes);
    classNames.add(descriptor.getName());
  }
 else   if (isJarFile(file)) {
    final ZipEntryHandler collector=new ZipEntryHandler(){
      public void handleEntry(      ZipEntry entry,      byte[] byteCode) throws Exception {
        if (!entry.isDirectory()) {
          final DataInputStream din=new DataInputStream(new ByteArrayInputStream(byteCode));
          if (din.readInt() == CLASS_MAGIC) {
            classNames.add(getClassDescriptor(byteCode).getName());
          }
        }
      }
    }
;
    final ZipFileProcessor processor=new ZipFileProcessor(collector);
    processor.process(file);
  }
}
