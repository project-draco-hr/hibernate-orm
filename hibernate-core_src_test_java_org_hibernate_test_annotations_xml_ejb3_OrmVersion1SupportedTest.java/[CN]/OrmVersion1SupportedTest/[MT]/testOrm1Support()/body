{
  buildSessionFactory();
  Session s=openSession();
  Transaction tx=s.beginTransaction();
  Light light=new Light();
  light.name="the light at the end of the tunnel";
  s.persist(light);
  s.flush();
  s.clear();
  assertEquals(1,s.getNamedQuery("find.the.light").list().size());
  tx.rollback();
  s.close();
  assertEquals("HHH00196 should not be called",0,BytemanHelper.getAndResetInvocationCount());
  releaseSessionFactory();
}
