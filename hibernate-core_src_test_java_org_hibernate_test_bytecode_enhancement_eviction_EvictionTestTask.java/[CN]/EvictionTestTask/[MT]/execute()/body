{
  Session s=getFactory().openSession();
  s.beginTransaction();
  Parent loadedParent=(Parent)s.createQuery("SELECT p FROM Parent p WHERE name=:name").setParameter("name","PARENT").uniqueResult();
  assertTyping(ManagedEntity.class,loadedParent);
  ManagedEntity managedParent=(ManagedEntity)loadedParent;
  assertNotNull(managedParent.$$_hibernate_getEntityInstance());
  assertNotNull(managedParent.$$_hibernate_getEntityEntry());
  assertNull(managedParent.$$_hibernate_getPreviousManagedEntity());
  assertNull(managedParent.$$_hibernate_getNextManagedEntity());
  assertTrue(s.contains(managedParent));
  s.evict(managedParent);
  assertFalse(s.contains(managedParent));
  assertNotNull(managedParent.$$_hibernate_getEntityInstance());
  assertNull(managedParent.$$_hibernate_getEntityEntry());
  assertNull(managedParent.$$_hibernate_getPreviousManagedEntity());
  assertNull(managedParent.$$_hibernate_getNextManagedEntity());
  s.evict(managedParent);
  assertFalse(s.contains(managedParent));
  assertNotNull(managedParent.$$_hibernate_getEntityInstance());
  assertNull(managedParent.$$_hibernate_getEntityEntry());
  assertNull(managedParent.$$_hibernate_getPreviousManagedEntity());
  assertNull(managedParent.$$_hibernate_getNextManagedEntity());
  s.delete(managedParent);
  s.getTransaction().commit();
  s.close();
}
