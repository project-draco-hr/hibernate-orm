{
  AuditStrategy strategy;
  try {
    Class<?> auditStrategyClass=null;
    if (classLoaderService != null) {
      auditStrategyClass=classLoaderService.classForName(auditEntCfg.getAuditStrategyName());
    }
 else {
      auditStrategyClass=Thread.currentThread().getContextClassLoader().loadClass(auditEntCfg.getAuditStrategyName());
    }
    strategy=(AuditStrategy)ReflectHelper.getDefaultConstructor(auditStrategyClass).newInstance();
  }
 catch (  Exception e) {
    throw new MappingException(String.format("Unable to create AuditStrategy[%s] instance.",auditEntCfg.getAuditStrategyName()),e);
  }
  if (strategy instanceof ValidityAuditStrategy) {
    Getter revisionTimestampGetter=ReflectionTools.getGetter(revisionInfoClass,revisionInfoTimestampData);
    ((ValidityAuditStrategy)strategy).setRevisionTimestampGetter(revisionTimestampGetter);
  }
  return strategy;
}
