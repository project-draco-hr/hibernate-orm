{
  Session s=openSession();
  s.setCacheMode(CacheMode.IGNORE);
  Transaction t=s.beginTransaction();
  DataPoint dpFirst=null;
  for (int i=0; i < 100; i++) {
    DataPoint dp=new DataPoint();
    dp.setX(new BigDecimal(i * 0.1d).setScale(19,BigDecimal.ROUND_DOWN));
    dp.setY(new BigDecimal(Math.cos(dp.getX().doubleValue())).setScale(19,BigDecimal.ROUND_DOWN));
    s.save(dp);
  }
  ScrollableResults sr=s.createQuery("from DataPoint dp order by dp.x asc").setReadOnly(true).scroll(ScrollMode.FORWARD_ONLY);
  while (sr.next()) {
    DataPoint dp=(DataPoint)sr.get(0);
    assertFalse(s.isReadOnly(dp));
    s.delete(dp);
  }
  t.commit();
  s.close();
}
