{
  if (value == null) {
    st.setNull(index,sqlTypes(null)[0]);
  }
 else {
    byte[] toSet=unWrap(value);
    final boolean useInputStream=session.getFactory().getDialect().useInputStreamToInsertBlob();
    if (useInputStream) {
      st.setBinaryStream(index,new ByteArrayInputStream(toSet),toSet.length);
    }
 else {
      st.setBlob(index,Hibernate.getLobCreator(session).createBlob(toSet));
    }
  }
}
