{
  errorIfClosed();
  NamedSQLQueryDefinition nsqlqd=factory.getNamedSQLQuery(queryName);
  if (nsqlqd == null) {
    throw new MappingException("Named SQL query not known: " + queryName);
  }
  Query query=new SQLQueryImpl(nsqlqd,this,factory.getQueryPlanCache().getSQLParameterMetadata(nsqlqd.getQueryString()));
  query.setComment("named native SQL query " + queryName);
  initQuery(query,nsqlqd);
  return query;
}
