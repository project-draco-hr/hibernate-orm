{
  super(sessionFactory);
  this.collectionReference=collectionReference;
  this.collectionPersister=collectionReference.getCollectionPersister();
  this.elementType=(AssociationType)collectionPersister.getElementType();
  this.elementPersister=(EntityPersister)this.elementType.getAssociatedJoinable(sessionFactory());
  this.propertyPath=collectionPath;
  this.sqlSelectFragmentResolver=new EntityPersisterBasedSqlSelectFragmentResolver((Queryable)elementPersister);
}
