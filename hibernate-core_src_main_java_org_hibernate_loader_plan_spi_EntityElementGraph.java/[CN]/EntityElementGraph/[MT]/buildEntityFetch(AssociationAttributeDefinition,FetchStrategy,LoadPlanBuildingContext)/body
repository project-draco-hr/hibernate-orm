{
  final EntityType attributeType=(EntityType)attributeDefinition.getType();
  final FetchOwner collectionOwner=CollectionFetch.class.isInstance(collectionReference) ? ((CollectionFetch)collectionReference).getOwner() : null;
  if (collectionOwner != null) {
    final boolean sameType=attributeType.getAssociatedEntityName().equals(collectionOwner.retrieveFetchSourcePersister().getEntityName());
    if (sameType) {
      return new BidirectionalEntityElementGraphFetch(sessionFactory(),LockMode.READ,this,attributeDefinition,fetchStrategy,collectionOwner);
    }
  }
  return super.buildEntityFetch(attributeDefinition,fetchStrategy,loadPlanBuildingContext);
}
