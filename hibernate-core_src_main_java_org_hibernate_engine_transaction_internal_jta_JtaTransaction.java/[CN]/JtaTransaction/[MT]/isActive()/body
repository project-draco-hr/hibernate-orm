{
  if (getLocalStatus() != LocalStatus.ACTIVE) {
    return false;
  }
  final int status;
  try {
    status=userTransaction.getStatus();
  }
 catch (  SystemException se) {
    throw new TransactionException("Could not determine transaction status: ",se);
  }
  return JtaStatusHelper.isActive(status);
}
