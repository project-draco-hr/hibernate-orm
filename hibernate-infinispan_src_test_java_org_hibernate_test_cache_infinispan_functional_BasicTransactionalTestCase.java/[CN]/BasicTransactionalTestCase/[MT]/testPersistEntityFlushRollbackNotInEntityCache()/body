{
  Statistics stats=sessionFactory().getStatistics();
  stats.clear();
  Item item=null;
  Transaction txn=null;
  Session s=null;
  beginTx();
  try {
    s=openSession();
    txn=s.beginTransaction();
    item=new Item();
    item.setName("steve");
    item.setDescription("steve's item");
    s.persist(item);
    s.flush();
    setRollbackOnlyTx();
  }
 catch (  Exception e) {
    setRollbackOnlyTx(e);
  }
 finally {
    commitOrRollbackTx();
    s.close();
  }
  SecondLevelCacheStatistics slcs=stats.getSecondLevelCacheStatistics(Item.class.getName());
  assertTrue(slcs.getEntries().isEmpty());
  beginTx();
  try {
    s=openSession();
    txn=s.beginTransaction();
    item=(Item)s.get(Item.class,item.getId());
    assertNull(item);
    txn.commit();
    s.close();
  }
 catch (  Exception e) {
    setRollbackOnlyTx(e);
  }
 finally {
    commitOrRollbackTx();
  }
}
