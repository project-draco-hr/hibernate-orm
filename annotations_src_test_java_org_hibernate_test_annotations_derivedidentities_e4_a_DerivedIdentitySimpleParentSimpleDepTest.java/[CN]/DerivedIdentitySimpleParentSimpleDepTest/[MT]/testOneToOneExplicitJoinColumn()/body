{
  assertTrue(SchemaUtil.isColumnPresent("MedicalHistory","FK",getCfg()));
  assertTrue(!SchemaUtil.isColumnPresent("MedicalHistory","id",getCfg()));
  Person e=new Person();
  e.ssn="aaa";
  Session s=openSession();
  s.getTransaction().begin();
  s.persist(e);
  MedicalHistory d=new MedicalHistory();
  d.patient=e;
  s.persist(d);
  s.flush();
  s.clear();
  final Class<MedicalHistory> clazz=MedicalHistory.class;
  d=getDerivedClassById(e,s,clazz);
  assertEquals(e.ssn,d.patient.ssn);
  d.lastupdate=new Date();
  s.flush();
  s.clear();
  d=getDerivedClassById(e,s,clazz);
  assertNotNull(d.lastupdate);
  s.getTransaction().rollback();
  s.close();
}
