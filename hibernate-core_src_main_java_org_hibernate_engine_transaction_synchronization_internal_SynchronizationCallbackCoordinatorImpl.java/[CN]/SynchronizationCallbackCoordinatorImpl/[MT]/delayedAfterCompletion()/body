{
  if (delayedCompletionHandlingStatus != NO_STATUS) {
    doAfterCompletion(delayedCompletionHandlingStatus);
    delayedCompletionHandlingStatus=NO_STATUS;
    throw new HibernateException("Transaction was rolled back in a different thread!");
  }
}
