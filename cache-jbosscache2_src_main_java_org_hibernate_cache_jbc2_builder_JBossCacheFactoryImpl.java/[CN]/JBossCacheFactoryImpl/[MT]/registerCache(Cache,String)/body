{
synchronized (caches) {
    if (caches.containsKey(configName))     throw new IllegalStateException(configName + " already registered");
    caches.put(configName,cache);
    incrementCheckout(configName);
  }
}
