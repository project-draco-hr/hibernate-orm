{
  Cache cache=null;
synchronized (caches) {
    cache=(Cache)caches.get(configName);
    if (cache == null && create) {
      Configuration config=getConfiguration(configName);
      cache=DefaultCacheFactory.getInstance().createCache(config,false);
      registerCache(cache,configName);
    }
 else     if (cache != null) {
      incrementCheckout(configName);
    }
  }
  return cache;
}
