{
  if (connection.getConnectionReleaseMode() == ConnectionReleaseMode.AFTER_STATEMENT) {
    return true;
  }
 else {
    boolean inAutoCommitState;
    try {
      inAutoCommitState=isAutoCommit();
    }
 catch (    SQLException e) {
      inAutoCommitState=true;
    }
    return connection.getConnectionReleaseMode() == ConnectionReleaseMode.AFTER_TRANSACTION && inAutoCommitState;
  }
}
