{
  try {
    Clob clob=createClob();
    Writer writer=clob.setCharacterStream(1);
    StreamUtils.copy(reader,writer);
    writer.flush();
    writer.close();
    return clob;
  }
 catch (  SQLException e) {
    throw new IllegalStateException("Unable to prepare CLOB stream for writing",e);
  }
catch (  IOException e) {
    throw new IllegalStateException("Unable to write CLOB stream content",e);
  }
}
