{
  try {
    Clob clob=createNClob();
    Writer writer=clob.setCharacterStream(1);
    StreamUtils.copy(reader,writer);
    writer.flush();
    writer.close();
    return clob;
  }
 catch (  SQLException e) {
    throw new JDBCException("Unable to prepare NCLOB stream for writing",e);
  }
catch (  IOException e) {
    throw new HibernateException("Unable to write NCLOB stream content",e);
  }
}
