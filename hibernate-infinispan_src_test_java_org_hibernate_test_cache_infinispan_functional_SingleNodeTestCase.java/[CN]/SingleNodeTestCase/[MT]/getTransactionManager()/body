{
  try {
    Class<? extends JtaPlatform> jtaPlatformClass=getJtaPlatform();
    if (jtaPlatformClass == null) {
      return null;
    }
 else {
      return jtaPlatformClass.newInstance().retrieveTransactionManager();
    }
  }
 catch (  Exception e) {
    log.error("Error",e);
    throw new RuntimeException(e);
  }
}
