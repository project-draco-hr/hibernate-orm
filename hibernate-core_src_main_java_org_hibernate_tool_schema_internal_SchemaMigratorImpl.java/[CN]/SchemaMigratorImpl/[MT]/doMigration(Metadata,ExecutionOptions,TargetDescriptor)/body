{
  if (targetDescriptor.getTargetTypes().isEmpty()) {
    return;
  }
  final JdbcContext jdbcContext=tool.resolveJdbcContext(options.getConfigurationValues());
  final DdlTransactionIsolator ddlTransactionIsolator=tool.getDdlTransactionIsolator(jdbcContext);
  try {
    ddlTransactionIsolator.prepare();
    final DdlTransactionIsolator sharedDdlTransactionIsolator=new DdlTransactionIsolatorSharedImpl(ddlTransactionIsolator);
    final DatabaseInformation databaseInformation=Helper.buildDatabaseInformation(tool.getServiceRegistry(),sharedDdlTransactionIsolator,metadata.getDatabase().getDefaultNamespace().getName());
    final GenerationTarget[] targets=tool.buildGenerationTargets(targetDescriptor,sharedDdlTransactionIsolator,options.getConfigurationValues());
    try {
      doMigration(metadata,databaseInformation,options,jdbcContext.getDialect(),targets);
    }
  finally {
      try {
        databaseInformation.cleanup();
      }
 catch (      Exception e) {
        log.debug("Problem releasing DatabaseInformation : " + e.getMessage());
      }
    }
  }
  finally {
    ddlTransactionIsolator.release();
  }
}
