{
  EntityManager em=getEntityManager();
  EmbeddableSetEntity ese1=new EmbeddableSetEntity();
  em.getTransaction().begin();
  ese1.getComponentSet().add(c3_1);
  ese1.getComponentSet().add(c3_3);
  em.persist(ese1);
  em.getTransaction().commit();
  em.getTransaction().begin();
  ese1=em.find(EmbeddableSetEntity.class,ese1.getId());
  ese1.getComponentSet().remove(c3_2);
  em.getTransaction().commit();
  em.getTransaction().begin();
  ese1=em.find(EmbeddableSetEntity.class,ese1.getId());
  ese1.getComponentSet().add(c3_2);
  em.getTransaction().commit();
  em.getTransaction().begin();
  ese1=em.find(EmbeddableSetEntity.class,ese1.getId());
  ese1.getComponentSet().add(c3_1);
  em.getTransaction().commit();
  em.getTransaction().begin();
  ese1=em.find(EmbeddableSetEntity.class,ese1.getId());
  ese1.getComponentSet().remove(c3_2);
  em.getTransaction().commit();
  em.getTransaction().begin();
  ese1=em.find(EmbeddableSetEntity.class,ese1.getId());
  ese1.getComponentSet().add(c3_2);
  ese1.getComponentSet().add(c3_4);
  em.getTransaction().commit();
  em.getTransaction().begin();
  ese1=em.find(EmbeddableSetEntity.class,ese1.getId());
  ese1.getComponentSet().remove(c3_2);
  ese1.getComponentSet().remove(c3_4);
  em.getTransaction().commit();
  em.getTransaction().begin();
  ese1=em.find(EmbeddableSetEntity.class,ese1.getId());
  ese1.getComponentSet().remove(c3_1);
  ese1.getComponentSet().remove(c3_3);
  ese1.getComponentSet().add(c3_2);
  ese1.getComponentSet().add(c3_4);
  em.getTransaction().commit();
  em.getTransaction().begin();
  ese1=em.find(EmbeddableSetEntity.class,ese1.getId());
  ese1.getComponentSet().add(c3_1);
  em.getTransaction().commit();
  ese1_id=ese1.getId();
  em.close();
}
