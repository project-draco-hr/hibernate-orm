{
  final String identifierPropertyName=sessionFactory.getMetamodel().entityPersister(entityName).getIdentifierPropertyName();
  if (identifierPropertyName != null) {
    return Arrays.asList(identifierPropertyName);
  }
  final Type identifierType=sessionFactory.getMetamodel().entityPersister(entityName).getIdentifierType();
  if (identifierType instanceof EmbeddedComponentType) {
    final EmbeddedComponentType embeddedComponentType=(EmbeddedComponentType)identifierType;
    return Arrays.asList(embeddedComponentType.getPropertyNames());
  }
  return Collections.emptyList();
}
