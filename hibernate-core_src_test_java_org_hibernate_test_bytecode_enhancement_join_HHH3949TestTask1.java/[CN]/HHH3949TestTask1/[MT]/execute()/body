{
  Session session=getFactory().openSession();
  List<Person> persons=(List<Person>)session.createQuery("from Person p left join fetch p.vehicle").list();
  for (  Person person : persons) {
    if (person.getId() < 3) {
      Assert.assertNotNull(person.getVehicle());
      Assert.assertNotNull(person.getVehicle().getDriver());
    }
  }
  session.close();
}
