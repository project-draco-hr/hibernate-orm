{
  Session s=openSession();
  s.beginTransaction();
  Route route=new Route();
  route.setName("routeA");
  s.save(route);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  route=(Route)s.get(Route.class,new Long(1));
  route.setTransientField(new String("sfnaouisrbn"));
  Tour tour=new Tour();
  tour.setName("tourB");
  Transport transport=new Transport();
  transport.setName("transportB");
  Node pickupNode=new Node();
  pickupNode.setName("pickupNodeB");
  Node deliveryNode=new Node();
  deliveryNode.setName("deliveryNodeB");
  Vehicle vehicle=new Vehicle();
  vehicle.setName("vehicleB");
  pickupNode.setRoute(route);
  pickupNode.setTour(tour);
  pickupNode.getPickupTransports().add(transport);
  pickupNode.setTransientField("pickup node aaaaaaaaaaa");
  deliveryNode.setRoute(route);
  deliveryNode.setTour(tour);
  deliveryNode.getDeliveryTransports().add(transport);
  deliveryNode.setTransientField("delivery node aaaaaaaaa");
  tour.getNodes().add(pickupNode);
  tour.getNodes().add(deliveryNode);
  route.getNodes().add(pickupNode);
  route.getNodes().add(deliveryNode);
  route.getVehicles().add(vehicle);
  transport.setPickupNode(pickupNode);
  transport.setDeliveryNode(deliveryNode);
  transport.setVehicle(vehicle);
  transport.setTransientField("aaaaaaaaaaaaaa");
  vehicle.getTransports().add(transport);
  vehicle.setTransientField("anewvalue");
  vehicle.setRoute(route);
  Route mergedRoute=(Route)s.merge(route);
  s.getTransaction().commit();
  s.close();
}
