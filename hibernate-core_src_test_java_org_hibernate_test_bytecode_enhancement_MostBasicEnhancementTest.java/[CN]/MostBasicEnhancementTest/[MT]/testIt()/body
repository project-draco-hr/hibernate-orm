{
  Session s=openSession();
  s.beginTransaction();
  s.save(new MyEntity(1L));
  s.save(new MyEntity(2L));
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  MyEntity myEntity=(MyEntity)s.get(MyEntity.class,1L);
  MyEntity myEntity2=(MyEntity)s.get(MyEntity.class,2L);
  assertNotNull(myEntity.hibernate_getEntityInstance());
  assertSame(myEntity,myEntity.hibernate_getEntityInstance());
  assertNotNull(myEntity.hibernate_getEntityEntry());
  assertNull(myEntity.hibernate_getPreviousManagedEntity());
  assertNotNull(myEntity.hibernate_getNextManagedEntity());
  assertNotNull(myEntity2.hibernate_getEntityInstance());
  assertSame(myEntity2,myEntity2.hibernate_getEntityInstance());
  assertNotNull(myEntity2.hibernate_getEntityEntry());
  assertNotNull(myEntity2.hibernate_getPreviousManagedEntity());
  assertNull(myEntity2.hibernate_getNextManagedEntity());
  s.createQuery("delete MyEntity").executeUpdate();
  s.getTransaction().commit();
  s.close();
  assertNull(myEntity.hibernate_getEntityEntry());
}
