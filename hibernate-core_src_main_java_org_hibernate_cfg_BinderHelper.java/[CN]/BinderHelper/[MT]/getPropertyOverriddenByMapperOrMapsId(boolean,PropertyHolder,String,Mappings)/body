{
  final XClass persistentXClass;
  try {
    persistentXClass=mappings.getReflectionManager().classForName(propertyHolder.getPersistentClass().getClassName(),AnnotationBinder.class);
  }
 catch (  ClassNotFoundException e) {
    throw new AssertionFailure("PersistentClass name cannot be converted into a Class",e);
  }
  if (propertyHolder.isInIdClass()) {
    PropertyData pd=mappings.getPropertyAnnotatedWithIdAndToOne(persistentXClass,propertyName);
    if (pd == null && mappings.isSpecjProprietarySyntaxEnabled()) {
      pd=mappings.getPropertyAnnotatedWithMapsId(persistentXClass,propertyName);
    }
    return pd;
  }
  String propertyPath=isId ? "" : propertyName;
  return mappings.getPropertyAnnotatedWithMapsId(persistentXClass,propertyPath);
}
