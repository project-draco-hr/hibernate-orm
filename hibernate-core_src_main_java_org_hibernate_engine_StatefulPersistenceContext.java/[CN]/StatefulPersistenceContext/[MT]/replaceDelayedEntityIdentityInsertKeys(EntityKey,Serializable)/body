{
  Object entity=entitiesByKey.remove(oldKey);
  EntityEntry oldEntry=(EntityEntry)entityEntries.remove(entity);
  parentsByChild.clear();
  EntityKey newKey=new EntityKey(generatedId,oldEntry.getPersister(),getSession().getEntityMode());
  addEntity(newKey,entity);
  addEntry(entity,oldEntry.getStatus(),oldEntry.getLoadedState(),oldEntry.getRowId(),generatedId,oldEntry.getVersion(),oldEntry.getLockMode(),oldEntry.isExistsInDatabase(),oldEntry.getPersister(),oldEntry.isBeingReplicated(),oldEntry.isLoadedWithLazyPropertiesUnfetched());
}
