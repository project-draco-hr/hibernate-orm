{
  LOG.serializingPersistentContext();
  oos.writeBoolean(defaultReadOnly);
  oos.writeBoolean(hasNonReadOnlyEntities);
  oos.writeInt(entitiesByKey.size());
  LOG.serializingEntitiesByKey(entitiesByKey.size());
  Iterator itr=entitiesByKey.entrySet().iterator();
  while (itr.hasNext()) {
    Map.Entry entry=(Map.Entry)itr.next();
    ((EntityKey)entry.getKey()).serialize(oos);
    oos.writeObject(entry.getValue());
  }
  oos.writeInt(entitiesByUniqueKey.size());
  LOG.serializingEntitiesByUniqueKey(entitiesByUniqueKey.size());
  itr=entitiesByUniqueKey.entrySet().iterator();
  while (itr.hasNext()) {
    Map.Entry entry=(Map.Entry)itr.next();
    ((EntityUniqueKey)entry.getKey()).serialize(oos);
    oos.writeObject(entry.getValue());
  }
  oos.writeInt(proxiesByKey.size());
  LOG.serializingProxiesByKey(proxiesByKey.size());
  itr=proxiesByKey.entrySet().iterator();
  while (itr.hasNext()) {
    Map.Entry entry=(Map.Entry)itr.next();
    ((EntityKey)entry.getKey()).serialize(oos);
    oos.writeObject(entry.getValue());
  }
  oos.writeInt(entitySnapshotsByKey.size());
  LOG.serializingEntitySnapshotsByKey(entitySnapshotsByKey.size());
  itr=entitySnapshotsByKey.entrySet().iterator();
  while (itr.hasNext()) {
    Map.Entry entry=(Map.Entry)itr.next();
    ((EntityKey)entry.getKey()).serialize(oos);
    oos.writeObject(entry.getValue());
  }
  oos.writeInt(entityEntries.size());
  LOG.serializingEntityEntries(entityEntries.size());
  itr=entityEntries.entrySet().iterator();
  while (itr.hasNext()) {
    Map.Entry entry=(Map.Entry)itr.next();
    oos.writeObject(entry.getKey());
    ((EntityEntry)entry.getValue()).serialize(oos);
  }
  oos.writeInt(collectionsByKey.size());
  LOG.serializingCollectionsByKey(collectionsByKey.size());
  itr=collectionsByKey.entrySet().iterator();
  while (itr.hasNext()) {
    Map.Entry entry=(Map.Entry)itr.next();
    ((CollectionKey)entry.getKey()).serialize(oos);
    oos.writeObject(entry.getValue());
  }
  oos.writeInt(collectionEntries.size());
  LOG.serializingCollectionEntries(collectionEntries.size());
  itr=collectionEntries.entrySet().iterator();
  while (itr.hasNext()) {
    Map.Entry entry=(Map.Entry)itr.next();
    oos.writeObject(entry.getKey());
    ((CollectionEntry)entry.getValue()).serialize(oos);
  }
  oos.writeInt(arrayHolders.size());
  LOG.serializingArrayHolders(arrayHolders.size());
  itr=arrayHolders.entrySet().iterator();
  while (itr.hasNext()) {
    Map.Entry entry=(Map.Entry)itr.next();
    oos.writeObject(entry.getKey());
    oos.writeObject(entry.getValue());
  }
  oos.writeInt(nullifiableEntityKeys.size());
  LOG.serializingNullifiableEntityKeys(nullifiableEntityKeys.size());
  itr=nullifiableEntityKeys.iterator();
  while (itr.hasNext()) {
    EntityKey entry=(EntityKey)itr.next();
    entry.serialize(oos);
  }
}
