{
  AliasGenerator aliasGenerator=new LocalAliasGenerator(0);
  appendSelectExpressions(collectionPersister.getIndexColumnNames(),selections,aliasGenerator);
  Type keyType=collectionPersister.getIndexType();
  if (keyType.isAssociationType()) {
    EntityType entityType=(EntityType)keyType;
    Queryable keyEntityPersister=(Queryable)sfi().getEntityPersister(entityType.getAssociatedEntityName(sfi()));
    SelectFragment fragment=keyEntityPersister.propertySelectFragmentFragment(collectionTableAlias(),null,false);
    appendSelectExpressions(fragment,selections,aliasGenerator);
  }
}
