{
  IdType idType=getEntityClass().getIdType();
switch (idType) {
case SIMPLE:
{
      BasicAttribute attribute=getEntityClass().getIdAttributes().iterator().next();
      return new SimpleIdentifierSourceImpl(attribute,getEntityClass().getAttributeOverrideMap());
    }
case COMPOSED:
{
    throw new NotYetImplementedException("Composed ids must still be implemented.");
  }
case EMBEDDED:
{
  throw new NotYetImplementedException("Embedded ids must still be implemented.");
}
default :
{
throw new AssertionFailure("The root entity needs to specify an identifier");
}
}
}
