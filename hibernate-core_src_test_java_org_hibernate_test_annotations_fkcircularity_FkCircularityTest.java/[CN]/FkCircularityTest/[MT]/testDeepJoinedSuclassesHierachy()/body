{
  try {
    AnnotationConfiguration config=new AnnotationConfiguration();
    config.addAnnotatedClass(ClassA.class);
    config.addAnnotatedClass(ClassB.class);
    config.addAnnotatedClass(ClassC.class);
    config.addAnnotatedClass(ClassD.class);
    config.buildSessionFactory(serviceRegistryHolder.getServiceRegistry());
    String[] schema=config.generateSchemaCreationScript(new HSQLDialect());
    for (    String s : schema) {
      log.debug(s);
    }
    log.debug("success");
  }
 catch (  Exception e) {
    StringWriter writer=new StringWriter();
    e.printStackTrace(new PrintWriter(writer));
    log.debug(writer.toString());
    fail(e.getMessage());
  }
}
