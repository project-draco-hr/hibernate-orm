{
  try {
    AnnotationConfiguration config=new AnnotationConfiguration();
    config.addAnnotatedClass(A.class);
    config.addAnnotatedClass(B.class);
    config.addAnnotatedClass(C.class);
    config.addAnnotatedClass(D.class);
    config.buildSessionFactory(serviceRegistryHolder.getServiceRegistry());
    String[] schema=config.generateSchemaCreationScript(new SQLServerDialect());
    for (    String s : schema) {
      log.debug(s);
    }
    log.debug("success");
  }
 catch (  Exception e) {
    StringWriter writer=new StringWriter();
    e.printStackTrace(new PrintWriter(writer));
    log.debug(writer.toString());
    fail(e.getMessage());
  }
}
