{
  final SessionFactoryImplementor factory=session.getFactory();
  UniqueKeyLoadable persister=(UniqueKeyLoadable)factory.getEntityPersister(entityName);
  EntityUniqueKey euk=new EntityUniqueKey(entityName,uniqueKeyPropertyName,key,getIdentifierOrUniqueKeyType(factory),session.getEntityMode(),session.getFactory());
  final PersistenceContext persistenceContext=session.getPersistenceContext();
  Object result=persistenceContext.getEntity(euk);
  if (result == null) {
    result=persister.loadByUniqueKey(uniqueKeyPropertyName,key,session);
  }
  return result == null ? null : persistenceContext.proxyFor(result);
}
