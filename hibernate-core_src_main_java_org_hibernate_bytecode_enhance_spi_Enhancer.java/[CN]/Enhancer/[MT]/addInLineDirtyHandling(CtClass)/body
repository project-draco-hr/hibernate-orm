{
  try {
    if (isComposite) {
      managedCtClass.addInterface(classPool.get("org.hibernate.engine.spi.CompositeTracker"));
      CtClass compositeCtType=classPool.get("org.hibernate.bytecode.enhance.spi.CompositeOwnerTracker");
      addField(managedCtClass,compositeCtType,EnhancerConstants.TRACKER_COMPOSITE_FIELD_NAME,true);
      createCompositeTrackerMethod(managedCtClass);
    }
 else {
      managedCtClass.addInterface(classPool.get("org.hibernate.engine.spi.SelfDirtinessTracker"));
      CtClass trackerCtType=classPool.get("java.util.Set");
      addField(managedCtClass,trackerCtType,EnhancerConstants.TRACKER_FIELD_NAME,true);
      CtClass collectionTrackerCtType=classPool.get("org.hibernate.bytecode.enhance.spi.CollectionTracker");
      addField(managedCtClass,collectionTrackerCtType,EnhancerConstants.TRACKER_COLLECTION_NAME,true);
      createDirtyTrackerMethods(managedCtClass);
    }
  }
 catch (  NotFoundException e) {
    e.printStackTrace();
  }
}
