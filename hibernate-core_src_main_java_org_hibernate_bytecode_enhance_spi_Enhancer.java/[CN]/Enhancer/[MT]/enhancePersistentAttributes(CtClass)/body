{
  addInterceptorHandling(managedCtClass);
  if (enhancementContext.doDirtyCheckingInline(managedCtClass)) {
    addInLineDirtyHandling(managedCtClass);
  }
  final IdentityHashMap<String,PersistentAttributeDescriptor> attrDescriptorMap=new IdentityHashMap<String,PersistentAttributeDescriptor>();
  for (  CtField persistentField : collectPersistentFields(managedCtClass)) {
    attrDescriptorMap.put(persistentField.getName(),enhancePersistentAttribute(managedCtClass,persistentField));
  }
  transformFieldAccessesIntoReadsAndWrites(managedCtClass,attrDescriptorMap);
}
