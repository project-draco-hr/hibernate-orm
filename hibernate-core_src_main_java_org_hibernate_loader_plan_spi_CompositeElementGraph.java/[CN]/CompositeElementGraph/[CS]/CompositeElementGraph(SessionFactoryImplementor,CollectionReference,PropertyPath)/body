{
  super(sessionFactory);
  this.collectionReference=collectionReference;
  this.collectionPersister=collectionReference.getCollectionPersister();
  this.propertyPath=collectionPath.append("<elements>");
  this.sqlSelectFragmentResolver=new CompositeBasedSqlSelectFragmentResolver(sessionFactory,(CompositeType)collectionPersister.getElementType(),new CompositeBasedSqlSelectFragmentResolver.BaseSqlSelectFragmentResolver(){
    @Override public String[] toSqlSelectFragments(    String alias){
      return ((QueryableCollection)collectionPersister).getElementColumnNames(alias);
    }
  }
);
}
