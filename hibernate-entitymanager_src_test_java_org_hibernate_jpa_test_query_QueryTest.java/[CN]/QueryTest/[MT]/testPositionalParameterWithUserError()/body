{
  EntityManager em=getOrCreateEntityManager();
  em.getTransaction().begin();
  Wallet w=new Wallet();
  w.setBrand("Lacoste");
  w.setModel("Minimic");
  w.setSerial("0100202002");
  em.persist(w);
  em.flush();
  Query query=em.createQuery("select w from Wallet w where w.brand = ?1 and w.model = ?3");
  query.setParameter(1,"Lacoste");
  try {
    query.setParameter(2,"Expensive");
    fail("Should fail due to a user error in parameters");
  }
 catch (  IllegalArgumentException e) {
  }
 finally {
    em.getTransaction().rollback();
    em.close();
  }
}
