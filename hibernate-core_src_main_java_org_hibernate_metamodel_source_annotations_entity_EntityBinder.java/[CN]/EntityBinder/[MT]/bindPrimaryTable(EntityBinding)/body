{
  final Schema schema=bindingContext.getMetadataImplementor().getDatabase().getSchema(schemaName);
  AnnotationInstance tableAnnotation=JandexHelper.getSingleAnnotation(entityClass.getClassInfo(),JPADotNames.TABLE);
  String tableName=null;
  if (tableAnnotation != null) {
    String explicitTableName=JandexHelper.getValue(tableAnnotation,"name",String.class);
    if (StringHelper.isNotEmpty(explicitTableName)) {
      tableName=bindingContext.getNamingStrategy().tableName(explicitTableName);
    }
  }
  if (StringHelper.isEmpty(tableName)) {
    tableName=bindingContext.getNamingStrategy().classToTableName(entityClass.getClassNameForTable());
  }
  org.hibernate.metamodel.relational.Table table=schema.locateOrCreateTable(Identifier.toIdentifier(tableName));
  entityBinding.setBaseTable(table);
  AnnotationInstance checkAnnotation=JandexHelper.getSingleAnnotation(entityClass.getClassInfo(),HibernateDotNames.CHECK);
  if (checkAnnotation != null) {
    table.addCheckConstraint(checkAnnotation.value("constraints").asString());
  }
}
