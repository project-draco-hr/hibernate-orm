{
  AnnotationInstance cacheAnnotation=JandexHelper.getSingleAnnotation(entityClass.getClassInfo(),HibernateDotNames.CACHE);
  if (cacheAnnotation == null) {
    return;
  }
  String region;
  if (cacheAnnotation.value("region") != null) {
    region=cacheAnnotation.value("region").asString();
  }
 else {
    region=entityBindingState.getEntityName();
  }
  boolean cacheLazyProperties=true;
  if (cacheAnnotation.value("include") != null) {
    String tmp=cacheAnnotation.value("include").asString();
    if ("all".equalsIgnoreCase(tmp)) {
      cacheLazyProperties=true;
    }
 else     if ("non-lazy".equalsIgnoreCase(tmp)) {
      cacheLazyProperties=false;
    }
 else {
      throw new AnnotationException("Unknown lazy property annotations: " + tmp);
    }
  }
  CacheConcurrencyStrategy strategy=CacheConcurrencyStrategy.valueOf(cacheAnnotation.value("usage").asEnum());
  Caching caching=new Caching(region,strategy.toAccessType(),cacheLazyProperties);
  entityBindingState.setCaching(caching);
}
