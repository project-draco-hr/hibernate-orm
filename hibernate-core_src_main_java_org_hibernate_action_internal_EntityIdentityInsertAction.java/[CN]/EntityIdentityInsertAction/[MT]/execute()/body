{
  if (!areTransientReferencesNullified()) {
    nullifyTransientReferences();
  }
  final EntityPersister persister=getPersister();
  final SessionImplementor session=getSession();
  final Object instance=getInstance();
  boolean veto=preInsert();
  if (!veto) {
    generatedId=persister.insert(getState(),instance,session);
    if (persister.hasInsertGeneratedProperties()) {
      persister.processInsertGeneratedProperties(generatedId,instance,getState(),session);
    }
    persister.setIdentifier(instance,generatedId,session);
    getSession().getPersistenceContext().registerInsertedKey(getPersister(),generatedId);
    entityKey=getSession().generateEntityKey(generatedId,persister);
    getSession().getPersistenceContext().checkUniqueness(entityKey,getInstance());
  }
  postInsert();
  if (session.getFactory().getStatistics().isStatisticsEnabled() && !veto) {
    session.getFactory().getStatisticsImplementor().insertEntity(getPersister().getEntityName());
  }
  markExecuted();
}
