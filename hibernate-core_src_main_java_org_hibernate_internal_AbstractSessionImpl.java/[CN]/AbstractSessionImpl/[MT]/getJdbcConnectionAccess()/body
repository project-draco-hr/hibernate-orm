{
  if (jdbcConnectionAccess == null) {
    if (MultiTenancyStrategy.NONE == factory.getSettings().getMultiTenancyStrategy()) {
      jdbcConnectionAccess=new NonContextualJdbcConnectionAccess(getSessionEventsManager(),factory.getServiceRegistry().getService(ConnectionProvider.class));
    }
 else {
      jdbcConnectionAccess=new ContextualJdbcConnectionAccess(getSessionEventsManager(),factory.getServiceRegistry().getService(MultiTenantConnectionProvider.class));
    }
  }
  return jdbcConnectionAccess;
}
