{
  if (LOG.isTraceEnabled())   LOG.trace("Reassociating transient instance: " + MessageHelper.infoString(persister,id,event.getSession().getFactory()));
  EventSource source=event.getSession();
  EntityKey key=new EntityKey(id,persister,source.getEntityMode());
  source.getPersistenceContext().checkUniqueness(key,object);
  Object[] values=persister.getPropertyValues(object,source.getEntityMode());
  TypeHelper.deepCopy(values,persister.getPropertyTypes(),persister.getPropertyUpdateability(),values,source);
  Object version=Versioning.getVersion(values,persister);
  EntityEntry newEntry=source.getPersistenceContext().addEntity(object,(persister.isMutable() ? Status.MANAGED : Status.READ_ONLY),values,key,version,LockMode.NONE,true,persister,false,true);
  new OnLockVisitor(source,id,object).process(object,persister);
  persister.afterReassociate(object,source);
  return newEntry;
}
