{
  log.trace("executing flush");
  try {
    session.getJDBCContext().getConnectionManager().flushBeginning();
    session.getActionQueue().prepareActions();
    session.getActionQueue().executeActions();
  }
 catch (  HibernateException he) {
    log.error("Could not synchronize database state with session",he);
    throw he;
  }
 finally {
    session.getJDBCContext().getConnectionManager().flushEnding();
  }
}
