{
  checkQuerySpaceDoesNotExist(uid);
  final EntityQuerySpaceImpl space=new EntityQuerySpaceImpl(entityPersister,uid,this,canJoinsBeRequired && !entityPersister.getEntityMetamodel().hasSubclasses());
  registerQuerySpace(space);
  return space;
}
