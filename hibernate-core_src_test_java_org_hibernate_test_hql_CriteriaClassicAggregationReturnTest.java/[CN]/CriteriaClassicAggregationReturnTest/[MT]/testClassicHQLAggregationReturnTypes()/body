{
  QueryTranslatorImpl translator=createNewQueryTranslator("select count(*) from Human h",sessionFactory());
  assertEquals("incorrect return type count",1,translator.getReturnTypes().length);
  assertEquals("incorrect return type",IntegerType.INSTANCE,translator.getReturnTypes()[0]);
  translator=createNewQueryTranslator("select count(h.heightInches) from Human h",sessionFactory());
  assertEquals("incorrect return type count",1,translator.getReturnTypes().length);
  assertEquals("incorrect return type",IntegerType.INSTANCE,translator.getReturnTypes()[0]);
  translator=createNewQueryTranslator("select max(h.heightInches) from Human h",sessionFactory());
  assertEquals("incorrect return type count",1,translator.getReturnTypes().length);
  assertEquals("incorrect return type",DoubleType.INSTANCE,translator.getReturnTypes()[0]);
  translator=createNewQueryTranslator("select max(h.id) from Human h",sessionFactory());
  assertEquals("incorrect return type count",1,translator.getReturnTypes().length);
  assertEquals("incorrect return type",LongType.INSTANCE,translator.getReturnTypes()[0]);
  translator=createNewQueryTranslator("select avg(h.heightInches) from Human h",sessionFactory());
  assertEquals("incorrect return type count",1,translator.getReturnTypes().length);
  assertEquals("incorrect return type",DoubleType.INSTANCE,translator.getReturnTypes()[0]);
  translator=createNewQueryTranslator("select avg(h.id) from Human h",sessionFactory());
  assertEquals("incorrect return type count",1,translator.getReturnTypes().length);
  assertEquals("incorrect return type",FloatType.INSTANCE,translator.getReturnTypes()[0]);
  translator=createNewQueryTranslator("select avg(h.bigIntegerValue) from Human h",sessionFactory());
  assertEquals("incorrect return type count",1,translator.getReturnTypes().length);
  assertEquals("incorrect return type",BigIntegerType.INSTANCE,translator.getReturnTypes()[0]);
  translator=createNewQueryTranslator("select sum(h.id) from Human h",sessionFactory());
  assertEquals("incorrect return type count",1,translator.getReturnTypes().length);
  assertEquals("incorrect return type",LongType.INSTANCE,translator.getReturnTypes()[0]);
  translator=createNewQueryTranslator("select sum(h.intValue) from Human h",sessionFactory());
  assertEquals("incorrect return type count",1,translator.getReturnTypes().length);
  assertEquals("incorrect return type",IntegerType.INSTANCE,translator.getReturnTypes()[0]);
  translator=createNewQueryTranslator("select sum(h.heightInches) from Human h",sessionFactory());
  assertEquals("incorrect return type count",1,translator.getReturnTypes().length);
  assertEquals("incorrect return type",DoubleType.INSTANCE,translator.getReturnTypes()[0]);
  translator=createNewQueryTranslator("select sum(h.floatValue) from Human h",sessionFactory());
  assertEquals("incorrect return type count",1,translator.getReturnTypes().length);
  assertEquals("incorrect return type",FloatType.INSTANCE,translator.getReturnTypes()[0]);
  translator=createNewQueryTranslator("select sum(h.bigIntegerValue) from Human h",sessionFactory());
  assertEquals("incorrect return type count",1,translator.getReturnTypes().length);
  assertEquals("incorrect return type",BigIntegerType.INSTANCE,translator.getReturnTypes()[0]);
  translator=createNewQueryTranslator("select sum(h.bigDecimalValue) from Human h",sessionFactory());
  assertEquals("incorrect return type count",1,translator.getReturnTypes().length);
  assertEquals("incorrect return type",BigDecimalType.INSTANCE,translator.getReturnTypes()[0]);
  String hql="select count(*) from Human h";
  QueryTranslatorFactory classic=new ClassicQueryTranslatorFactory();
  QueryTranslator oldQueryTranslator=classic.createQueryTranslator(hql,hql,Collections.EMPTY_MAP,sessionFactory());
  oldQueryTranslator.compile(Collections.EMPTY_MAP,true);
  assertEquals("incorrect return type count",1,oldQueryTranslator.getReturnTypes().length);
  assertEquals("incorrect return type",IntegerType.INSTANCE,oldQueryTranslator.getReturnTypes()[0]);
}
