{
  log.trace("executing flush");
  try {
    session.getTransactionCoordinator().getJdbcCoordinator().flushBeginning();
    session.getActionQueue().prepareActions();
    session.getActionQueue().executeActions();
  }
 catch (  HibernateException he) {
    log.error("Could not synchronize database state with session",he);
    throw he;
  }
 finally {
    session.getTransactionCoordinator().getJdbcCoordinator().flushEnding();
  }
}
