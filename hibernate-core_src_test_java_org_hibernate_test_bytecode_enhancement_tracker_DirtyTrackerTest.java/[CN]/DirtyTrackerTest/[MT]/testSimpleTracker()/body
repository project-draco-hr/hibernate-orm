{
  SimpleDirtyTracker tracker=new SimpleDirtyTracker();
  assertTrue(tracker.isEmpty());
  assertTrue(tracker.asSet().isEmpty());
  tracker.add("foo");
  assertFalse(tracker.isEmpty());
  assertArrayEquals(tracker.asSet().toArray(),new String[]{"foo"});
  tracker.clear();
  assertTrue(tracker.isEmpty());
  assertTrue(tracker.asSet().isEmpty());
  tracker.add("foo");
  tracker.add("bar");
  tracker.add("another.bar");
  tracker.add("foo");
  tracker.add("another.foo");
  tracker.add("another.bar");
  assertTrue(tracker.asSet().size() == 4);
}
