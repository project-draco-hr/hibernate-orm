{
  if (!available) {
    throw new HibernateException("Provider is closed!");
  }
  return useCredentials ? dataSource.getConnection(user,pass) : dataSource.getConnection();
}
