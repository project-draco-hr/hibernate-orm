{
  final ExpandingEntityQuerySpace rhs=lhsQuerySpace.getExpandingQuerySpaces().makeEntityQuerySpace(querySpaceUid,fetchedPersister,required);
  if (shouldIncludeJoin) {
    final JoinDefinedByMetadata join=JoinHelper.INSTANCE.createEntityJoin(lhsQuerySpace,attributeName,rhs,required,attributeType,fetchedPersister.getFactory());
    lhsQuerySpace.addJoin(join);
  }
  return rhs;
}
