{
  @SuppressWarnings("unchecked") final Class<X> clazz=type.getReturnedClass();
  Component component=(Component)value;
  @SuppressWarnings("unchecked") final Iterator<Property> subProperties=component.getPropertyIterator();
  final EmbeddableType<X> embeddableType=new EmbeddableTypeImpl<X>(clazz,subProperties,context);
  context.addEmbeddableType(clazz,embeddableType);
  return embeddableType;
}
