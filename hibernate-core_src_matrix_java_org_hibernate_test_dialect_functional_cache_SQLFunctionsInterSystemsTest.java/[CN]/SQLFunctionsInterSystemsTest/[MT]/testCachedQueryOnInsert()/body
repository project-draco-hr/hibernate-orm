{
  Session s=openSession();
  Transaction t=s.beginTransaction();
  Simple simple=new Simple(Long.valueOf(10));
  simple.setName("Simple 1");
  s.save(simple);
  t.commit();
  s.close();
  s=openSession();
  t=s.beginTransaction();
  Query q=s.createQuery("from Simple s");
  List list=q.setCacheable(true).list();
  assertTrue(list.size() == 1);
  t.commit();
  s.close();
  s=openSession();
  t=s.beginTransaction();
  q=s.createQuery("from Simple s");
  list=q.setCacheable(true).list();
  assertTrue(list.size() == 1);
  t.commit();
  s.close();
  s=openSession();
  t=s.beginTransaction();
  Simple simple2=new Simple(Long.valueOf(12));
  simple2.setCount(133);
  s.save(simple2);
  t.commit();
  s.close();
  s=openSession();
  t=s.beginTransaction();
  q=s.createQuery("from Simple s");
  list=q.setCacheable(true).list();
  assertTrue(list.size() == 2);
  t.commit();
  s.close();
  s=openSession();
  t=s.beginTransaction();
  q=s.createQuery("from Simple s");
  list=q.setCacheable(true).list();
  assertTrue(list.size() == 2);
  for (  Object o : list) {
    s.delete(o);
  }
  t.commit();
  s.close();
}
