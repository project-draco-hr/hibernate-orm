{
  final String entityQuerySpaceUid=getQuerySpaces().generateImplicitUid();
  final EntityQuerySpaceImpl entityQuerySpace=new EntityQuerySpaceImpl(elementPersister,entityQuerySpaceUid,getQuerySpaces(),canJoinsBeRequired(),sessionFactory());
  getQuerySpaces().registerQuerySpace(entityQuerySpace);
  final JoinDefinedByMetadata join=JoinHelper.INSTANCE.createEntityJoin(this,CollectionPropertyNames.COLLECTION_ELEMENTS,entityQuerySpace,canJoinsBeRequired(),(EntityType)persister.getElementType(),sessionFactory());
  internalGetJoins().add(join);
  return join;
}
