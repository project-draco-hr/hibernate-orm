{
  final SessionFactoryImplementor factory=getLockable().getFactory();
  final LockOptions lockOptions=new LockOptions(getLockMode());
  lockOptions.setTimeOut(timeout);
  final SimpleSelect select=new SimpleSelect(factory.getDialect()).setLockOptions(lockOptions).setTableName(getLockable().getRootTableName()).addColumn(getLockable().getRootTableIdentifierColumnNames()[0]).addCondition(getLockable().getRootTableIdentifierColumnNames(),"=?");
  if (getLockable().isVersioned()) {
    select.addCondition(getLockable().getVersionColumnName(),"=?");
  }
  if (factory.getSettings().isCommentsEnabled()) {
    select.setComment(getLockMode() + " lock " + getLockable().getEntityName());
  }
  return select.toStatementString();
}
