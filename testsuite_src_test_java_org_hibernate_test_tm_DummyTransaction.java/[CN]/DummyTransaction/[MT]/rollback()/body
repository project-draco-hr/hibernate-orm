{
  status=Status.STATUS_ROLLING_BACK;
  status=Status.STATUS_ROLLEDBACK;
  try {
    connection.rollback();
    connection.close();
  }
 catch (  SQLException sqle) {
    status=Status.STATUS_UNKNOWN;
    throw new SystemException();
  }
  for (int i=0; i < synchronizations.size(); i++) {
    Synchronization s=(Synchronization)synchronizations.get(i);
    s.afterCompletion(status);
  }
  transactionManager.endCurrent(this);
}
