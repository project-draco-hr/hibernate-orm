{
  String tableName=tableSource.getExplicitTableName();
  if (StringHelper.isEmpty(tableName)) {
    tableName=currentBindingContext.getNamingStrategy().classToTableName(entityBinding.getEntity().getClassName());
  }
 else {
    tableName=currentBindingContext.getNamingStrategy().tableName(tableName);
  }
  if (currentBindingContext.isGloballyQuotedIdentifiers()) {
    tableName=StringHelper.quote(tableName);
  }
  final Schema.Name databaseSchemaName=Helper.determineDatabaseSchemaName(tableSource.getExplicitSchemaName(),tableSource.getExplicitCatalogName(),currentBindingContext);
  return currentBindingContext.getMetadataImplementor().getDatabase().locateSchema(databaseSchemaName).locateOrCreateTable(Identifier.toIdentifier(tableName));
}
