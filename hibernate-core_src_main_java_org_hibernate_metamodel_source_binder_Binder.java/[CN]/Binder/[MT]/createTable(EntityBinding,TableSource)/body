{
  final String schemaName=StringHelper.isEmpty(tableSource.getExplicitSchemaName()) ? currentBindingContext.getMappingDefaults().getSchemaName() : currentBindingContext.isGloballyQuotedIdentifiers() ? StringHelper.quote(tableSource.getExplicitSchemaName()) : tableSource.getExplicitSchemaName();
  final String catalogName=StringHelper.isEmpty(tableSource.getExplicitCatalogName()) ? currentBindingContext.getMappingDefaults().getCatalogName() : currentBindingContext.isGloballyQuotedIdentifiers() ? StringHelper.quote(tableSource.getExplicitCatalogName()) : tableSource.getExplicitCatalogName();
  String tableName=tableSource.getExplicitTableName();
  if (StringHelper.isEmpty(tableName)) {
    tableName=currentBindingContext.getNamingStrategy().classToTableName(entityBinding.getEntity().getClassName());
  }
 else {
    tableName=currentBindingContext.getNamingStrategy().tableName(tableName);
  }
  if (currentBindingContext.isGloballyQuotedIdentifiers()) {
    tableName=StringHelper.quote(tableName);
  }
  return currentBindingContext.getMetadataImplementor().getDatabase().getSchema(new Schema.Name(schemaName,catalogName)).locateOrCreateTable(Identifier.toIdentifier(tableName));
}
