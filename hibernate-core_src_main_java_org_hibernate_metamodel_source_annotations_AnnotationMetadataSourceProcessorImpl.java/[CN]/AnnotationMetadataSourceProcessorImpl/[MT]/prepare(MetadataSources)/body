{
  Indexer indexer=new Indexer();
  for (  Class<?> clazz : sources.getAnnotatedClasses()) {
    indexClass(indexer,clazz.getName().replace('.','/') + ".class");
  }
  for (  String packageName : sources.getAnnotatedPackages()) {
    indexClass(indexer,packageName.replace('.','/') + "/package-info.class");
  }
  Index index=indexer.complete();
  List<JaxbRoot<JaxbEntityMappings>> mappings=new ArrayList<JaxbRoot<JaxbEntityMappings>>();
  for (  JaxbRoot<?> root : sources.getJaxbRootList()) {
    if (root.getRoot() instanceof JaxbEntityMappings) {
      mappings.add((JaxbRoot<JaxbEntityMappings>)root);
    }
  }
  if (!mappings.isEmpty()) {
    index=parseAndUpdateIndex(mappings,index);
  }
  if (index.getAnnotations(PseudoJpaDotNames.DEFAULT_DELIMITED_IDENTIFIERS) != null) {
    metadata.setGloballyQuotedIdentifiers(true);
  }
  bindingContext=new AnnotationBindingContextImpl(metadata,index);
}
