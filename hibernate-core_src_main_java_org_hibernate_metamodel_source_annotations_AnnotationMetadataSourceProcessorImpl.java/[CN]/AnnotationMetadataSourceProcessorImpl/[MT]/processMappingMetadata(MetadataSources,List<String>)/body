{
  assertBindingContextExists();
  Set<ConfiguredClassHierarchy<EntityClass>> hierarchies=ConfiguredClassHierarchyBuilder.createEntityHierarchies(bindingContext);
  Hierarchical parent=null;
  for (  ConfiguredClassHierarchy<EntityClass> hierarchy : hierarchies) {
    for (    EntityClass entityClass : hierarchy) {
      if (ConfiguredClassType.ENTITY.equals(entityClass.getConfiguredClassType())) {
        LOG.debugf("Binding entity from annotated class: %s",entityClass.getName());
        EntityBinder entityBinder=new EntityBinder(entityClass,parent,bindingContext);
        EntityBinding binding=entityBinder.bind(processedEntityNames);
        parent=binding.getEntity();
      }
 else       if (ConfiguredClassType.MAPPED_SUPERCLASS.equals(entityClass.getConfiguredClassType())) {
        parent=new Superclass(entityClass.getName(),entityClass.getName(),bindingContext.makeClassReference(entityClass.getName()),parent);
      }
 else {
        parent=new NonEntity(entityClass.getName(),entityClass.getName(),bindingContext.makeClassReference(entityClass.getName()),parent);
      }
    }
  }
}
