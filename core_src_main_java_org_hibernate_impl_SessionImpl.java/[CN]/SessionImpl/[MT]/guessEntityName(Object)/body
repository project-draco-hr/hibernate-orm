{
  errorIfClosed();
  String entity=interceptor.getEntityName(object);
  if (entity == null) {
    if (object instanceof Map) {
      entity=(String)((Map)object).get(DynamicMapInstantiator.KEY);
      if (entity == null) {
        throw new HibernateException("could not determine type of dynamic entity");
      }
    }
 else     if (object instanceof Element) {
      entity=((Element)object).getName();
    }
 else {
      entity=object.getClass().getName();
    }
  }
  return entity;
}
