{
  EntityBinding binding=entityBindingMap.get(entityName);
  if (binding == null) {
    throw new IllegalStateException("Unknown entity binding: " + entityName);
  }
  do {
    if (binding.isRoot()) {
      return binding;
    }
    binding=binding.getSuperEntityBinding();
  }
 while (binding != null);
  throw new AssertionFailure("Entity binding has no root: " + entityName);
}
