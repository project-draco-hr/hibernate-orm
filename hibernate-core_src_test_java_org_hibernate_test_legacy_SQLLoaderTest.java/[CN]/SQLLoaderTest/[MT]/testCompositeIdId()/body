{
  Session s=openSession();
  s.beginTransaction();
  CompositeIdId id=new CompositeIdId();
  id.setName("Max");
  id.setSystem("c64");
  id.setId("games");
  s.save(id);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  String sql=String.format("select %1$s as {c.system}, " + "  id as {c.id}, name as {c.name}, " + "  foo as {c.composite.foo}, "+ "  bar as {c.composite.bar} "+ "from CompositeIdId "+ "where %1$s=? and id=?",getDialect().openQuote() + "system" + getDialect().closeQuote());
  SQLQuery query=s.createSQLQuery(sql).addEntity("c",CompositeIdId.class);
  query.setString(0,"c64");
  query.setString(1,"games");
  CompositeIdId id2=(CompositeIdId)query.uniqueResult();
  check(id,id2);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  CompositeIdId useForGet=new CompositeIdId();
  useForGet.setSystem("c64");
  useForGet.setId("games");
  CompositeIdId getted=(CompositeIdId)s.get(CompositeIdId.class,useForGet);
  check(id,getted);
  s.getTransaction().commit();
  s.close();
}
