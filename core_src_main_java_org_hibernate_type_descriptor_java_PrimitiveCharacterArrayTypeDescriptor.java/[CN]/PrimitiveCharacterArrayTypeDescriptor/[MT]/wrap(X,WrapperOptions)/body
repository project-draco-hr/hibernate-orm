{
  if (value == null) {
    return null;
  }
  if (char[].class.isInstance(value)) {
    return (char[])value;
  }
  if (String.class.isInstance(value)) {
    return ((String)value).toCharArray();
  }
  if (Clob.class.isInstance(value)) {
    try {
      return DataHelper.extractString(((Clob)value).getCharacterStream()).toCharArray();
    }
 catch (    SQLException e) {
      throw new HibernateException("Unable to access lob stream",e);
    }
  }
  if (Reader.class.isInstance(value)) {
    return DataHelper.extractString(((Reader)value)).toCharArray();
  }
  throw unknownWrap(value.getClass());
}
