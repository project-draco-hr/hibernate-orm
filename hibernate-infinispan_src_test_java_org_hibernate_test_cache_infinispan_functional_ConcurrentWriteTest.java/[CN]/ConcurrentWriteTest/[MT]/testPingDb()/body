{
  try {
    beginTx();
    getEnvironment().getSessionFactory().getCurrentSession().createQuery("from " + Customer.class.getName()).list();
  }
 catch (  Exception e) {
    setRollbackOnlyTx(e);
  }
 finally {
    commitOrRollbackTx();
  }
}
