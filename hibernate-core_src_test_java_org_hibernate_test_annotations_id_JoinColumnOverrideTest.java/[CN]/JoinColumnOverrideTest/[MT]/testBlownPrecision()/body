{
  try {
    Configuration config=new Configuration();
    config.addAnnotatedClass(Bunny.class);
    config.addAnnotatedClass(PointyTooth.class);
    config.addAnnotatedClass(TwinkleToes.class);
    config.buildSessionFactory(ServiceRegistryBuilder.buildServiceRegistry(config.getProperties()));
    String[] schema=config.generateSchemaCreationScript(new SQLServerDialect());
    for (    String s : schema) {
      LOG.debug(s);
    }
    String expectedSqlPointyTooth="create table PointyTooth (id numeric(128,0) not null, " + "bunny_id numeric(128,0) null, primary key (id))";
    assertEquals("Wrong SQL",expectedSqlPointyTooth,schema[1]);
    String expectedSqlTwinkleToes="create table TwinkleToes (id numeric(128,0) not null, " + "bunny_id numeric(128,0) null, primary key (id))";
    assertEquals("Wrong SQL",expectedSqlTwinkleToes,schema[2]);
  }
 catch (  Exception e) {
    StringWriter writer=new StringWriter();
    e.printStackTrace(new PrintWriter(writer));
    LOG.debug(writer.toString());
    fail(e.getMessage());
  }
}
