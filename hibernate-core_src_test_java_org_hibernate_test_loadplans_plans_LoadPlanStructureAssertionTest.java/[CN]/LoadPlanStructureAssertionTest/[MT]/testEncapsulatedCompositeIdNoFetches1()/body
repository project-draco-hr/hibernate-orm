{
  Configuration cfg=new Configuration();
  cfg.addAnnotatedClass(EncapsulatedCompositeIdResultSetProcessorTest.CardField.class);
  cfg.addAnnotatedClass(EncapsulatedCompositeIdResultSetProcessorTest.Card.class);
  SessionFactoryImplementor sf=(SessionFactoryImplementor)cfg.buildSessionFactory();
  try {
    doCompare(sf,(OuterJoinLoadable)sf.getClassMetadata(EncapsulatedCompositeIdResultSetProcessorTest.CardField.class));
    doCompare(sf,(OuterJoinLoadable)sf.getClassMetadata(EncapsulatedCompositeIdResultSetProcessorTest.Card.class));
  }
  finally {
    sf.close();
  }
}
