{
  Session s1=sessionFactory().openSession();
  s1.beginTransaction();
  s1.createQuery("from A a").setLockOptions(new LockOptions(LockMode.PESSIMISTIC_WRITE)).uniqueResult();
  s1.createQuery("from A a").setLockOptions(new LockOptions().setAliasSpecificLockMode("a",LockMode.PESSIMISTIC_WRITE)).uniqueResult();
  s1.getTransaction().commit();
  s1.close();
}
