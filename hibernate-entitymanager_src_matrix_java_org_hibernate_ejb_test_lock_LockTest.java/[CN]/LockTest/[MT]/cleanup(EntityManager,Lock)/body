{
  if (em.getTransaction().isActive()) {
    em.getTransaction().rollback();
  }
  em.getTransaction().begin();
  lock=em.getReference(Lock.class,lock.getId());
  em.remove(lock);
  em.getTransaction().commit();
  em.close();
}
