{
  this.entity=entity;
  metaAttributes=HbmHelper.extractMetas(entityClazz.getMeta(),true,defaults.getMappingMetas());
  lazy=MappingHelper.getBooleanValue(entityClazz.getLazy(),defaults.isDefaultLazy());
  discriminatorValue=MappingHelper.getStringValue(entityClazz.getDiscriminatorValue(),entity.getName());
  dynamicUpdate=MappingHelper.getBooleanValue(entityClazz.getDynamicUpdate(),false);
  dynamicInsert=MappingHelper.getBooleanValue(entityClazz.getDynamicInsert(),false);
  batchSize=MappingHelper.getIntValue(entityClazz.getBatchSize(),0);
  selectBeforeUpdate=MappingHelper.getBooleanValue(entityClazz.getSelectBeforeUpdate(),false);
  String optimisticLockModeString=MappingHelper.getStringValue(entityClazz.getOptimisticLock(),"version");
  if ("version".equals(optimisticLockModeString)) {
    optimisticLockMode=Versioning.OPTIMISTIC_LOCK_VERSION;
  }
 else   if ("dirty".equals(optimisticLockModeString)) {
    optimisticLockMode=Versioning.OPTIMISTIC_LOCK_DIRTY;
  }
 else   if ("all".equals(optimisticLockModeString)) {
    optimisticLockMode=Versioning.OPTIMISTIC_LOCK_ALL;
  }
 else   if ("none".equals(optimisticLockModeString)) {
    optimisticLockMode=Versioning.OPTIMISTIC_LOCK_NONE;
  }
 else {
    throw new MappingException("Unsupported optimistic-lock style: " + optimisticLockModeString);
  }
  if (entityClazz.getPersister() != null) {
    try {
      entityPersisterClass=ReflectHelper.classForName(entityClazz.getPersister());
    }
 catch (    ClassNotFoundException cnfe) {
      throw new MappingException("Could not find persister class: " + entityClazz.getPersister());
    }
  }
  org.hibernate.metamodel.source.hbm.xml.mapping.SqlInsert sqlInsert=entityClazz.getSqlInsert();
  if (sqlInsert != null) {
    customInsert=HbmHelper.getCustomSql(sqlInsert.getContent(),MappingHelper.getBooleanValue(sqlInsert.getCallable(),false),sqlInsert.getCheck());
  }
  org.hibernate.metamodel.source.hbm.xml.mapping.SqlDelete sqlDelete=entityClazz.getSqlDelete();
  if (sqlDelete != null) {
    customDelete=HbmHelper.getCustomSql(sqlDelete.getContent(),MappingHelper.getBooleanValue(sqlDelete.getCallable(),false),sqlDelete.getCheck());
  }
  org.hibernate.metamodel.source.hbm.xml.mapping.SqlUpdate sqlUpdate=entityClazz.getSqlUpdate();
  if (sqlUpdate != null) {
    customUpdate=HbmHelper.getCustomSql(sqlUpdate.getContent(),MappingHelper.getBooleanValue(sqlUpdate.getCallable(),false),sqlUpdate.getCheck());
  }
  if (entityClazz.getSynchronize() != null) {
    for (    org.hibernate.metamodel.source.hbm.xml.mapping.Synchronize synchronize : entityClazz.getSynchronize()) {
      addSynchronizedTable(synchronize.getTable());
    }
  }
  isAbstract=MappingHelper.getBooleanValue(entityClazz.getAbstract(),false);
}
