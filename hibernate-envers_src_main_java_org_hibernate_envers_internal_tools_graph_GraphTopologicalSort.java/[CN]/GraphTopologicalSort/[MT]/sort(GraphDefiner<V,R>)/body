{
  final List<V> values=definer.getValues();
  final Map<R,Vertex<R>> vertices=new HashMap<R,Vertex<R>>();
  for (  V v : values) {
    final R rep=definer.getRepresentation(v);
    vertices.put(rep,new Vertex<R>(rep));
  }
  for (  V v : values) {
    for (    V vn : definer.getNeighbours(v)) {
      vertices.get(definer.getRepresentation(v)).addNeighbour(vertices.get(definer.getRepresentation(vn)));
    }
  }
  final List<R> sortedReps=new TopologicalSort<R>().sort(vertices.values());
  final List<V> sortedValues=new ArrayList<V>(sortedReps.size());
  for (  R rep : sortedReps) {
    sortedValues.add(definer.getValue(rep));
  }
  return sortedValues;
}
