{
  final Type elementType=persister.getElementType();
  final List subElements=element.elements(persister.getElementNodeName());
  final ArrayList snapshot=new ArrayList(subElements.size());
  for (  Object subElement : subElements) {
    final Element element=(Element)subElement;
    final Object value=elementType.fromXMLNode(element,persister.getFactory());
    final Object copy=elementType.deepCopy(value,persister.getFactory());
    snapshot.add(copy);
  }
  return snapshot;
}
