{
  String dialectName=properties.getProperty(Environment.DIALECT);
  if (dialectName == null) {
    throw new HibernateException("'hibernate.dialect' must be set when no Connection avalable");
  }
  return constructDialect(dialectName);
}
