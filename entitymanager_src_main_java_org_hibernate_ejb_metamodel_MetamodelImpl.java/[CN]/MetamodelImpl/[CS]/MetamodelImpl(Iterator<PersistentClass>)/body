{
  Map<Class<?>,EntityType<?>> localEntities=new HashMap<Class<?>,EntityType<?>>();
  MetadataContext context=new MetadataContext();
  while (classes.hasNext()) {
    buildEntityType(classes,localEntities,context);
  }
  this.entities=Collections.unmodifiableMap(localEntities);
  this.embeddables=Collections.unmodifiableMap(context.getEmbeddableTypes());
  context.postProcess(this);
}
