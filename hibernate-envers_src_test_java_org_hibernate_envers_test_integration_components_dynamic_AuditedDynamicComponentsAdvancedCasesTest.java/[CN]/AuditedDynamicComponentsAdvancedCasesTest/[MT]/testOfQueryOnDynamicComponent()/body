{
  AdvancedEntity entity=getAdvancedEntity(getManyToOneEntity(),getOneToOneEntity(),getManyToManyEntity());
  ManyToOneEntity manyToOneEntity=(ManyToOneEntity)entity.getDynamicConfiguration().get(PROP_MANY_TO_ONE);
  List resultList=getAuditReader().createQuery().forEntitiesAtRevision(AdvancedEntity.class,1).add(AuditEntity.relatedId("dynamicConfiguration_" + PROP_MANY_TO_ONE).eq(manyToOneEntity.getId())).getResultList();
  Assert.assertEquals(entity,resultList.get(0));
  try {
    OneToOneEntity oneToOneEntity=(OneToOneEntity)entity.getDynamicConfiguration().get(PROP_ONE_TO_ONE);
    getAuditReader().createQuery().forEntitiesAtRevision(AdvancedEntity.class,1).add(AuditEntity.property("dynamicConfiguration_" + PROP_ONE_TO_ONE).eq(oneToOneEntity)).getResultList();
    Assert.fail();
  }
 catch (  QueryException e) {
  }
catch (  Exception e) {
    Assert.fail();
  }
  try {
    getAuditReader().createQuery().forEntitiesAtRevision(AdvancedEntity.class,1).add(AuditEntity.property("dynamicConfiguration_" + INTERNAL_LIST).eq(entity.getDynamicConfiguration().get(INTERNAL_LIST))).getResultList();
    Assert.fail();
  }
 catch (  QueryException e) {
    e.printStackTrace();
  }
catch (  Exception e) {
    Assert.fail();
  }
}
