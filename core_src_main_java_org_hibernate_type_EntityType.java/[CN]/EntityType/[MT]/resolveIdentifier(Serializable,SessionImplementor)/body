{
  boolean isProxyUnwrapEnabled=unwrapProxy && session.getFactory().getEntityPersister(getAssociatedEntityName()).isInstrumented(session.getEntityMode());
  Object proxyOrEntity=session.internalLoad(getAssociatedEntityName(),id,eager,isNullable() && !isProxyUnwrapEnabled);
  if (proxyOrEntity instanceof HibernateProxy) {
    ((HibernateProxy)proxyOrEntity).getHibernateLazyInitializer().setUnwrap(isProxyUnwrapEnabled);
  }
  return proxyOrEntity;
}
