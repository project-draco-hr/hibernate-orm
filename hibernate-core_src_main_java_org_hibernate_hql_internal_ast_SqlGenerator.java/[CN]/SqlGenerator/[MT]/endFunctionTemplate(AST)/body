{
  FunctionNode functionNode=(FunctionNode)node;
  SQLFunction sqlFunction=functionNode.getSQLFunction();
  if (sqlFunction == null) {
    super.endFunctionTemplate(node);
  }
 else {
    final Type functionType=functionNode.getFirstArgumentType();
    FunctionArgumentsCollectingWriter functionArguments=(FunctionArgumentsCollectingWriter)writer;
    writer=outputStack.removeFirst();
    out(sqlFunction.render(functionType,functionArguments.getArgs(),sessionFactory));
  }
}
