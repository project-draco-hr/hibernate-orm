{
  try {
    em=getOrCreateEntityManager();
    super.runTest();
  }
 catch (  Throwable t) {
    if (em.getTransaction().isActive())     em.getTransaction().rollback();
    throw t;
  }
}
