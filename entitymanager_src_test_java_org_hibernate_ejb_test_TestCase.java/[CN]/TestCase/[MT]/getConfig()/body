{
  Map config=loadProperties();
  ArrayList<Class> classes=new ArrayList<Class>();
  for (  Class clazz : getAnnotatedClasses()) {
    classes.add(clazz);
  }
  config.put(HibernatePersistence.LOADED_CLASSES,classes);
  for (  Map.Entry<Class,String> entry : getCachedClasses().entrySet()) {
    config.put(HibernatePersistence.CLASS_CACHE_PREFIX + "." + entry.getKey().getName(),entry.getValue());
  }
  for (  Map.Entry<String,String> entry : getCachedCollections().entrySet()) {
    config.put(HibernatePersistence.COLLECTION_CACHE_PREFIX + "." + entry.getKey(),entry.getValue());
  }
  if (getEjb3DD().length > 0) {
    ArrayList<String> dds=new ArrayList<String>();
    for (    String dd : getEjb3DD()) {
      dds.add(dd);
    }
    config.put(HibernatePersistence.XML_FILE_NAMES,dds);
  }
  return config;
}
