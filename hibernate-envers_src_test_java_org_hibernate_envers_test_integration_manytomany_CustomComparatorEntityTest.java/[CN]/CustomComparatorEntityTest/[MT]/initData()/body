{
  EntityManager em=getEntityManager();
  SortedSetEntity entity1=new SortedSetEntity(1,"sortedEntity1");
  em.getTransaction().begin();
  em.persist(entity1);
  em.getTransaction().commit();
  em.getTransaction().begin();
  entity1=em.find(SortedSetEntity.class,1);
  final StrTestEntity strTestEntity1=new StrTestEntity("abc");
  em.persist(strTestEntity1);
  id1=strTestEntity1.getId();
  entity1.getSortedSet().add(strTestEntity1);
  entity1.getSortedMap().put(strTestEntity1,"abc");
  em.getTransaction().commit();
  em.getTransaction().begin();
  entity1=em.find(SortedSetEntity.class,1);
  final StrTestEntity strTestEntity2=new StrTestEntity("aaa");
  em.persist(strTestEntity2);
  id2=strTestEntity2.getId();
  entity1.getSortedSet().add(strTestEntity2);
  entity1.getSortedMap().put(strTestEntity2,"aaa");
  em.getTransaction().commit();
  em.getTransaction().begin();
  entity1=em.find(SortedSetEntity.class,1);
  final StrTestEntity strTestEntity3=new StrTestEntity("aba");
  em.persist(strTestEntity3);
  id3=strTestEntity3.getId();
  entity1.getSortedSet().add(strTestEntity3);
  entity1.getSortedMap().put(strTestEntity3,"aba");
  em.getTransaction().commit();
  em.getTransaction().begin();
  entity1=em.find(SortedSetEntity.class,1);
  final StrTestEntity strTestEntity4=new StrTestEntity("aac");
  em.persist(strTestEntity4);
  id4=strTestEntity4.getId();
  entity1.getSortedSet().add(strTestEntity4);
  entity1.getSortedMap().put(strTestEntity4,"aac");
  em.getTransaction().commit();
}
