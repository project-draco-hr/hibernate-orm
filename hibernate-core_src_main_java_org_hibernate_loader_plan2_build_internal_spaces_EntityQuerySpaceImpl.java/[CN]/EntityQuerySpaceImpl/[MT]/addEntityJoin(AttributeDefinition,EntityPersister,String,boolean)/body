{
  final boolean required=canJoinsBeRequired() && !optional;
  final EntityQuerySpaceImpl rhs=new EntityQuerySpaceImpl(persister,querySpaceUid,getQuerySpaces(),required,sessionFactory());
  getQuerySpaces().registerQuerySpace(rhs);
  final JoinImpl join=new JoinImpl(this,attribute.getName(),rhs,Helper.INSTANCE.determineRhsColumnNames((EntityType)attribute.getType(),sessionFactory()),(AssociationType)attribute.getType(),required);
  internalGetJoins().add(join);
  return join;
}
