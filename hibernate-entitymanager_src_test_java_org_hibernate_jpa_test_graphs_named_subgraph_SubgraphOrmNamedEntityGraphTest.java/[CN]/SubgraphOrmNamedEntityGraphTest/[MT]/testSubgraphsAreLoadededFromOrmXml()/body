{
  EntityManager entityManager=getOrCreateEntityManager();
  List<EntityGraph<? super Book>> lneg=entityManager.getEntityGraphs(Book.class);
  Assert.assertEquals(2,lneg.size());
  for (  EntityGraph<? super Book> neg : lneg) {
    if (neg.getName().equalsIgnoreCase("full")) {
      Assert.assertNotNull(neg.getAttributeNodes());
      for (      AttributeNode<?> n : neg.getAttributeNodes()) {
        if (n.getAttributeName().equalsIgnoreCase("authors")) {
          Assert.assertEquals(1,n.getSubgraphs().size());
          java.util.List<javax.persistence.AttributeNode<?>> attributeNodes=n.getSubgraphs().get(Author.class).getAttributeNodes();
          Assert.assertNotNull("Subgraph attributes missing",attributeNodes);
          Assert.assertEquals("Subgraph wrong number of attributes ",3,attributeNodes.size());
        }
      }
    }
  }
  entityManager.close();
}
