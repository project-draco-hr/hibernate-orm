{
  if (obj == null) {
    return;
  }
  Class<?> entityClass=ReflectionTools.loadClass(owningEntityName);
  Object value;
  try {
    value=versionsReader.createQuery().forEntitiesAtRevision(entityClass,revision).add(AuditRestrictions.relatedIdEq(owningReferencePropertyName,primaryKey)).getSingleResult();
  }
 catch (  NoResultException e) {
    value=null;
  }
catch (  NonUniqueResultException e) {
    throw new AuditException("Many versions results for one-to-one relationship: (" + owningEntityName + ", "+ owningReferencePropertyName+ ")");
  }
  Setter setter=ReflectionTools.getSetter(obj.getClass(),propertyData);
  setter.set(obj,value,null);
}
