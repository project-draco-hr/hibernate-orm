{
  Column col=(Column)identifier.getColumnIterator().next();
  String defaultName=mappings.getLogicalColumnName(col.getQuotedName(),identifier.getTable());
  if (pkJoinAnn != null || joinAnn != null) {
    String colName;
    String columnDefinition;
    String referencedColumnName;
    if (pkJoinAnn != null) {
      colName=pkJoinAnn.name();
      columnDefinition=pkJoinAnn.columnDefinition();
      referencedColumnName=pkJoinAnn.referencedColumnName();
    }
 else {
      colName=joinAnn.name();
      columnDefinition=joinAnn.columnDefinition();
      referencedColumnName=joinAnn.referencedColumnName();
    }
    String sqlType="".equals(columnDefinition) ? null : mappings.getObjectNameNormalizer().normalizeIdentifierQuoting(columnDefinition);
    String name="".equals(colName) ? defaultName : colName;
    name=mappings.getObjectNameNormalizer().normalizeIdentifierQuoting(name);
    return new Ejb3JoinColumn(sqlType,name,false,false,true,true,referencedColumnName,null,joins,propertyHolder,null,null,false,mappings);
  }
 else {
    defaultName=mappings.getObjectNameNormalizer().normalizeIdentifierQuoting(defaultName);
    return new Ejb3JoinColumn(null,defaultName,false,false,true,true,null,null,joins,propertyHolder,null,null,true,mappings);
  }
}
