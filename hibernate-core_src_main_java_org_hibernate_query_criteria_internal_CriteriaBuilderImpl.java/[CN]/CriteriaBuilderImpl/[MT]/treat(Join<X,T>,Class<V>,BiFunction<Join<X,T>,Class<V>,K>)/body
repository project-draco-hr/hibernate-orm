{
  final Set<Join<X,?>> joins=join.getParent().getJoins();
  final K treatAs=f.apply(join,type);
  joins.add(treatAs);
  return treatAs;
}
