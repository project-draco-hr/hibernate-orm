{
  Session s=openSession();
  Transaction t=s.beginTransaction();
  s.createQuery("update Animal a set a.mother = null where a.id = 2").executeUpdate();
  if (!(getDialect() instanceof MySQLDialect)) {
    s.createQuery("update Animal a set a.mother = (from Animal where id = 1) where a.id = 2").executeUpdate();
  }
  t.commit();
  s.close();
}
