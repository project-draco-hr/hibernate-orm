{
  if (dirty) {
    entryArray=new Map.Entry[map.size()];
    Iterator iter=map.entrySet().iterator();
    int i=0;
    while (iter.hasNext()) {
      Map.Entry me=(Map.Entry)iter.next();
      entryArray[i++]=new IdentityMapEntry(((IdentityKey)me.getKey()).key,me.getValue());
    }
    dirty=false;
  }
  return entryArray;
}
