{
  TypeOverrides regionOverride=typeOverrides.get(regionName);
  if (!definedConfigurations.contains(regionName)) {
    String templateCacheName=null;
    Configuration regionCacheCfg=null;
    if (regionOverride != null) {
      if (log.isDebugEnabled())       log.debug("Cache region specific configuration exists: " + regionOverride);
      regionOverride=overrideStatisticsIfPresent(regionOverride,properties);
      regionCacheCfg=regionOverride.createInfinispanConfiguration();
      String cacheName=regionOverride.getCacheName();
      if (cacheName != null)       templateCacheName=cacheName;
 else       templateCacheName=typeOverrides.get(typeKey).getCacheName();
    }
 else {
      templateCacheName=typeOverrides.get(typeKey).getCacheName();
      regionCacheCfg=typeOverrides.get(typeKey).createInfinispanConfiguration();
    }
    regionCacheCfg=configureTransactionManager(regionCacheCfg,templateCacheName,properties);
    manager.defineConfiguration(regionName,templateCacheName,regionCacheCfg);
    definedConfigurations.add(regionName);
  }
  AdvancedCache cache=manager.getCache(regionName).getAdvancedCache();
  if (!cache.getStatus().allowInvocations()) {
    cache.start();
  }
  return createCacheWrapper(cache);
}
