{
  if (log.isDebugEnabled()) {
    log.debugf("Building entity cache region [%s] (mutable=%s, versioned=%s)",regionName,metadata.isMutable(),metadata.isVersioned());
  }
  final AdvancedCache cache=getCache(regionName,metadata.isMutable() ? ENTITY_KEY : IMMUTABLE_ENTITY_KEY,properties,metadata);
  final EntityRegionImpl region=new EntityRegionImpl(cache,regionName,transactionManager,metadata,this,buildCacheKeysFactory());
  startRegion(region,regionName);
  return region;
}
