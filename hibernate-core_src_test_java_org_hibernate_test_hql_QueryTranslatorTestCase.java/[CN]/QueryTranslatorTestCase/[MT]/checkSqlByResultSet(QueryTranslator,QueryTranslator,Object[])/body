{
  String oldsql=oldQueryTranslator.getSQLString();
  String newsql=newQueryTranslator.getSQLString();
  Session session=openSession();
  Connection connection=session.connection();
  PreparedStatement oldps=null;
  PreparedStatement newps=null;
  ResultSet oldrs=null;
  ResultSet newrs=null;
  try {
    try {
      oldps=connection.prepareStatement(oldsql);
    }
 catch (    Throwable t) {
      fail("Unable to prepare sql generated by old parser : " + t);
    }
    try {
      newps=connection.prepareStatement(newsql);
    }
 catch (    Throwable t) {
      fail("Unable to prepare sql generated by new parser : " + t);
    }
    checkBinds(oldps,newps,binds);
    try {
      oldrs=executeQuery(oldps,binds);
    }
 catch (    Throwable t) {
      fail("Unable to execute sql generated by old parser : " + t);
    }
    try {
      newrs=executeQuery(newps,binds);
    }
 catch (    Throwable t) {
      fail("Unable to execute sql generated by new parser : " + t);
    }
    checkResults(oldrs,newrs);
  }
  finally {
    release(oldrs);
    release(newrs);
    release(oldps);
    release(newps);
    release(session);
  }
}
