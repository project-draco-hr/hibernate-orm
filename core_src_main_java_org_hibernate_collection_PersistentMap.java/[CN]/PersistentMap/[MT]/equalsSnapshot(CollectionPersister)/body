{
  Type elementType=persister.getElementType();
  Map xmap=(Map)getSnapshot();
  if (xmap.size() != this.map.size())   return false;
  Iterator iter=map.entrySet().iterator();
  while (iter.hasNext()) {
    Map.Entry entry=(Map.Entry)iter.next();
    if (elementType.isDirty(entry.getValue(),xmap.get(entry.getKey()),getSession()))     return false;
  }
  return true;
}
