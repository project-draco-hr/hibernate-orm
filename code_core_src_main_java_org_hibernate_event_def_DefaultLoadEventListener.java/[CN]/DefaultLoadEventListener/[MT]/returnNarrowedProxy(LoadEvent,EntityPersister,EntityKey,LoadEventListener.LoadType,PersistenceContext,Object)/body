{
  log.trace("entity proxy found in session cache");
  LazyInitializer li=((HibernateProxy)proxy).getHibernateLazyInitializer();
  if (li.isUnwrap()) {
    return li.getImplementation();
  }
  Object impl=null;
  if (!options.isAllowProxyCreation()) {
    impl=load(event,persister,keyToLoad,options);
    if (impl == null) {
      event.getSession().getFactory().getEntityNotFoundDelegate().handleEntityNotFound(persister.getEntityName(),keyToLoad.getIdentifier());
    }
  }
  return persistenceContext.narrowProxy(proxy,persister,keyToLoad,impl);
}
