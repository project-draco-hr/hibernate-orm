{
  Session session=openSession();
  if ((getDialect() instanceof MySQLDialect)) {
    session.connection().setTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED);
  }
  try {
    session.load(Simple.class,new Long(-1));
    fail();
  }
 catch (  ObjectNotFoundException onfe) {
  }
  Session anotherSession=getSessions().openSession();
  Simple myNewSimple=new Simple();
  myNewSimple.setName("My under the radar Simple entity");
  myNewSimple.setAddress("SessionCacheTest.testLoadAfterNonExists");
  myNewSimple.setCount(1);
  myNewSimple.setDate(new Date());
  myNewSimple.setPay(new Float(100000000));
  anotherSession.save(myNewSimple,new Long(-1));
  anotherSession.flush();
  anotherSession.connection().commit();
  anotherSession.close();
  session.load(Simple.class,new Long(-1));
  session.clear();
  try {
    Simple dummy=(Simple)session.load(Simple.class,new Long(-1));
    assertNotNull("Unable to locate entity Simple with id = -1",dummy);
  }
 catch (  ObjectNotFoundException onfe) {
    fail("Unable to locate entity Simple with id = -1");
  }
  session.connection().commit();
  session.close();
}
