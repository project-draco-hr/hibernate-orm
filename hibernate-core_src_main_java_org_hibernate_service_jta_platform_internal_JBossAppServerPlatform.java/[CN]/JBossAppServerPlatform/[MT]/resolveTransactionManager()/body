{
  if (cacheTransactionManager) {
    if (transactionManager == null) {
      transactionManager=(TransactionManager)jndiService.locate(TM_NAME);
    }
    return transactionManager;
  }
 else {
    return (TransactionManager)jndiService.locate(TM_NAME);
  }
}
