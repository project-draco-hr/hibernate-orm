{
  Session s=openSession();
  Transaction t=s.beginTransaction();
  final double HUMAN_INCHES=73;
  final double ALIEN_INCHES=931;
  final double HUMAN_CENTIMETERS=HUMAN_INCHES * 2.54d;
  final double ALIEN_CENTIMETERS=ALIEN_INCHES * 2.54d;
  Human gavin=new Human();
  gavin.setName("gavin");
  gavin.setSex('M');
  gavin.setAddress("Melbourne, Australia");
  gavin.setHeightInches(HUMAN_INCHES);
  Alien x23y4=new Alien();
  x23y4.setIdentity("x23y4$$hu%3");
  x23y4.setPlanet("Mars");
  x23y4.setSpecies("martian");
  x23y4.setHeightInches(ALIEN_INCHES);
  s.save(gavin);
  s.save(x23y4);
  s.flush();
  Double humanHeightViaSql=((Number)s.createSQLQuery("select height_centimeters from humans").uniqueResult()).doubleValue();
  assertEquals(HUMAN_CENTIMETERS,humanHeightViaSql,0.01d);
  Double alienHeightViaSql=((Number)s.createSQLQuery("select height_centimeters from aliens").uniqueResult()).doubleValue();
  assertEquals(ALIEN_CENTIMETERS,alienHeightViaSql,0.01d);
  s.clear();
  Double heightViaHql=(Double)s.createQuery("select heightInches from Being b where b.identity = 'gavin'").uniqueResult();
  assertEquals(HUMAN_INCHES,heightViaHql,0.01d);
  Being b=(Being)s.createCriteria(Being.class).add(Restrictions.between("heightInches",HUMAN_INCHES - 0.01d,HUMAN_INCHES + 0.01d)).uniqueResult();
  assertEquals(HUMAN_INCHES,b.getHeightInches(),0.01d);
  b=(Being)s.createQuery("from Being b where b.heightInches between ? and ?").setDouble(0,ALIEN_INCHES - 0.01d).setDouble(1,ALIEN_INCHES + 0.01d).uniqueResult();
  assertEquals(ALIEN_INCHES,b.getHeightInches(),0.01d);
  s.delete(gavin);
  s.delete(x23y4);
  t.commit();
  s.close();
}
