{
  final boolean registerListeners=ConfigurationHelper.getBoolean(AUTO_REGISTER,configuration.getProperties(),false);
  if (!registerListeners) {
    LOG.debug("Skipping search event listener auto registration");
    return;
  }
  final Class listenerClass=loadSearchEventListener(serviceRegistry);
  if (listenerClass == null) {
    LOG.debug("Skipping search event listener auto registration - could not fid listener class");
    return;
  }
  final Object listener=instantiateListener(listenerClass);
  EventListenerRegistry listenerRegistry=serviceRegistry.getService(EventListenerRegistry.class);
  listenerRegistry.addDuplicationStrategy(new DuplicationStrategyImpl(listenerClass));
  listenerRegistry.getEventListenerGroup(EventType.POST_INSERT).appendListener((PostInsertEventListener)listener);
  listenerRegistry.getEventListenerGroup(EventType.POST_UPDATE).appendListener((PostUpdateEventListener)listener);
  listenerRegistry.getEventListenerGroup(EventType.POST_DELETE).appendListener((PostDeleteEventListener)listener);
  listenerRegistry.getEventListenerGroup(EventType.POST_COLLECTION_RECREATE).appendListener((PostCollectionRecreateEventListener)listener);
  listenerRegistry.getEventListenerGroup(EventType.POST_COLLECTION_REMOVE).appendListener((PostCollectionRemoveEventListener)listener);
  listenerRegistry.getEventListenerGroup(EventType.POST_COLLECTION_UPDATE).appendListener((PostCollectionUpdateEventListener)listener);
}
