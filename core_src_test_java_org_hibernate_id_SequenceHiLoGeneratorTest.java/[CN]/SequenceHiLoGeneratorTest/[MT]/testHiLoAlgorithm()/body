{
  SessionImpl session=(SessionImpl)sessionFactory.openSession();
  session.beginTransaction();
  assertEquals(0L,extractSequenceValue(session));
  Long generatedValue=(Long)generator.generate(session,null);
  assertEquals(4L,generatedValue.longValue());
  assertEquals(1L,extractSequenceValue(session));
  generatedValue=(Long)generator.generate(session,null);
  assertEquals(5L,generatedValue.longValue());
  assertEquals(1L,extractSequenceValue(session));
  generatedValue=(Long)generator.generate(session,null);
  assertEquals(6L,generatedValue.longValue());
  assertEquals(1L,extractSequenceValue(session));
  generatedValue=(Long)generator.generate(session,null);
  assertEquals(7L,generatedValue.longValue());
  assertEquals(1L,extractSequenceValue(session));
  generatedValue=(Long)generator.generate(session,null);
  assertEquals(8L,generatedValue.longValue());
  assertEquals(2L,extractSequenceValue(session));
  session.getTransaction().commit();
  session.close();
}
