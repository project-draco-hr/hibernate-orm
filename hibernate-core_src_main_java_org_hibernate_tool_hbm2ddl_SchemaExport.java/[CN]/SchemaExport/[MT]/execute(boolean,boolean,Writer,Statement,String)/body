{
  final SqlExceptionHelper sqlExceptionHelper=new SqlExceptionHelper();
  String formatted=formatter.format(sql);
  if (delimiter != null)   formatted+=delimiter;
  if (script)   System.out.println(formatted);
  LOG.debug(formatted);
  if (outputFile != null) {
    fileOutput.write(formatted + "\n");
  }
  if (export) {
    statement.executeUpdate(sql);
    try {
      SQLWarning warnings=statement.getWarnings();
      if (warnings != null) {
        sqlExceptionHelper.logAndClearWarnings(connectionHelper.getConnection());
      }
    }
 catch (    SQLException sqle) {
      LOG.unableToLogSqlWarnings(sqle);
    }
  }
}
