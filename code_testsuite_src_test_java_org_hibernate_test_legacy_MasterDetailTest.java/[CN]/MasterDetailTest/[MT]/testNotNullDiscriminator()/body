{
  Session s=openSession();
  Transaction t=s.beginTransaction();
  Up up=new Up();
  up.setId1("foo");
  up.setId2(123l);
  Down down=new Down();
  down.setId1("foo");
  down.setId2(321l);
  down.setValue(12312312l);
  s.save(up);
  s.save(down);
  t.commit();
  s.close();
  s=openSession();
  t=s.beginTransaction();
  List list=s.find("from Up up order by up.id2 asc");
  assertTrue(list.size() == 2);
  assertFalse(list.get(0) instanceof Down);
  assertTrue(list.get(1) instanceof Down);
  list=s.find("from Down down");
  assertTrue(list.size() == 1);
  assertTrue(list.get(0) instanceof Down);
  assertTrue(list.size() == 1);
  assertTrue(list.get(0) instanceof Down);
  s.delete("from Up up");
  t.commit();
  s.close();
}
