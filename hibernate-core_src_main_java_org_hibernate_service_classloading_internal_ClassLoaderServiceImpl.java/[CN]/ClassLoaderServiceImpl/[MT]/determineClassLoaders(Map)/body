{
  ClassLoader applicationClassLoader=(ClassLoader)configVales.get(AvailableSettings.APP_CLASSLOADER);
  ClassLoader resourcesClassLoader=(ClassLoader)configVales.get(AvailableSettings.RESOURCES_CLASSLOADER);
  ClassLoader hibernateClassLoader=(ClassLoader)configVales.get(AvailableSettings.HIBERNATE_CLASSLOADER);
  ClassLoader environmentClassLoader=(ClassLoader)configVales.get(AvailableSettings.ENVIRONMENT_CLASSLOADER);
  if (hibernateClassLoader == null) {
    hibernateClassLoader=ClassLoaderServiceImpl.class.getClassLoader();
  }
  if (environmentClassLoader == null || applicationClassLoader == null) {
    ClassLoader sysClassLoader=locateSystemClassLoader();
    ClassLoader tccl=locateTCCL();
    if (environmentClassLoader == null) {
      environmentClassLoader=sysClassLoader != null ? sysClassLoader : hibernateClassLoader;
    }
    if (applicationClassLoader == null) {
      applicationClassLoader=tccl != null ? tccl : hibernateClassLoader;
    }
  }
  if (resourcesClassLoader == null) {
    resourcesClassLoader=applicationClassLoader;
  }
  return new ClassLoader[]{applicationClassLoader,resourcesClassLoader,hibernateClassLoader,environmentClassLoader};
}
