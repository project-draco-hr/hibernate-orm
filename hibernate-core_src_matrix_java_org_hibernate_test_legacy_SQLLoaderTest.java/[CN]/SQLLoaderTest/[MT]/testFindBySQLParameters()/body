{
  Session s=openSession();
  s.beginTransaction();
  for (  Object entity : s.createQuery("from Assignable").list()) {
    s.delete(entity);
  }
  for (  Object entity : s.createQuery("from Category").list()) {
    s.delete(entity);
  }
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  Category c=new Category();
  c.setName("Good");
  Assignable assn=new Assignable();
  assn.setId("i.d.");
  List l=new ArrayList();
  l.add(c);
  assn.setCategories(l);
  c.setAssignable(assn);
  s.save(assn);
  s.flush();
  c=new Category();
  c.setName("Best");
  assn=new Assignable();
  assn.setId("i.d.2");
  l=new ArrayList();
  l.add(c);
  assn.setCategories(l);
  c.setAssignable(assn);
  s.save(assn);
  s.flush();
  c=new Category();
  c.setName("Better");
  assn=new Assignable();
  assn.setId("i.d.7");
  l=new ArrayList();
  l.add(c);
  assn.setCategories(l);
  c.setAssignable(assn);
  s.save(assn);
  s.flush();
  assn=new Assignable();
  assn.setId("i.d.3");
  s.save(assn);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  Query basicParam=s.createSQLQuery("select {category.*} from category {category} where {category}.name = 'Best'").addEntity("category",Category.class);
  List list=basicParam.list();
  assertEquals(1,list.size());
  Query unnamedParam=s.createSQLQuery("select {category.*} from category {category} where {category}.name = ? or {category}.name = ?").addEntity("category",Category.class);
  unnamedParam.setString(0,"Good");
  unnamedParam.setString(1,"Best");
  list=unnamedParam.list();
  assertEquals(2,list.size());
  Query namedParam=s.createSQLQuery("select {category.*} from category {category} where ({category}.name=:firstCat or {category}.name=:secondCat)").addEntity("category",Category.class);
  namedParam.setString("firstCat","Better");
  namedParam.setString("secondCat","Best");
  list=namedParam.list();
  assertEquals(2,list.size());
  s.getTransaction().commit();
  s.close();
}
