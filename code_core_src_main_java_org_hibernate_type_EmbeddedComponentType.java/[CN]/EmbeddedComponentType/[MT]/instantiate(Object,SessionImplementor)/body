{
  final boolean useParent=parent != null && super.getReturnedClass().isInstance(parent);
  return useParent ? parent : super.instantiate(parent,session);
}
