{
  BasicGetter getter=getGetterOrNull(theClass,propertyName);
  Class returnType=(getter == null) ? null : getter.getReturnType();
  Method[] methods=theClass.getDeclaredMethods();
  Method potentialSetter=null;
  for (  Method method : methods) {
    final String methodName=method.getName();
    if (method.getParameterTypes().length == 1 && methodName.startsWith("set")) {
      String testStdMethod=Introspector.decapitalize(methodName.substring(3));
      String testOldMethod=methodName.substring(3);
      if (testStdMethod.equals(propertyName) || testOldMethod.equals(propertyName)) {
        potentialSetter=method;
        if (returnType == null || method.getParameterTypes()[0].equals(returnType)) {
          return potentialSetter;
        }
      }
    }
  }
  return potentialSetter;
}
