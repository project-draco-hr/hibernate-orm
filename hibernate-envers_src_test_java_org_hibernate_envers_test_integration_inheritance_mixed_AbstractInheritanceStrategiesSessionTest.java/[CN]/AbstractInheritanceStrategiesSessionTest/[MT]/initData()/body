{
  NormalActivity normalActivity=new NormalActivity();
  normalActivity.setId(1);
  normalActivity.setSequenceNumber(1);
  getSession().getTransaction().begin();
  getSession().persist(normalActivity);
  getSession().getTransaction().commit();
  getSession().getTransaction().begin();
  normalActivity=(NormalActivity)getSession().get(NormalActivity.class,1);
  CheckInActivity checkInActivity=new CheckInActivity();
  checkInActivity.setId(2);
  checkInActivity.setSequenceNumber(0);
  checkInActivity.setDurationInMinutes(30);
  checkInActivity.setRelatedActivity(normalActivity);
  getSession().persist(checkInActivity);
  getSession().getTransaction().commit();
  normalActivity=new NormalActivity();
  normalActivity.setId(3);
  normalActivity.setSequenceNumber(2);
  getSession().getTransaction().begin();
  getSession().persist(normalActivity);
  getSession().getTransaction().commit();
  getSession().getTransaction().begin();
  normalActivity=(NormalActivity)getSession().get(NormalActivity.class,3);
  checkInActivity=(CheckInActivity)getSession().get(CheckInActivity.class,2);
  checkInActivity.setRelatedActivity(normalActivity);
  getSession().merge(checkInActivity);
  getSession().getTransaction().commit();
  getSession().close();
}
