{
  if (values == null) {
    throw new IllegalArgumentException("Collection must be not null!");
  }
  Type type=definition.getParameterType(name);
  if (type == null) {
    throw new HibernateException("Undefined filter parameter [" + name + "]");
  }
  if (values.size() > 0) {
    Class elementClass=values.iterator().next().getClass();
    if (!type.getReturnedClass().isAssignableFrom(elementClass)) {
      throw new HibernateException("Incorrect type for parameter [" + name + "]");
    }
  }
  parameters.put(name,values);
  return this;
}
