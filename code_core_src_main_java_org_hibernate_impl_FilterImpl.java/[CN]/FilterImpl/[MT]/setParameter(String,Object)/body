{
  Type type=definition.getParameterType(name);
  if (type == null) {
    throw new IllegalArgumentException("Undefined filter parameter [" + name + "]");
  }
  if (value != null && !type.getReturnedClass().isAssignableFrom(value.getClass())) {
    throw new IllegalArgumentException("Incorrect type for parameter [" + name + "]");
  }
  parameters.put(name,value);
  return this;
}
