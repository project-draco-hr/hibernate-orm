{
  final String filter=associationType != null ? associationType.getOnCondition(rhsTableAlias,factory,buildingParameters.getQueryInfluencers().getEnabledFilters()) : joinable.filterFragment(rhsTableAlias,buildingParameters.getQueryInfluencers().getEnabledFilters());
  if (StringHelper.isEmpty(withClause) && StringHelper.isEmpty(filter)) {
    return "";
  }
 else   if (StringHelper.isNotEmpty(withClause) && StringHelper.isNotEmpty(filter)) {
    return filter + " and " + withClause;
  }
 else {
    return StringHelper.isNotEmpty(filter) ? filter : withClause;
  }
}
