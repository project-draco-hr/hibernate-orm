{
  AttributeContext attrContext=getAttributeContext(property);
  final AttributeImplementor<X,Y> attribute;
  if (attrContext.isCollection()) {
    attribute=buildPluralAttribute(ownerType,property,attrContext);
  }
 else {
    final Type<Y> attrType=getType(attrContext.getElementTypeStatus(),attrContext.getElementValue());
    attribute=new SingularAttributeImpl<X,Y>(property.getName(),property.getType().getReturnedClass(),ownerType,determineJavaMember(property),false,false,property.isOptional(),attrType,attrContext.getElementAttributeType());
  }
  return attribute;
}
