{
  if (isVirtual(property,ownerType)) {
    log.trace("Skipping virtual property {}({})",ownerType.getJavaType().getName(),property.getName());
    return null;
  }
  log.trace("Building attribute [{}.{}]",ownerType.getJavaType().getName(),property.getName());
  final AttributeContext<X> attributeContext=wrap(ownerType,property);
  final AttributeMetadata<X,Y> attributeMetadata=determineAttributeMetadata(attributeContext,NORMAL_MEMBER_RESOLVER);
  if (attributeMetadata.isPlural()) {
    return buildPluralAttribute((PluralAttributeMetadata)attributeMetadata);
  }
 else {
    final SingularAttributeMetadata<X,Y> singularAttributeMetadata=(SingularAttributeMetadata<X,Y>)attributeMetadata;
    final Type<Y> metaModelType=getMetaModelType(singularAttributeMetadata.getValueContext());
    return new SingularAttributeImpl<X,Y>(attributeMetadata.getName(),attributeMetadata.getJavaType(),ownerType,attributeMetadata.getMember(),false,false,property.isOptional(),metaModelType,attributeMetadata.getPersistentAttributeType());
  }
}
