{
  if (log.isDebugEnabled()) {
    log.debugf("Batch loading entity: %s",MessageHelper.infoString(persister,ids,getFactory()));
  }
  final Type[] types=new Type[ids.length];
  Arrays.fill(types,idType);
  List result;
  try {
    final QueryParameters qp=new QueryParameters();
    qp.setPositionalParameterTypes(types);
    qp.setPositionalParameterValues(ids);
    qp.setOptionalObject(optionalObject);
    qp.setOptionalEntityName(optionalEntityName);
    qp.setOptionalId(optionalId);
    qp.setLockOptions(lockOptions);
    result=executeLoad(session,qp,staticSql,staticResultSetProcessor,staticAliasResolutionContext,false,null);
  }
 catch (  SQLException sqle) {
    throw factory.getSQLExceptionHelper().convert(sqle,"could not load an entity batch: " + MessageHelper.infoString(entityPersister,ids,getFactory()),getSqlStatement());
  }
  log.debug("Done entity batch load");
  return result;
}
