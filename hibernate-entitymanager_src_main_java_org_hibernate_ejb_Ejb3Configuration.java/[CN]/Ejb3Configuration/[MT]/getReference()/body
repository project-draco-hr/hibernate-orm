{
  LOG.debugf("Returning a Reference to the Ejb3Configuration");
  ByteArrayOutputStream stream=new ByteArrayOutputStream();
  ObjectOutput out=null;
  byte[] serialized;
  try {
    out=new ObjectOutputStream(stream);
    out.writeObject(this);
    out.close();
    serialized=stream.toByteArray();
    stream.close();
  }
 catch (  IOException e) {
    NamingException namingException=new NamingException("Unable to serialize Ejb3Configuration");
    namingException.setRootCause(e);
    throw namingException;
  }
  return new Reference(Ejb3Configuration.class.getName(),new BinaryRefAddr("object",serialized),Ejb3ConfigurationObjectFactory.class.getName(),null);
}
