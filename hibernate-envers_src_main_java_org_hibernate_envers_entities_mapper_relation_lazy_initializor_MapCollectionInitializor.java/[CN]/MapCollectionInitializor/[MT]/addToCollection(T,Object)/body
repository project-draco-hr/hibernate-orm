{
  Object elementData=collectionRow;
  Object indexData=collectionRow;
  if (collectionRow instanceof java.util.List) {
    elementData=((List)collectionRow).get(elementComponentData.getComponentIndex());
    indexData=((List)collectionRow).get(indexComponentData.getComponentIndex());
  }
  Object element=elementComponentData.getComponentMapper().mapToObjectFromFullMap(entityInstantiator,(Map<String,Object>)elementData,null,revision);
  Object index=indexComponentData.getComponentMapper().mapToObjectFromFullMap(entityInstantiator,(Map<String,Object>)indexData,element,revision);
  collection.put(index,element);
}
