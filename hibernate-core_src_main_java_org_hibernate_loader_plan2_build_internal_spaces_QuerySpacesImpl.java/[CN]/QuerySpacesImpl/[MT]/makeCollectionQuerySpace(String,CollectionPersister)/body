{
  if (querySpaceByUid.containsKey(uid)) {
    throw new IllegalStateException("Encountered duplicate QuerySpace uid : " + uid);
  }
  final CollectionQuerySpaceImpl space=new CollectionQuerySpaceImpl(collectionPersister,uid,this,true,sessionFactory);
  registerQuerySpace(space);
  roots.add(space);
  return space;
}
