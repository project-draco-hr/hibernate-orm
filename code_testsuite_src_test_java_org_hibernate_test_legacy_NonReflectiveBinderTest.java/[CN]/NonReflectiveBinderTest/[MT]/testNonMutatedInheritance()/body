{
  PersistentClass cm=cfg.getClassMapping("org.hibernate.test.legacy.Wicked");
  MetaAttribute metaAttribute=cm.getMetaAttribute("globalmutated");
  assertNotNull(metaAttribute);
  assertEquals("wicked level",metaAttribute.getValue());
  Property property=cm.getProperty("component");
  MetaAttribute propertyAttribute=property.getMetaAttribute("globalmutated");
  assertNotNull(propertyAttribute);
  assertEquals("monetaryamount level",propertyAttribute.getValue());
  org.hibernate.mapping.Component component=(Component)property.getValue();
  property=component.getProperty("x");
  propertyAttribute=property.getMetaAttribute("globalmutated");
  assertNotNull(propertyAttribute);
  assertEquals("monetaryamount x level",propertyAttribute.getValue());
  property=cm.getProperty("sortedEmployee");
  propertyAttribute=property.getMetaAttribute("globalmutated");
  assertNotNull(propertyAttribute);
  assertEquals("sortedemployee level",propertyAttribute.getValue());
  property=cm.getProperty("anotherSet");
  propertyAttribute=property.getMetaAttribute("globalmutated");
  assertNotNull(propertyAttribute);
  assertEquals("wicked level",propertyAttribute.getValue());
  Bag bag=(Bag)property.getValue();
  component=(Component)bag.getElement();
  assertEquals(4,component.getMetaAttributes().size());
  metaAttribute=component.getMetaAttribute("globalmutated");
  assertEquals("monetaryamount anotherSet composite level",metaAttribute.getValue());
  property=component.getProperty("emp");
  propertyAttribute=property.getMetaAttribute("globalmutated");
  assertNotNull(propertyAttribute);
  assertEquals("monetaryamount anotherSet composite property emp level",propertyAttribute.getValue());
  property=component.getProperty("empinone");
  propertyAttribute=property.getMetaAttribute("globalmutated");
  assertNotNull(propertyAttribute);
  assertEquals("monetaryamount anotherSet composite property empinone level",propertyAttribute.getValue());
}
