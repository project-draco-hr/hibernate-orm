{
  String schema=StringTools.isEmpty(joinTable.schema()) ? propertyValue.getCollectionTable().getSchema() : joinTable.schema();
  String catalog=StringTools.isEmpty(joinTable.catalog()) ? propertyValue.getCollectionTable().getCatalog() : joinTable.catalog();
  Element middleEntityXml=MetadataTools.createEntity(xmlMappingData.newAdditionalMapping(),versionsMiddleEntityName,versionsMiddleTableName,schema,catalog,null);
  Element middleEntityXmlId=middleEntityXml.addElement("composite-id");
  middleEntityXmlId.addAttribute("name",mainGenerator.getVerEntCfg().getOriginalIdPropName());
  mainGenerator.addRevisionInfoRelation(middleEntityXmlId);
  mainGenerator.addRevisionType(middleEntityXml);
  return middleEntityXmlId;
}
