{
  if (session == null) {
    if (sessionFactoryUuid == null) {
      throw new LazyInitializationException("could not initialize proxy - no Session");
    }
    try {
      SessionFactoryImplementor sf=(SessionFactoryImplementor)SessionFactoryRegistry.INSTANCE.getSessionFactory(sessionFactoryUuid);
      SessionImplementor session=(SessionImplementor)sf.openSession();
      session.getPersistenceContext().setDefaultReadOnly(true);
      session.setFlushMode(FlushMode.MANUAL);
      boolean isJTA=session.getTransactionCoordinator().getTransactionCoordinatorBuilder().isJta();
      if (!isJTA) {
        ((Session)session).beginTransaction();
      }
      try {
        target=session.immediateLoad(entityName,id);
      }
  finally {
        try {
          if (!isJTA) {
            ((Session)session).getTransaction().commit();
          }
          ((Session)session).close();
        }
 catch (        Exception e) {
          log.warn("Unable to close temporary session used to load lazy proxy associated to no session");
        }
      }
      initialized=true;
      checkTargetState();
    }
 catch (    Exception e) {
      e.printStackTrace();
      throw new LazyInitializationException(e.getMessage());
    }
  }
 else   if (session.isOpen() && session.isConnected()) {
    target=session.immediateLoad(entityName,id);
    initialized=true;
    checkTargetState();
  }
 else {
    throw new LazyInitializationException("could not initialize proxy - Session was closed or disced");
  }
}
