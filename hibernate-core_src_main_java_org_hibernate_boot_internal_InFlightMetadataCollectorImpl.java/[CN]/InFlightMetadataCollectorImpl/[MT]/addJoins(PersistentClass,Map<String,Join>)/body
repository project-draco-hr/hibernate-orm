{
  final EntityTableXrefImpl superEntityTableXref;
  if (persistentClass.getSuperclass() == null) {
    superEntityTableXref=null;
  }
 else {
    superEntityTableXref=entityTableXrefMap.get(persistentClass.getSuperclass().getEntityName());
  }
  final String primaryTableLogicalName=getLogicalTableName(persistentClass.getTable());
  final EntityTableXrefImpl xrefEntry=new EntityTableXrefImpl(getDatabase().toIdentifier(primaryTableLogicalName),persistentClass.getTable(),superEntityTableXref);
  final EntityTableXrefImpl old=entityTableXrefMap.put(persistentClass.getEntityName(),xrefEntry);
  if (old != null) {
    log.duplicateJoins(persistentClass.getEntityName());
  }
  xrefEntry.secondaryTableJoinMap=joins;
}
