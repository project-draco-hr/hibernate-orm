{
  final String entityName=event.getPersister().getEntityName();
  if (getAuditConfiguration().getEntCfg().isVersioned(entityName)) {
    checkIfTransactionInProgress(event.getSession());
    final AuditProcess auditProcess=getAuditConfiguration().getSyncManager().get(event.getSession());
    final AuditWorkUnit workUnit=new AddWorkUnit(event.getSession(),event.getPersister().getEntityName(),getAuditConfiguration(),event.getId(),event.getPersister(),event.getState());
    auditProcess.addWorkUnit(workUnit);
    if (workUnit.containsWork()) {
      generateBidirectionalCollectionChangeWorkUnits(auditProcess,event.getPersister(),entityName,event.getState(),null,event.getSession());
    }
  }
}
