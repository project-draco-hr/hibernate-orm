{
  log.trace("ResourceLocalTransactionCoordinatorImpl#beforeCompletionCallback");
  try {
    transactionCoordinatorOwner.beforeTransactionCompletion();
    synchronizationRegistry.notifySynchronizationsBeforeTransactionCompletion();
    for (    TransactionObserver observer : observers) {
      observer.beforeCompletion();
    }
  }
 catch (  RuntimeException e) {
    if (physicalTransactionDelegate != null) {
      physicalTransactionDelegate.markRollbackOnly();
    }
    throw e;
  }
}
