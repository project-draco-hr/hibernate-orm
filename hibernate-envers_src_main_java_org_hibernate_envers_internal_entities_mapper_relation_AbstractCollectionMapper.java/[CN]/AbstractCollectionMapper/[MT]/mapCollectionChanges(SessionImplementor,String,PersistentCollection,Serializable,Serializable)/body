{
  if (!commonCollectionMapperData.getCollectionReferencingPropertyData().getName().equals(referencingPropertyName)) {
    return null;
  }
  final List<PersistentCollectionChangeData> collectionChanges=new ArrayList<PersistentCollectionChangeData>();
  final Collection newCollection=getNewCollectionContent(newColl);
  final Collection oldCollection=getOldCollectionContent(oldColl);
  final Set<Object> added=new HashSet<Object>();
  if (newColl != null) {
    added.addAll(newCollection);
  }
  if (oldColl != null) {
    added.removeAll(new HashSet(oldCollection));
  }
  addCollectionChanges(session,collectionChanges,added,RevisionType.ADD,id);
  final Set<Object> deleted=new HashSet<Object>();
  if (oldColl != null) {
    deleted.addAll(oldCollection);
  }
  if (newColl != null) {
    deleted.removeAll(new HashSet(newCollection));
  }
  addCollectionChanges(session,collectionChanges,deleted,RevisionType.DEL,id);
  return collectionChanges;
}
