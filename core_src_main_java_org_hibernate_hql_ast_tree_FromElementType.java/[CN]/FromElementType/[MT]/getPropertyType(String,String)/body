{
  checkInitialized();
  Type type=null;
  if (persister != null && propertyName.equals(propertyPath) && propertyName.equals(persister.getIdentifierPropertyName())) {
    type=persister.getIdentifierType();
  }
 else {
    PropertyMapping mapping=getPropertyMapping(propertyName);
    type=mapping.toType(propertyPath);
  }
  if (type == null) {
    throw new MappingException("Property " + propertyName + " does not exist in "+ ((queryableCollection == null) ? "class" : "collection")+ " "+ ((queryableCollection == null) ? fromElement.getClassName() : queryableCollection.getRole()));
  }
  return type;
}
