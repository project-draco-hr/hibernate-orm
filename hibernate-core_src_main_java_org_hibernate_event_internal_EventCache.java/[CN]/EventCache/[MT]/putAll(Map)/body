{
  for (Iterator it=map.entrySet().iterator(); it.hasNext(); ) {
    Map.Entry entry=(Map.Entry)it.next();
    if (entry.getKey() == null || entry.getValue() == null) {
      throw new NullPointerException("null entities and copies are not supported by " + getClass().getName());
    }
    entityToCopyMap.put(entry.getKey(),entry.getValue());
    copyToEntityMap.put(entry.getValue(),entry.getKey());
    entityToOperatedOnFlagMap.put(entry.getKey(),Boolean.FALSE);
  }
}
