{
  if (key == null || value == null) {
    throw new NullPointerException(getClass().getName() + "does not support null key [" + key+ "] or value ["+ value+ "]");
  }
  clearObsoleteReferences();
  strongRefCache.put(key,value);
  SoftReference ref=(SoftReference)softRefCache.put(key,new KeyedSoftReference(key,value,referenceQueue));
  return (ref != null) ? ref.get() : null;
}
