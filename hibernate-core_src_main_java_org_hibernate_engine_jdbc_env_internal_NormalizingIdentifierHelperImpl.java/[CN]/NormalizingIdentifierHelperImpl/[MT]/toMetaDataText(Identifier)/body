{
  if (identifier == null) {
    throw new IllegalArgumentException("Identifier cannot be null; bad usage");
  }
  if (identifier.isQuoted() && storesMixedCaseQuotedIdentifiers) {
    return identifier.getText();
  }
 else   if ((identifier.isQuoted() && storesUpperCaseQuotedIdentifiers) || (!identifier.isQuoted() && storesUpperCaseIdentifiers)) {
    return StringHelper.toUpperCase(identifier.getText());
  }
 else   if ((identifier.isQuoted() && storesLowerCaseQuotedIdentifiers) || (!identifier.isQuoted() && storesLowerCaseIdentifiers)) {
    return StringHelper.toLowerCase(identifier.getText());
  }
  return identifier.getText();
}
