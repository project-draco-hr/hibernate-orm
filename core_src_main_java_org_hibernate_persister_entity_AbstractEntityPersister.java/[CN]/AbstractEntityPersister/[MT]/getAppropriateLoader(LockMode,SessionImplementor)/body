{
  if (queryLoader != null) {
    return queryLoader;
  }
 else   if (isAffectedByEnabledFilters(session)) {
    return createEntityLoader(lockMode,session.getLoadQueryInfluencers());
  }
 else   if (session.getLoadQueryInfluencers().getInternalFetchProfile() != null && LockMode.UPGRADE.greaterThan(lockMode)) {
    return (UniqueEntityLoader)loaders.get(session.getLoadQueryInfluencers().getInternalFetchProfile());
  }
 else   if (isAffectedByEnabledFetchProfiles(session)) {
    return createEntityLoader(lockMode,session.getLoadQueryInfluencers());
  }
 else {
    return (UniqueEntityLoader)loaders.get(lockMode);
  }
}
