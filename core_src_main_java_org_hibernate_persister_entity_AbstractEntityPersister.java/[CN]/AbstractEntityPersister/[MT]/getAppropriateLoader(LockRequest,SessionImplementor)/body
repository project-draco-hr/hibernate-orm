{
  if (queryLoader != null) {
    return queryLoader;
  }
 else   if (isAffectedByEnabledFilters(session)) {
    return createEntityLoader(lockRequest,session.getLoadQueryInfluencers());
  }
 else   if (session.getLoadQueryInfluencers().getInternalFetchProfile() != null && LockMode.UPGRADE.greaterThan(lockRequest.getLockMode())) {
    return (UniqueEntityLoader)loaders.get(session.getLoadQueryInfluencers().getInternalFetchProfile());
  }
 else   if (isAffectedByEnabledFetchProfiles(session)) {
    return createEntityLoader(lockRequest,session.getLoadQueryInfluencers());
  }
 else {
    return (UniqueEntityLoader)loaders.get(lockRequest.getLockMode());
  }
}
