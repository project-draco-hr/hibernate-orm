{
  final PluralAttribute<X,?,?> attr=declaredCollections.get(name);
  final String error="MapAttribute ";
  checkTypeForPluralAttributes(error,attr,name,valueType,PluralAttribute.CollectionType.MAP);
  @SuppressWarnings("unchecked") final MapAttribute<X,K,V> result=(MapAttribute<X,K,V>)attr;
  if (result.getKeyJavaType() != keyType) {
    throw new IllegalArgumentException(error + " named " + name+ " does not support a key of type "+ keyType);
  }
  return result;
}
