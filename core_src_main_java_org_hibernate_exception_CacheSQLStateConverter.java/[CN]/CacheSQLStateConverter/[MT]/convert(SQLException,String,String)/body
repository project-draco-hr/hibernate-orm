{
  String sqlStateClassCode=JDBCExceptionHelper.extractSqlStateClassCode(sqlException);
  Integer errorCode=new Integer(JDBCExceptionHelper.extractErrorCode(sqlException));
  if (sqlStateClassCode != null) {
    if (SQL_GRAMMAR_CATEGORIES.contains(sqlStateClassCode)) {
      return new SQLGrammarException(message,sqlException,sql);
    }
 else     if (INTEGRITY_VIOLATION_CATEGORIES.contains(errorCode)) {
      String constraintName=extracter.extractConstraintName(sqlException);
      return new ConstraintViolationException(message,sqlException,sql,constraintName);
    }
 else     if (CONNECTION_CATEGORIES.contains(sqlStateClassCode)) {
      return new JDBCConnectionException(message,sqlException,sql);
    }
 else     if (DATA_CATEGORIES.contains(sqlStateClassCode)) {
      return new DataException(message,sqlException,sql);
    }
  }
  return handledNonSpecificException(sqlException,message,sql);
}
