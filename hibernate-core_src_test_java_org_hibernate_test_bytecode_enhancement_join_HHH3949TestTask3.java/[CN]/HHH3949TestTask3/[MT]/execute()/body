{
  Session session=getFactory().openSession();
  List<Person> persons=(List<Person>)session.createCriteria(Person.class).setFetchMode("vehicle",FetchMode.JOIN).list();
  for (  Person person : persons) {
    if (person.getId() < 3) {
      Assert.assertNotNull(person.getVehicle());
      Assert.assertNotNull(person.getVehicle().getDriver());
    }
  }
  session.close();
}
