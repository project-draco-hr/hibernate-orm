{
  LOG.tracev("Ending loading collection [{0}]",lce);
  final SharedSessionContractImplementor session=getLoadContext().getPersistenceContext().getSession();
  final boolean hasNoQueuedAdds=lce.getCollection().endRead();
  if (persister.getCollectionType().hasHolder()) {
    getLoadContext().getPersistenceContext().addCollectionHolder(lce.getCollection());
  }
  CollectionEntry ce=getLoadContext().getPersistenceContext().getCollectionEntry(lce.getCollection());
  if (ce == null) {
    ce=getLoadContext().getPersistenceContext().addInitializedCollection(persister,lce.getCollection(),lce.getKey());
  }
 else {
    ce.postInitialize(lce.getCollection());
  }
  boolean addToCache=hasNoQueuedAdds && persister.hasCache() && session.getCacheMode().isPutEnabled()&& !ce.isDoremove();
  if (addToCache) {
    addCollectionToCache(lce,persister);
  }
  if (LOG.isDebugEnabled()) {
    LOG.debugf("Collection fully initialized: %s",MessageHelper.collectionInfoString(persister,lce.getCollection(),lce.getKey(),session));
  }
  if (session.getFactory().getStatistics().isStatisticsEnabled()) {
    session.getFactory().getStatistics().loadCollection(persister.getRole());
  }
}
