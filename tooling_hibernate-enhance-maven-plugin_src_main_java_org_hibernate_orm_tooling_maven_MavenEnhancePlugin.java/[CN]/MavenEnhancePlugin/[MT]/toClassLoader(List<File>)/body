{
  List<URL> urls=new ArrayList<URL>();
  for (  File file : runtimeClasspath) {
    try {
      urls.add(file.toURI().toURL());
    }
 catch (    MalformedURLException e) {
      String msg="Unable to resolve classpath entry to URL: " + file.getAbsolutePath();
      if (failOnError) {
        throw new MojoExecutionException(msg,e);
      }
      getLog().warn(msg);
    }
  }
  return new URLClassLoader(urls.toArray(new URL[urls.size()]),Enhancer.class.getClassLoader());
}
