{
  Object value=localCache.get(key);
  boolean skipCacheStore=false;
  if (!isValid()) {
    skipCacheStore=true;
  }
  if (value == null && checkValid()) {
    if (skipCacheStore) {
      value=cache.withFlags(Flag.SKIP_CACHE_STORE).get(key);
    }
 else {
      value=cache.get(key);
    }
    if (value != null) {
      localCache.put(key,value);
    }
  }
  return value;
}
