{
  if (isClosed) {
    throw new IllegalStateException("cannot manually reconnect because logical connection is already closed");
  }
  if (isUserSuppliedConnection) {
    if (suppliedConnection == null) {
      throw new IllegalArgumentException("cannot reconnect a null user-supplied connection");
    }
 else     if (suppliedConnection == physicalConnection) {
      log.warn("reconnecting the same connection that is already connected; should this connection have been disconnected?");
    }
 else     if (physicalConnection != null) {
      throw new IllegalArgumentException("cannot reconnect to a new user-supplied connection because currently connected; must disconnect before reconnecting.");
    }
    physicalConnection=suppliedConnection;
    log.debug("reconnected JDBC connection");
  }
 else {
    if (suppliedConnection != null) {
      throw new IllegalStateException("unexpected user-supplied connection");
    }
    log.debug("called reconnect() with null connection (not user-supplied)");
  }
}
