{
  LOG.debugf("Releasing JDBC connection");
  if (physicalConnection == null) {
    return;
  }
  try {
    if (!physicalConnection.isClosed()) {
      getJdbcServices().getSqlExceptionHelper().logAndClearWarnings(physicalConnection);
    }
    if (!isUserSuppliedConnection) {
      jdbcConnectionAccess.releaseConnection(physicalConnection);
    }
  }
 catch (  SQLException e) {
    throw getJdbcServices().getSqlExceptionHelper().convert(e,"Could not close connection");
  }
 finally {
    physicalConnection=null;
  }
  LOG.debugf("Released JDBC connection");
  for (  ConnectionObserver observer : observers) {
    observer.physicalConnectionReleased();
  }
  releaseNonDurableObservers();
}
