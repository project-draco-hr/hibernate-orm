{
  final Employee employee1=new Employee();
  employee1.setFirstName("Jane");
  employee1.setLastName("Doe");
  final Title title1=new Title();
  title1.setDescription("Jane's description");
  final Department dept1=new Department();
  dept1.setDeptName("Jane's department");
  employee1.setTitle(title1);
  employee1.setDepartment(dept1);
  final Employee employee2=new Employee();
  employee2.setFirstName("John");
  employee2.setLastName("Doe");
  final Title title2=new Title();
  title2.setDescription("John's title");
  employee2.setTitle(title2);
  Session s=openSession();
  s.getTransaction().begin();
  s.persist(title1);
  s.persist(dept1);
  s.persist(employee1);
  s.persist(title2);
  s.persist(employee2);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.getTransaction().begin();
  List results=session.createQuery("select new Employee(e.id, e.lastName, e.title.id, e.title.description, e.department, e.firstName) from Employee e inner join e.title").list();
  assertEquals("Incorrect result size",1,results.size());
  assertClassAssignability(results.get(0).getClass(),Employee.class);
  results=session.createQuery("select new Employee(e.id, e.lastName, t.id, t.description, e.department, e.firstName) from Employee e inner join e.title t").list();
  assertEquals("Incorrect result size",1,results.size());
  assertClassAssignability(results.get(0).getClass(),Employee.class);
  results=session.createQuery("select new Employee(e.id, e.lastName, e.title.id, e.title.description, e.department, e.firstName) from Employee e inner join e.department").list();
  assertEquals("Incorrect result size",1,results.size());
  assertClassAssignability(results.get(0).getClass(),Employee.class);
  results=session.createQuery("select new Employee(e.id, e.lastName, e.title.id, e.title.description, d, e.firstName) from Employee e inner join e.department d").list();
  assertEquals("Incorrect result size",1,results.size());
  assertClassAssignability(results.get(0).getClass(),Employee.class);
  results=session.createQuery("select new Employee(e.id, e.lastName, e.title.id, e.title.description, e.department, e.firstName) from Employee e left outer join e.department").list();
  assertEquals("Incorrect result size",2,results.size());
  assertClassAssignability(results.get(0).getClass(),Employee.class);
  results=session.createQuery("select new Employee(e.id, e.lastName, e.title.id, e.title.description, d, e.firstName) from Employee e left outer join e.department d").list();
  assertEquals("Incorrect result size",2,results.size());
  assertClassAssignability(results.get(0).getClass(),Employee.class);
  results=session.createQuery("select new Employee(e.id, e.lastName, e.title.id, e.title.description, e.department, e.firstName) from Employee e left outer join e.department inner join e.title").list();
  assertEquals("Incorrect result size",2,results.size());
  assertClassAssignability(results.get(0).getClass(),Employee.class);
  results=session.createQuery("select new Employee(e.id, e.lastName, t.id, t.description, d, e.firstName) from Employee e left outer join e.department d inner join e.title t").list();
  assertEquals("Incorrect result size",2,results.size());
  assertClassAssignability(results.get(0).getClass(),Employee.class);
  results=session.createQuery("select new Employee(e.id, e.lastName, e.title.id, e.title.description, e.department, e.firstName) from Employee e left outer join e.department left outer join e.title").list();
  assertEquals("Incorrect result size",2,results.size());
  assertClassAssignability(results.get(0).getClass(),Employee.class);
  results=session.createQuery("select new Employee(e.id, e.lastName, t.id, t.description, d, e.firstName) from Employee e left outer join e.department d left outer join e.title t").list();
  assertEquals("Incorrect result size",2,results.size());
  assertClassAssignability(results.get(0).getClass(),Employee.class);
  results=session.createQuery("select new Employee(e.id, e.lastName, e.title.id, e.title.description, e.department, e.firstName) from Employee e left outer join e.department order by e.title.description").list();
  assertEquals("Incorrect result size",2,results.size());
  assertClassAssignability(results.get(0).getClass(),Employee.class);
  results=session.createQuery("select new Employee(e.id, e.lastName, e.title.id, e.title.description, e.department, e.firstName) from Employee e left outer join e.department d order by e.title.description").list();
  assertEquals("Incorrect result size",2,results.size());
  assertClassAssignability(results.get(0).getClass(),Employee.class);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.getTransaction().begin();
  s.delete(employee1);
  s.delete(title1);
  s.delete(dept1);
  s.delete(employee2);
  s.delete(title2);
  s.getTransaction().commit();
  s.close();
}
