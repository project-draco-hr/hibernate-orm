{
  Session s=openSession();
  Long id=(Long)s.save(new TrivialClass());
  s.flush();
  s.connection().commit();
  s.close();
  s=openSession();
  TrivialClass tc=(TrivialClass)s.load(TrivialClass.class,id);
  s.find("from TrivialClass s where s.id = 2");
  s.find("select t.count from Top t");
  s.find("from Lower s where s.another.name='name'");
  s.find("from Lower s where s.yetanother.name='name'");
  s.find("from Lower s where s.yetanother.name='name' and s.yetanother.foo is null");
  s.find("from Top s where s.count=1");
  s.find("select s.count from Top s, Lower ls where ls.another=s");
  s.find("select elements(ls.bag), elements(ls.set) from Lower ls");
  s.iterate("from Lower");
  s.iterate("from Top");
  s.delete(tc);
  s.flush();
  s.connection().commit();
  s.close();
}
