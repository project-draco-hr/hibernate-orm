{
  File war=buildWar();
  addPackageToClasspath(war);
  String jarFileName=war.toURL().toExternalForm() + "!/WEB-INF/classes";
  JarProtocolArchiveDescriptor archiveDescriptor=new JarProtocolArchiveDescriptor(StandardArchiveDescriptorFactory.INSTANCE,new URL(jarFileName),"");
  AbstractScannerImpl.ResultCollector resultCollector=new AbstractScannerImpl.ResultCollector(new StandardScanOptions());
  archiveDescriptor.visitArchive(new AbstractScannerImpl.ArchiveContextImpl(new PersistenceUnitDescriptorAdapter(),true,resultCollector));
  validateResults(resultCollector,org.hibernate.jpa.test.pack.war.ApplicationServer.class,org.hibernate.jpa.test.pack.war.Version.class);
}
