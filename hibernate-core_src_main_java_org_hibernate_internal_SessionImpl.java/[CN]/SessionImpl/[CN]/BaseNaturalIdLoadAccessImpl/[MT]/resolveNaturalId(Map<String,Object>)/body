{
  final Set<Serializable> querySpaces=new LinkedHashSet<Serializable>();
  for (  final Serializable querySpace : entityPersister.getQuerySpaces()) {
    querySpaces.add(querySpace);
  }
  autoFlushIfRequired(querySpaces);
  final ResolveNaturalIdEvent event=new ResolveNaturalIdEvent(naturalIdParameters,entityPersister,SessionImpl.this);
  fireResolveNaturalId(event);
  return event.getEntityId();
}
