{
  CacheMode sessionCacheMode=getCacheMode();
  boolean cacheModeChanged=false;
  if (cacheMode != null) {
    if (cacheMode != sessionCacheMode) {
      setCacheMode(cacheMode);
      cacheModeChanged=true;
    }
  }
  try {
    return DynamicBatchingEntityLoaderBuilder.INSTANCE.multiLoad((OuterJoinLoadable)entityPersister,ids.toArray(new Serializable[ids.size()]),lockOptions,batchSize,sessionCheckingEnabled,SessionImpl.this);
  }
  finally {
    if (cacheModeChanged) {
      setCacheMode(sessionCacheMode);
    }
  }
}
