{
  errorIfClosed();
  if (!isTransactionInProgress()) {
    return false;
  }
  AutoFlushEvent event=new AutoFlushEvent(querySpaces,this);
  for (  AutoFlushEventListener listener : listeners(EventType.AUTO_FLUSH)) {
    listener.onAutoFlush(event);
  }
  return event.isFlushRequired();
}
