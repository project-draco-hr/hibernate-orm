{
  checkOpen();
  if (object != null && !HibernateProxy.class.isInstance(object)) {
    try {
      getSessionFactory().getMetamodel().entityPersister(object.getClass());
    }
 catch (    HibernateException e) {
      throw convert(new IllegalArgumentException("Not an entity:" + object.getClass()));
    }
  }
  try {
    if (object instanceof HibernateProxy) {
      LazyInitializer li=((HibernateProxy)object).getHibernateLazyInitializer();
      if (li.isUninitialized()) {
        return li.getSession() == this;
      }
 else {
        object=li.getImplementation();
      }
    }
    EntityEntry entry=persistenceContext.getEntry(object);
    delayedAfterCompletion();
    return entry != null && entry.getStatus() != Status.DELETED && entry.getStatus() != Status.GONE;
  }
 catch (  MappingException e) {
    throw new IllegalArgumentException(e.getMessage(),e);
  }
catch (  RuntimeException e) {
    throw convert(e);
  }
}
