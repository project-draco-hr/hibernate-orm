{
  final SQLQueryReturnProcessor processor=new SQLQueryReturnProcessor(context.getQueryReturns(),context.getSession().getFactory());
  processor.process();
  final List<org.hibernate.loader.custom.Return> customReturns=processor.generateCustomReturns(false);
  CustomQuery customQuery=new CustomQuery(){
    @Override public String getSQL(){
      return context.getSql();
    }
    @Override public Set<String> getQuerySpaces(){
      return context.getSynchronizedQuerySpaces();
    }
    @Override public Map getNamedParameterBindPoints(){
      return null;
    }
    @Override public List<org.hibernate.loader.custom.Return> getCustomQueryReturns(){
      return customReturns;
    }
  }
;
  return new CustomLoaderExtension(customQuery,context.getQueryParameters(),context.getSession());
}
