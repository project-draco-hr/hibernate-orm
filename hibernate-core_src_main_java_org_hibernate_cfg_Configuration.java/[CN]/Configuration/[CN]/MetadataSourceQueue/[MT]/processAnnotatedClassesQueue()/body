{
  LOG.debug("Process annotated classes");
  List<XClass> orderedClasses=orderAndFillHierarchy(annotatedClasses);
  Mappings mappings=createMappings();
  Map<XClass,InheritanceState> inheritanceStatePerClass=AnnotationBinder.buildInheritanceStates(orderedClasses,mappings);
  for (  XClass clazz : orderedClasses) {
    AnnotationBinder.bindClass(clazz,inheritanceStatePerClass,mappings);
    final String entityName=clazz.getName();
    if (hbmMetadataByEntityNameXRef.containsKey(entityName)) {
      hbmMetadataToEntityNamesMap.remove(hbmMetadataByEntityNameXRef.get(entityName));
      hbmMetadataByEntityNameXRef.remove(entityName);
    }
  }
  annotatedClasses.clear();
  annotatedClassesByEntityNameMap.clear();
}
