{
  if (attributeConverterDefinitionsByClass == null) {
    attributeConverterDefinitionsByClass=new ConcurrentHashMap<Class,AttributeConverterDefinition>();
  }
  final Object old=attributeConverterDefinitionsByClass.put(attributeConverter.getClass(),new AttributeConverterDefinition(attributeConverter,autoApply));
  if (old != null) {
    throw new AssertionFailure("AttributeConverter class [" + attributeConverter.getClass() + "] registered multiple times");
  }
}
