{
  incrementInvalidations();
  InvalidateCommand invalidateCommand;
  Object sessionTransactionId=putFromLoadValidator.registerRemoteInvalidations(keys);
  if (!isLocalModeForced(command)) {
    if (sessionTransactionId == null) {
      invalidateCommand=commandsFactory.buildInvalidateCommand(InfinispanCollections.<Flag>emptySet(),keys);
    }
 else {
      invalidateCommand=commandInitializer.buildBeginInvalidationCommand(InfinispanCollections.<Flag>emptySet(),keys,sessionTransactionId);
    }
    if (log.isDebugEnabled()) {
      log.debug("Cache [" + rpcManager.getAddress() + "] replicating "+ invalidateCommand);
    }
    rpcManager.invokeRemotely(null,invalidateCommand,rpcManager.getDefaultRpcOptions(isSynchronous(command)));
  }
}
