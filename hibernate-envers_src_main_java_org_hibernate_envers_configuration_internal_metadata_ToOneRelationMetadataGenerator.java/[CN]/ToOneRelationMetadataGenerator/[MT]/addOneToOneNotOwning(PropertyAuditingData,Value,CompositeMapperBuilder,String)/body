{
  final OneToOne propertyValue=(OneToOne)value;
  final String owningReferencePropertyName=propertyValue.getReferencedPropertyName();
  final EntityConfiguration configuration=mainGenerator.getEntitiesConfigurations().get(entityName);
  if (configuration == null) {
    throw new MappingException("An audited relation to a non-audited entity " + entityName + "!");
  }
  final IdMappingData ownedIdMapping=configuration.getIdMappingData();
  if (ownedIdMapping == null) {
    throw new MappingException("An audited relation to a non-audited entity " + entityName + "!");
  }
  final String lastPropertyPrefix=MappingTools.createToOneRelationPrefix(owningReferencePropertyName);
  final String referencedEntityName=propertyValue.getReferencedEntityName();
  final IdMapper ownedIdMapper=ownedIdMapping.getIdMapper().prefixMappedProperties(lastPropertyPrefix);
  mainGenerator.getEntitiesConfigurations().get(entityName).addToOneNotOwningRelation(propertyAuditingData.getName(),owningReferencePropertyName,referencedEntityName,ownedIdMapper,MappingTools.ignoreNotFound(value));
  final PropertyData propertyData=propertyAuditingData.getPropertyData();
  mapper.addComposite(propertyData,new OneToOneNotOwningMapper(entityName,referencedEntityName,owningReferencePropertyName,propertyData));
}
