{
  E[] enumConstants=enumType.getEnumConstants();
  if (enumConstants.length > 15) {
    throw new AssertionFailure("Cannot store enum type " + enumType.getName() + " in compressed state as"+ " it has too many values.");
  }
  this.offset=offset;
  this.enumConstants=enumConstants;
  this.mask=0xF << offset;
  this.unsetMask=0xFFFF & ~mask;
}
