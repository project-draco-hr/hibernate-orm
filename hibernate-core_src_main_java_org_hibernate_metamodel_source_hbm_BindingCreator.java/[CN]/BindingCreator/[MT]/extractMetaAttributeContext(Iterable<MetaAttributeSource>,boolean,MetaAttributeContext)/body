{
  final MetaAttributeContext subContext=new MetaAttributeContext(parentContext);
  for (  MetaAttributeSource source : sources) {
    if (onlyInheritable & !source.isInheritable()) {
      continue;
    }
    final String name=source.getName();
    final MetaAttribute inheritedMetaAttribute=parentContext.getMetaAttribute(name);
    MetaAttribute metaAttribute=subContext.getLocalMetaAttribute(name);
    if (metaAttribute == null || metaAttribute == inheritedMetaAttribute) {
      metaAttribute=new MetaAttribute(name);
      subContext.add(metaAttribute);
    }
    metaAttribute.addValue(source.getValue());
  }
  return subContext;
}
