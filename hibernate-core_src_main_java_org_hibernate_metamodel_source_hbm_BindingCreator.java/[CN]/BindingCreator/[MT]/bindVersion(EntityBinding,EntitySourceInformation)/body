{
  final XMLHibernateMapping.XMLClass rootClassElement=(XMLHibernateMapping.XMLClass)entitySourceInfo.getEntityElement();
  final XMLHibernateMapping.XMLClass.XMLVersion versionElement=rootClassElement.getVersion();
  final XMLHibernateMapping.XMLClass.XMLTimestamp timestampElement=rootClassElement.getTimestamp();
  if (versionElement == null && timestampElement == null) {
    return;
  }
 else   if (versionElement != null && timestampElement != null) {
    throw new MappingException("version and timestamp elements cannot be specified together",currentBindingContext.getOrigin());
  }
  final SimpleAttributeBinding attributeBinding;
  if (versionElement != null) {
    attributeBinding=doBasicSimpleAttributeBindingCreation(new VersionAttributeSource(versionElement),entityBinding);
  }
 else {
    attributeBinding=doBasicSimpleAttributeBindingCreation(new TimestampAttributeSource(timestampElement),entityBinding);
  }
  entityBinding.setVersionBinding(attributeBinding);
}
