{
{
    PersistenceUnitInfoAdapter adapter=new PersistenceUnitInfoAdapter();
    EntityManagerFactoryBuilderImpl builder=(EntityManagerFactoryBuilderImpl)Bootstrap.getEntityManagerFactoryBuilder(adapter,Collections.singletonMap(AvailableSettings.PHYSICAL_NAMING_STRATEGY,MyNamingStrategy.class.getName()));
    assertEquals(MyNamingStrategy.class.getName(),builder.getConfigurationValues().get(AvailableSettings.PHYSICAL_NAMING_STRATEGY));
    assertTyping(MyNamingStrategy.class,builder.getMetadata().getMetadataBuildingOptions().getPhysicalNamingStrategy());
  }
}
