{
  if (roundEnvironment.processingOver()) {
    context.logMessage(Diagnostic.Kind.OTHER,"Last processing round.");
    createMetaModelClasses();
    context.logMessage(Diagnostic.Kind.OTHER,"Finished processing");
    return ALLOW_OTHER_PROCESSORS_TO_CLAIM_ANNOTATIONS;
  }
  if (!xmlProcessed) {
    XmlParser parser=new XmlParser(context);
    parser.parseXml();
    xmlProcessed=true;
  }
  if (context.isPersistenceUnitCompletelyXmlConfigured()) {
    context.logMessage(Diagnostic.Kind.OTHER,"Skipping the processing of annotations since persistence unit is purely xml configured.");
    return ALLOW_OTHER_PROCESSORS_TO_CLAIM_ANNOTATIONS;
  }
  Set<? extends Element> elements=roundEnvironment.getRootElements();
  for (  Element element : elements) {
    if (isJPAEntity(element)) {
      context.logMessage(Diagnostic.Kind.OTHER,"Processing annotated class " + element.toString());
      handleRootElementAnnotationMirrors(element);
    }
  }
  return ALLOW_OTHER_PROCESSORS_TO_CLAIM_ANNOTATIONS;
}
