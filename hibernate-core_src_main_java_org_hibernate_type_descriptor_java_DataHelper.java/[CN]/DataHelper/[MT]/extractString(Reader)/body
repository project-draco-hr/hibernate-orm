{
  final StringBuilder stringBuilder=new StringBuilder();
  try {
    char[] buffer=new char[2048];
    while (true) {
      int amountRead=reader.read(buffer,0,buffer.length);
      if (amountRead == -1) {
        break;
      }
      stringBuilder.append(buffer,0,amountRead);
    }
  }
 catch (  IOException ioe) {
    throw new HibernateException("IOException occurred reading text",ioe);
  }
 finally {
    try {
      reader.close();
    }
 catch (    IOException e) {
      LOG.warn(LOG.unableToCloseStream(),e);
    }
  }
  return stringBuilder.toString();
}
