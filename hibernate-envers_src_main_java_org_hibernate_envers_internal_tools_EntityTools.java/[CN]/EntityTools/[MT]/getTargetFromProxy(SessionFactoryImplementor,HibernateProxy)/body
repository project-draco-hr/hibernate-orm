{
  if (!proxy.getHibernateLazyInitializer().isUninitialized() || activeProxySession(proxy)) {
    return proxy.getHibernateLazyInitializer().getImplementation();
  }
  SessionImplementor sessionImplementor=proxy.getHibernateLazyInitializer().getSession();
  Session tempSession=sessionImplementor == null ? sessionFactoryImplementor.openTemporarySession() : sessionImplementor.getFactory().openTemporarySession();
  try {
    Object target=tempSession.get(proxy.getHibernateLazyInitializer().getEntityName(),proxy.getHibernateLazyInitializer().getIdentifier());
    return target;
  }
  finally {
    tempSession.close();
  }
}
