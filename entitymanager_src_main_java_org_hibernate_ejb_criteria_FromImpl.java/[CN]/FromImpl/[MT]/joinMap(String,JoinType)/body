{
  final Attribute<X,?> attribute=(Attribute<X,?>)getAttribute(attributeName);
  if (!attribute.isCollection()) {
    throw new IllegalArgumentException("Requested attribute was not a map");
  }
  final PluralAttribute pluralAttribute=(PluralAttribute)attribute;
  if (!CollectionType.MAP.equals(pluralAttribute.getCollectionType())) {
    throw new IllegalArgumentException("Requested attribute was not a map");
  }
  return (MapJoin<X,K,V>)join((MapAttribute)attribute,jt);
}
