{
  if (PersistenceType.BASIC.equals(attribute.getType().getPersistenceType())) {
    throw new BasicPathUsageException("Cannot join to attribute of basic type",attribute);
  }
  if (jt.equals(JoinType.RIGHT)) {
    throw new UnsupportedOperationException("RIGHT JOIN not supported");
  }
  final Class<Y> attributeType=attribute.getBindableJavaType();
  final JoinImpl<X,Y> join=new JoinImpl<X,Y>(queryBuilder(),attributeType,this,attribute,jt);
  joins.add(join);
  return join;
}
