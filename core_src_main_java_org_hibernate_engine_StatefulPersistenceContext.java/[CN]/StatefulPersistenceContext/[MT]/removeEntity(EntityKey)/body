{
  Object entity=entitiesByKey.remove(key);
  Iterator iter=entitiesByUniqueKey.values().iterator();
  while (iter.hasNext()) {
    if (iter.next() == entity)     iter.remove();
  }
  parentsByChild.clear();
  entitySnapshotsByKey.remove(key);
  nullifiableEntityKeys.remove(key);
  getBatchFetchQueue().removeBatchLoadableEntityKey(key);
  getBatchFetchQueue().removeSubselect(key);
  return entity;
}
