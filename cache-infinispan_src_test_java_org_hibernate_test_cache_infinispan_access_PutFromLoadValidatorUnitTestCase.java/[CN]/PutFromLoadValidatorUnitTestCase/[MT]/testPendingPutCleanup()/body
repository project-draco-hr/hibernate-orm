{
  TestValidator testee=new TestValidator(tm,5000,600,300,900);
  testee.cleared();
  testee.registerPendingPut("1");
  testee.registerPendingPut("2");
  testee.registerPendingPut("3");
  testee.registerPendingPut("4");
  testee.registerPendingPut("5");
  testee.registerPendingPut("6");
  testee.isPutValid("6");
  testee.isPutValid("2");
  assertEquals(6,testee.getPendingPutQueueLength());
  assertEquals(0,testee.getOveragePendingPutQueueLength());
  Thread.sleep(310);
  testee.registerPendingPut("7");
  assertEquals(0,testee.getOveragePendingPutQueueLength());
  assertEquals(6,testee.getPendingPutQueueLength());
  Thread.sleep(310);
  testee.registerPendingPut("8");
  assertEquals(4,testee.getOveragePendingPutQueueLength());
  assertEquals(2,testee.getPendingPutQueueLength());
  Thread.sleep(310);
  testee.isPutValid("3");
  assertEquals(4,testee.getOveragePendingPutQueueLength());
  assertEquals(1,testee.getPendingPutQueueLength());
  Thread.sleep(310);
  tm.begin();
  testee.registerPendingPut("7");
  Transaction tx=tm.suspend();
  assertEquals(3,testee.getOveragePendingPutQueueLength());
  assertEquals(1,testee.getPendingPutQueueLength());
  assertFalse(testee.isPutValid("1"));
  assertEquals(2,testee.getOveragePendingPutQueueLength());
  assertFalse(testee.isPutValid("2"));
  assertEquals(1,testee.getOveragePendingPutQueueLength());
  assertFalse(testee.isPutValid("3"));
  assertFalse(testee.isPutValid("4"));
  assertFalse(testee.isPutValid("5"));
  assertFalse(testee.isPutValid("6"));
  assertFalse(testee.isPutValid("7"));
  assertTrue(testee.isPutValid("8"));
  tm.resume(tx);
  assertTrue(testee.isPutValid("7"));
}
