{
  for (AST n=root.getFirstChild(); n != null; n=n.getNextSibling()) {
    if (predicate == null || !predicate.exclude(n)) {
      children.add(n);
    }
    collectChildren(children,n,predicate);
  }
}
