{
  String optimisticLockModeString=MappingHelper.getStringValue(entityClazz.getOptimisticLock(),"version");
  int optimisticLockMode;
  if ("version".equals(optimisticLockModeString)) {
    optimisticLockMode=Versioning.OPTIMISTIC_LOCK_VERSION;
  }
 else   if ("dirty".equals(optimisticLockModeString)) {
    optimisticLockMode=Versioning.OPTIMISTIC_LOCK_DIRTY;
  }
 else   if ("all".equals(optimisticLockModeString)) {
    optimisticLockMode=Versioning.OPTIMISTIC_LOCK_ALL;
  }
 else   if ("none".equals(optimisticLockModeString)) {
    optimisticLockMode=Versioning.OPTIMISTIC_LOCK_NONE;
  }
 else {
    throw new MappingException("Unsupported optimistic-lock style: " + optimisticLockModeString);
  }
  return optimisticLockMode;
}
