{
  Class typeClass;
  try {
    typeClass=ReflectHelper.classForName(typeName);
  }
 catch (  ClassNotFoundException cnfe) {
    throw new MappingException("user collection type class not found: " + typeName,cnfe);
  }
  CustomCollectionType result=new CustomCollectionType(typeClass,role,propertyRef,embedded);
  if (typeParameters != null) {
    TypeFactory.injectParameters(result.getUserType(),typeParameters);
  }
  return result;
}
