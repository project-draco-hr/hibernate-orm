{
  CacheConfiguration cacheConfig=cache.getCacheConfiguration();
  if (cacheConfig.isTerracottaClustered()) {
    TerracottaConfiguration tcConfig=cacheConfig.getTerracottaConfiguration();
switch (tcConfig.getValueMode()) {
case IDENTITY:
      throw new CacheException("The clustered Hibernate cache " + cache.getName() + " is using IDENTITY value mode.\n"+ "Identity value mode cannot be used with Hibernate cache regions.");
case SERIALIZATION:
default :
    break;
}
}
}
