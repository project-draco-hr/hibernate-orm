{
  final FetchOwner fetchOwner=fetch.getOwner();
  if (EntityReference.class.isInstance(fetchOwner)) {
    return (EntityReference)fetchOwner;
  }
 else   if (CompositeFetch.class.isInstance(fetchOwner)) {
    return resolveFetchOwnerEntityReference((CompositeFetch)fetchOwner);
  }
  throw new IllegalStateException(String.format("Cannot resolve FetchOwner [%s] of Fetch [%s (%s)] to an EntityReference",fetchOwner,fetch,fetch.getPropertyPath()));
}
