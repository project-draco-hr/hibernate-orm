{
  final XClass persistentXClass;
  try {
    persistentXClass=mappings.getReflectionManager().classForName(propertyHolder.getPersistentClass().getClassName(),AnnotationBinder.class);
  }
 catch (  ClassNotFoundException e) {
    throw new AssertionFailure("PersistentClass name cannot be converted into a Class",e);
  }
  if (propertyHolder.isInIdClass()) {
    return mappings.getPropertyAnnotatedWithIdAndToOne(persistentXClass,propertyName);
  }
 else {
    String propertyPath=isId ? "" : propertyName;
    return mappings.getPropertyAnnotatedWithMapsId(persistentXClass,propertyPath);
  }
}
