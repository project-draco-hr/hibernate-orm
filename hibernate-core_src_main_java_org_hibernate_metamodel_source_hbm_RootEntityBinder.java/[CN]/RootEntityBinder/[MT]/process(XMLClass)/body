{
  String entityName=getBindingContext().extractEntityName(xmlClazz);
  if (entityName == null) {
    throw new MappingException("Unable to determine entity name");
  }
  EntityBinding entityBinding=new EntityBinding(true);
  basicEntityBinding(xmlClazz,entityBinding,null);
  basicTableBinding(xmlClazz,entityBinding);
  entityBinding.setMutable(xmlClazz.isMutable());
  if (xmlClazz.getWhere() != null) {
    entityBinding.setWhereFilter(xmlClazz.getWhere());
  }
  if (xmlClazz.getPolymorphism() != null) {
    entityBinding.setExplicitPolymorphism("explicit".equals(xmlClazz.getPolymorphism()));
  }
  if (xmlClazz.getRowid() != null) {
    entityBinding.setRowId(xmlClazz.getRowid());
  }
  bindIdentifier(xmlClazz,entityBinding);
  bindDiscriminator(xmlClazz,entityBinding);
  bindVersionOrTimestamp(xmlClazz,entityBinding);
  bindCaching(xmlClazz,entityBinding);
  buildAttributeBindings(xmlClazz,entityBinding);
  getMetadata().addEntity(entityBinding);
}
