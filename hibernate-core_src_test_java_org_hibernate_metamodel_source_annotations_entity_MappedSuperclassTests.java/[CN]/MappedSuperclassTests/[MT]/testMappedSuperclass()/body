{
  buildMetadataSources(MyMappedSuperClass.class,MyEntity.class,Address.class);
  EntityBinding binding=getEntityBinding(MyEntity.class);
  assertEquals("Wrong entity name",MyEntity.class.getName(),binding.getEntity().getName());
  assertEquals("Wrong entity name",MyMappedSuperClass.class.getName(),binding.getEntity().getSuperType().getName());
  assertTrue(binding.getEntity().getSuperType() instanceof Superclass);
  AttributeBinding nameBinding=binding.getAttributeBinding("name");
  assertNotNull("the name attribute should be bound to the subclass",nameBinding);
  assertTrue("The binding should be a simple column",nameBinding.getValue() instanceof Tuple);
  Tuple tuple=(Tuple)nameBinding.getValue();
  SimpleValue value=tuple.values().iterator().next();
  assertTrue(value instanceof Column);
  Column column=(Column)value;
  assertEquals("Wrong column name","MY_NAME",column.getColumnName().toString());
  AttributeBinding idBinding=binding.getEntityIdentifier().getValueBinding();
  assertNotNull("the id attribute should be bound",idBinding);
}
