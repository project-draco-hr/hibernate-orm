{
  CriteriaQuery<Product> q=qb.createQuery(Product.class);
  Root<Product> product=q.from(Product.class);
  Join<Item,Order> order=product.join(Product_.items).join(Item_.order);
  q.select(product).where(qb.equal(order.get(Order_.id),12345l));
}
