{
  try {
    return tx != null && tx.getStatus() == TransactionStatus.ACTIVE;
  }
 catch (  RuntimeException e) {
    throw new PersistenceException("unexpected error when checking transaction status",e);
  }
}
