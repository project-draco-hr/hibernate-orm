{
  if (!getEntityManager().isTransactionInProgress()) {
    throw new TransactionRequiredException("no transaction is in progress");
  }
  this.jpaLockMode=lockModeType;
  query.setLockOptions(getEntityManager().getLockRequest(lockModeType,null));
  return this;
}
