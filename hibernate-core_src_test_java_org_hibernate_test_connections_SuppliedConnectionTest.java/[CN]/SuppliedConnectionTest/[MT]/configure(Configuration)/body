{
  super.configure(cfg);
  cfg.setProperty(Environment.RELEASE_CONNECTIONS,ConnectionReleaseMode.ON_CLOSE.toString());
  cfg.setProperty(Environment.CONNECTION_PROVIDER,UserSuppliedConnectionProviderImpl.class.getName());
  boolean supportsScroll=true;
  Connection conn=null;
  try {
    conn=cp.getConnection();
    supportsScroll=conn.getMetaData().supportsResultSetType(ResultSet.TYPE_SCROLL_INSENSITIVE);
  }
 catch (  Throwable ignore) {
  }
 finally {
    if (conn != null) {
      try {
        conn.close();
      }
 catch (      Throwable ignore) {
      }
    }
  }
  cfg.setProperty(Environment.USE_SCROLLABLE_RESULTSET,"" + supportsScroll);
}
