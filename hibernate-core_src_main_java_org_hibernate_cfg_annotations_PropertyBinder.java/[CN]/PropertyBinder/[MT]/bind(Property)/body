{
  if (isId) {
    final RootClass rootClass=(RootClass)holder.getPersistentClass();
    if (isXToMany || entityBinder.wrapIdsInEmbeddedComponents()) {
      Component identifier=(Component)rootClass.getIdentifier();
      if (identifier == null) {
        identifier=AnnotationBinder.createComponent(holder,new PropertyPreloadedData(null,null,null),true,false,mappings);
        rootClass.setIdentifier(identifier);
        identifier.setNullValue("undefined");
        rootClass.setEmbeddedIdentifier(true);
        rootClass.setIdentifierMapper(identifier);
      }
      identifier.addProperty(prop);
    }
 else {
      rootClass.setIdentifier((KeyValue)getValue());
      if (embedded) {
        rootClass.setEmbeddedIdentifier(true);
      }
 else {
        rootClass.setIdentifierProperty(prop);
        final org.hibernate.mapping.MappedSuperclass superclass=BinderHelper.getMappedSuperclassOrNull(declaringClass,inheritanceStatePerClass,mappings);
        if (superclass != null) {
          superclass.setDeclaredIdentifierProperty(prop);
        }
 else {
          rootClass.setDeclaredIdentifierProperty(prop);
        }
      }
    }
  }
 else {
    holder.addProperty(prop,columns,declaringClass);
  }
  return prop;
}
