{
  if (mappingRoot().getDatabaseObject() == null) {
    return;
  }
  for (  XMLHibernateMapping.XMLDatabaseObject databaseObjectElement : mappingRoot().getDatabaseObject()) {
    final AuxiliaryDatabaseObject auxiliaryDatabaseObject;
    if (databaseObjectElement.getDefinition() != null) {
      final String className=databaseObjectElement.getDefinition().getClazz();
      try {
        auxiliaryDatabaseObject=(AuxiliaryDatabaseObject)classForName(className).newInstance();
      }
 catch (      ClassLoadingException e) {
        throw e;
      }
catch (      Exception e) {
        throw new MappingException("could not instantiate custom database object class [" + className + "]",origin());
      }
    }
 else {
      Set<String> dialectScopes=new HashSet<String>();
      if (databaseObjectElement.getDialectScope() != null) {
        for (        XMLHibernateMapping.XMLDatabaseObject.XMLDialectScope dialectScope : databaseObjectElement.getDialectScope()) {
          dialectScopes.add(dialectScope.getName());
        }
      }
      auxiliaryDatabaseObject=new BasicAuxiliaryDatabaseObjectImpl(metadata.getDatabase().getDefaultSchema(),databaseObjectElement.getCreate(),databaseObjectElement.getDrop(),dialectScopes);
    }
    metadata.getDatabase().addAuxiliaryDatabaseObject(auxiliaryDatabaseObject);
  }
}
