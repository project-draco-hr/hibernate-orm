{
  try {
    jdbcCoordinator.getLogicalConnection().getJdbcServices().getSqlStatementLogger().logStatement(sql);
    final PreparedStatement preparedStatement;
    try {
      jdbcCoordinator.getTransactionCoordinator().getTransactionContext().startPrepareStatement();
      preparedStatement=doPrepare();
      setStatementTimeout(preparedStatement);
    }
  finally {
      jdbcCoordinator.getTransactionCoordinator().getTransactionContext().endPrepareStatement();
    }
    postProcess(preparedStatement);
    return preparedStatement;
  }
 catch (  SQLException e) {
    throw sqlExceptionHelper().convert(e,"could not prepare statement",sql);
  }
}
