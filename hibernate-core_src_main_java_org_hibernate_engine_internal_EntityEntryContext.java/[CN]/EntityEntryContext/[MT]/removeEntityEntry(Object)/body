{
  dirty=true;
  if (ManagedEntity.class.isInstance(entity)) {
    backingMap.remove(new KeyWrapper<Object>(entity));
    final EntityEntry entityEntry=((ManagedEntity)entity).hibernate_getEntityEntry();
    ((ManagedEntity)entity).hibernate_setEntityEntry(null);
    return entityEntry;
  }
 else {
    return backingMap.remove(new KeyWrapper<Object>(entity));
  }
}
