{
  log.tracef("Starting serialization of [%s] EntityEntry entries",count);
  oos.writeInt(count);
  if (count == 0) {
    return;
  }
  ManagedEntity managedEntity=head;
  while (managedEntity != null) {
    oos.writeBoolean(managedEntity == managedEntity.$$_hibernate_getEntityInstance());
    oos.writeObject(managedEntity.$$_hibernate_getEntityInstance());
    oos.writeInt(managedEntity.$$_hibernate_getEntityEntry().getClass().getName().length());
    oos.writeChars(managedEntity.$$_hibernate_getEntityEntry().getClass().getName());
    managedEntity.$$_hibernate_getEntityEntry().serialize(oos);
    managedEntity=managedEntity.$$_hibernate_getNextManagedEntity();
  }
}
