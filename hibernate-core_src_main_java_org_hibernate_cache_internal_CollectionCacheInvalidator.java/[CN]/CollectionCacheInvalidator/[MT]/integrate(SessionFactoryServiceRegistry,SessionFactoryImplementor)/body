{
  if (!sessionFactory.getSettings().isAutoEvictCollectionCache()) {
    return;
  }
  if (!sessionFactory.getSettings().isSecondLevelCacheEnabled()) {
    return;
  }
  propagateException=Boolean.parseBoolean(sessionFactory.getProperties().getProperty(PROPAGATE_EXCEPTION));
  EventListenerRegistry eventListenerRegistry=serviceRegistry.getService(EventListenerRegistry.class);
  eventListenerRegistry.appendListeners(EventType.POST_INSERT,this);
  eventListenerRegistry.appendListeners(EventType.POST_DELETE,this);
  eventListenerRegistry.appendListeners(EventType.POST_UPDATE,this);
}
