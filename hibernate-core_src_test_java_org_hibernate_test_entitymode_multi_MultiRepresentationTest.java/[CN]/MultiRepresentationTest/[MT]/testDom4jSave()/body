{
  TestData testData=new TestData();
  testData.create();
  Session pojos=openSession();
  Transaction txn=pojos.beginTransaction();
  org.hibernate.Session dom4j=pojos.getSession(EntityMode.DOM4J);
  Element stock=DocumentFactory.getInstance().createElement("stock");
  stock.addElement("tradeSymbol").setText("IBM");
  Element val=stock.addElement("currentValuation").addElement("valuation");
  val.appendContent(stock);
  val.addElement("valuationDate").setText(new java.util.Date().toString());
  val.addElement("value").setText("121.00");
  dom4j.save(Stock.class.getName(),stock);
  dom4j.flush();
  txn.rollback();
  pojos.close();
  assertTrue(!pojos.isOpen());
  assertTrue(!dom4j.isOpen());
  prettyPrint(stock);
  testData.destroy();
}
