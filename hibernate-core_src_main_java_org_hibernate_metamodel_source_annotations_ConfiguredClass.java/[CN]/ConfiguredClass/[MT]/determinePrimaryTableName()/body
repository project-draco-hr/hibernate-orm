{
  String tableName=null;
  if (hasOwnTable()) {
    tableName=clazz.getSimpleName();
    AnnotationInstance tableAnnotation=JandexHelper.getSingleAnnotation(classInfo,JPADotNames.TABLE);
    if (tableAnnotation != null) {
      AnnotationValue value=tableAnnotation.value("name");
      String tmp=value == null ? null : value.asString();
      if (tmp != null && !tmp.isEmpty()) {
        tableName=tmp;
      }
    }
  }
 else   if (parent != null && !parent.isMappedSuperClass && !parent.isEmbeddable) {
    tableName=parent.getPrimaryTableName();
  }
  return tableName;
}
