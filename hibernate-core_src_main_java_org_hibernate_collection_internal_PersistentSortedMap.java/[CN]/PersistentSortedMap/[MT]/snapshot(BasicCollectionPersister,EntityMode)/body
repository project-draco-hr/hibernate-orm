{
  final TreeMap clonedMap=new TreeMap(comparator);
  for (  Object o : map.entrySet()) {
    final Entry e=(Entry)o;
    clonedMap.put(e.getKey(),persister.getElementType().deepCopy(e.getValue(),persister.getFactory()));
  }
  return clonedMap;
}
