{
  TreeMap clonedMap=new TreeMap(comparator);
  Iterator iter=map.entrySet().iterator();
  while (iter.hasNext()) {
    Map.Entry e=(Map.Entry)iter.next();
    clonedMap.put(e.getKey(),persister.getElementType().deepCopy(e.getValue(),persister.getFactory()));
  }
  return clonedMap;
}
