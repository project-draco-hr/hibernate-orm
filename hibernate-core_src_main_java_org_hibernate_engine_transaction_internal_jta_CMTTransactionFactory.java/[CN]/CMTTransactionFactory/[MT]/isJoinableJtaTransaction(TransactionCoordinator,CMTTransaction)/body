{
  try {
    final int status=transactionCoordinator.getTransactionContext().getTransactionEnvironment().getJtaPlatform().retrieveTransactionManager().getStatus();
    return JtaStatusHelper.isActive(status);
  }
 catch (  SystemException se) {
    throw new TransactionException("Unable to check transaction status",se);
  }
}
