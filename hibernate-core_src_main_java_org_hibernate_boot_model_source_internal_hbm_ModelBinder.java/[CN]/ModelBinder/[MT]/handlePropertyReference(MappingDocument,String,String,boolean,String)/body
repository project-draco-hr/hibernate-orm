{
  PersistentClass entityBinding=mappingDocument.getMetadataCollector().getEntityBinding(referencedEntityName);
  if (entityBinding == null) {
    registerDelayedPropertyReferenceHandler(new DelayedPropertyReferenceHandlerImpl(referencedEntityName,referencedPropertyName,isUnique,sourceElementSynopsis,mappingDocument.getOrigin()),mappingDocument);
  }
 else {
    Property propertyBinding=entityBinding.getReferencedProperty(referencedPropertyName);
    if (propertyBinding == null) {
      registerDelayedPropertyReferenceHandler(new DelayedPropertyReferenceHandlerImpl(referencedEntityName,referencedPropertyName,isUnique,sourceElementSynopsis,mappingDocument.getOrigin()),mappingDocument);
    }
 else {
      log.tracef("Property [%s.%s] referenced by property-ref [%s] was available - no need for delayed handling",referencedEntityName,referencedPropertyName,sourceElementSynopsis);
      if (isUnique) {
        ((SimpleValue)propertyBinding.getValue()).setAlternateUniqueKey(true);
      }
    }
  }
}
