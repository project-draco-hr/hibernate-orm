{
  if (olAtt == null) {
    return OptimisticLockStyle.VERSION;
  }
  final String olMode=olAtt.getValue();
  if (olMode == null || "version".equals(olMode)) {
    return OptimisticLockStyle.VERSION;
  }
 else   if ("dirty".equals(olMode)) {
    return OptimisticLockStyle.DIRTY;
  }
 else   if ("all".equals(olMode)) {
    return OptimisticLockStyle.ALL;
  }
 else   if ("none".equals(olMode)) {
    return OptimisticLockStyle.NONE;
  }
 else {
    throw new MappingException("Unsupported optimistic-lock style: " + olMode);
  }
}
