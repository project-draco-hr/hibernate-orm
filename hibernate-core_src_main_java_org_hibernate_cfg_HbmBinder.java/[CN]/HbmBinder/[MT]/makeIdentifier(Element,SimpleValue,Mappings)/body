{
  Element subnode=node.element("generator");
  if (subnode != null) {
    final String generatorClass=subnode.attributeValue("class");
    model.setIdentifierGeneratorStrategy(generatorClass);
    Properties params=new Properties();
    params.put(PersistentIdentifierGenerator.IDENTIFIER_NORMALIZER,mappings.getObjectNameNormalizer());
    if (mappings.getSchemaName() != null) {
      params.setProperty(PersistentIdentifierGenerator.SCHEMA,mappings.getObjectNameNormalizer().normalizeIdentifierQuoting(mappings.getSchemaName()));
    }
    if (mappings.getCatalogName() != null) {
      params.setProperty(PersistentIdentifierGenerator.CATALOG,mappings.getObjectNameNormalizer().normalizeIdentifierQuoting(mappings.getCatalogName()));
    }
    Iterator iter=subnode.elementIterator("param");
    while (iter.hasNext()) {
      Element childNode=(Element)iter.next();
      params.setProperty(childNode.attributeValue("name"),childNode.getTextTrim());
    }
    model.setIdentifierGeneratorProperties(params);
  }
  model.getTable().setIdentifierValue(model);
  Attribute nullValueNode=node.attribute("unsaved-value");
  if (nullValueNode != null) {
    model.setNullValue(nullValueNode.getValue());
  }
 else {
    if ("assigned".equals(model.getIdentifierGeneratorStrategy())) {
      model.setNullValue("undefined");
    }
 else {
      model.setNullValue(null);
    }
  }
}
