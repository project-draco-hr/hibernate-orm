{
  if (getDialect() instanceof HSQLDialect || getDialect() instanceof PostgreSQLDialect)   return;
  Session session=openSession();
  session.delete("from A");
  A savedA=new A();
  savedA.setName("Max");
  session.save(savedA);
  B savedB=new B();
  session.save(savedB);
  session.flush();
  int count=session.createQuery("from A").list().size();
  session.close();
  session=openSession();
  Query query;
  if (getDialect() instanceof OracleDialect) {
    query=session.createSQLQuery("select identifier_column as {a.id}, clazz_discriminata as {a.class}, count_ as {a.count}, name as {a.name} from TA where upper(name) like upper('max')","a",A.class);
  }
 else   if (getDialect() instanceof TimesTenDialect) {
    query=session.createSQLQuery("select identifier_column as {a.id}, clazz_discriminata as {a.class}, count_ as {a.count}, name as {a.name} from TA where {fn ucase(name)} like 'MAX'","a",A.class);
  }
 else {
    query=session.createSQLQuery("select identifier_column as {a.id}, clazz_discriminata as {a.class}, count_ as {a.count}, name as {a.name} from TA where {fn ucase(name)} like {fn ucase('max')}","a",A.class);
  }
  List list=query.list();
  assertNotNull(list);
  assertEquals(1,list.size());
  session.connection().commit();
  session.close();
}
