{
  Session s=openSession();
  CompositeIdId id=new CompositeIdId();
  id.setName("Max");
  id.setSystem("c64");
  id.setId("games");
  s.save(id);
  s.flush();
  s.connection().commit();
  s.close();
  s=openSession();
  Query query=s.createSQLQuery("select system as {c.system}, id as {c.id}, name as {c.name}, foo as {c.composite.foo}, bar as {c.composite.bar} from CompositeIdId where system=? and id=?","c",CompositeIdId.class);
  query.setString(0,"c64");
  query.setString(1,"games");
  CompositeIdId id2=(CompositeIdId)query.uniqueResult();
  check(id,id2);
  s.flush();
  s.connection().commit();
  s.close();
  s=openSession();
  CompositeIdId useForGet=new CompositeIdId();
  useForGet.setSystem("c64");
  useForGet.setId("games");
  CompositeIdId getted=(CompositeIdId)s.get(CompositeIdId.class,useForGet);
  check(id,getted);
  s.connection().commit();
  s.close();
}
