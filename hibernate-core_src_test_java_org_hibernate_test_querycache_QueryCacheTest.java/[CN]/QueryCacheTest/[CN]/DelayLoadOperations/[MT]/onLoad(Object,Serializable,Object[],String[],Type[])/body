{
  try {
    if (waitLatch != null) {
      waitLatch.countDown();
      waitLatch=null;
    }
    if (blockLatch != null) {
      blockLatch.await();
      blockLatch=null;
    }
  }
 catch (  InterruptedException e) {
    Thread.currentThread().interrupt();
    throw new RuntimeException(e);
  }
  return true;
}
