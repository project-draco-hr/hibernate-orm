{
  String sqlState=sqlException.getSQLState();
  SQLException nested=sqlException.getNextException();
  while (sqlState == null && nested != null) {
    sqlState=nested.getSQLState();
    nested=nested.getNextException();
  }
  return sqlState;
}
