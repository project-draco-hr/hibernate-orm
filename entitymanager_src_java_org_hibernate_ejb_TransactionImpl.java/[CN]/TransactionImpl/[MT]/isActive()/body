{
  try {
    return tx != null && tx.isActive();
  }
 catch (  RuntimeException e) {
    throw new PersistenceException("unexpected error when checking transaction status",e);
  }
}
