{
  try {
    final InputStream is=new FileInputStream(file.getAbsolutePath());
    try {
      return classPool.makeClass(is);
    }
 catch (    IOException e) {
      throw new GradleException("Javassist unable to load class in preparation for enhancing : " + file.getAbsolutePath(),e);
    }
 finally {
      try {
        is.close();
      }
 catch (      IOException e) {
        logger.info("Was unable to close InputStream : " + file.getAbsolutePath(),e);
      }
    }
  }
 catch (  FileNotFoundException e) {
    throw new GradleException("Unable to locate class file for InputStream: " + file.getAbsolutePath(),e);
  }
}
