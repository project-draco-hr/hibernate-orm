{
  log.debug("Find customer with id=" + id);
  tm.begin();
  try {
    Session session=sessionFactory.getCurrentSession();
    Customer customer=doGetCustomer(id,session,tm);
    tm.commit();
    return customer;
  }
 catch (  Exception e) {
    try {
      tm.rollback();
    }
 catch (    Exception e1) {
      log.error("Exception rolling back txn",e1);
    }
    throw e;
  }
 finally {
    log.debug("Find customer ended.");
  }
}
