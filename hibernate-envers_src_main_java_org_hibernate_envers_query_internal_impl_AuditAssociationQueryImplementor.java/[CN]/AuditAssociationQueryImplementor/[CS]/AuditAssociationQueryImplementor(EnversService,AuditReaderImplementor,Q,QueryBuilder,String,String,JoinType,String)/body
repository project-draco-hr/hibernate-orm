{
  this.enversService=enversService;
  this.auditReader=auditReader;
  this.parent=parent;
  this.queryBuilder=queryBuilder;
  this.joinType=joinType;
  final RelationDescription relationDescription=CriteriaTools.getRelatedEntity(enversService,ownerEntityName,propertyName);
  if (relationDescription == null) {
    throw new IllegalArgumentException("Property " + propertyName + " of entity "+ ownerEntityName+ " is not a valid association for queries");
  }
  this.entityName=relationDescription.getToEntityName();
  this.ownerAssociationIdMapper=relationDescription.getIdMapper();
  this.ownerAlias=ownerAlias;
  alias=queryBuilder.generateAlias();
  parameters=queryBuilder.addParameters(alias);
}
