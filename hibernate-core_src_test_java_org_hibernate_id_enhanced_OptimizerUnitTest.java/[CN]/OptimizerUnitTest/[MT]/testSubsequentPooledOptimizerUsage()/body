{
  final SourceMock sequence=new SourceMock(1001,3,5);
  final Optimizer optimizer=buildPooledOptimizer(1,3);
  assertEquals(5,sequence.getTimesCalled());
  assertEquals(1001,sequence.getCurrentValue());
  Long next=(Long)optimizer.generate(sequence);
  assertEquals(1001,next.intValue());
  assertEquals((5 + 1),sequence.getTimesCalled());
  assertEquals((1001 + 3),sequence.getCurrentValue());
  next=(Long)optimizer.generate(sequence);
  assertEquals((1001 + 1),next.intValue());
  assertEquals((5 + 1),sequence.getTimesCalled());
  assertEquals((1001 + 3),sequence.getCurrentValue());
  next=(Long)optimizer.generate(sequence);
  assertEquals((1001 + 2),next.intValue());
  assertEquals((5 + 1),sequence.getTimesCalled());
  assertEquals((1001 + 3),sequence.getCurrentValue());
  next=(Long)optimizer.generate(sequence);
  assertEquals((1001 + 3),next.intValue());
  assertEquals((5 + 2),sequence.getTimesCalled());
  assertEquals((1001 + 6),sequence.getCurrentValue());
}
