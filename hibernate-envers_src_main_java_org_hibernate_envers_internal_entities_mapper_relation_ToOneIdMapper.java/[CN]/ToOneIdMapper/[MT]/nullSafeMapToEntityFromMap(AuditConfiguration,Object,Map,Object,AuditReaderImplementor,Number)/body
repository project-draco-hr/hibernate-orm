{
  final Object entityId=delegate.mapToIdFromMap(data);
  Object value=null;
  if (entityId != null) {
    if (versionsReader.getFirstLevelCache().contains(referencedEntityName,revision,entityId)) {
      value=versionsReader.getFirstLevelCache().get(referencedEntityName,revision,entityId);
    }
 else {
      final EntityInfo referencedEntity=getEntityInfo(verCfg,referencedEntityName);
      value=ToOneEntityLoader.createProxyOrLoadImmediate(versionsReader,referencedEntity.getEntityClass(),referencedEntityName,entityId,revision,RevisionType.DEL.equals(data.get(verCfg.getAuditEntCfg().getRevisionTypePropName())),verCfg);
    }
  }
  setPropertyValue(obj,value);
}
