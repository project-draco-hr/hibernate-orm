{
  String escaped=null;
  int idx=-1;
  if (regionPrefix != null) {
    idx=regionName.indexOf(regionPrefix);
  }
  if (idx > -1) {
    int regionEnd=idx + regionPrefix.length();
    String prefix=regionName.substring(0,regionEnd);
    String suffix=regionName.substring(regionEnd);
    suffix=suffix.replace('.','/');
    escaped=prefix + suffix;
  }
 else {
    escaped=regionName.replace('.','/');
    if (regionPrefix != null && regionPrefix.length() > 0) {
      escaped=regionPrefix + "/" + escaped;
    }
  }
  return escaped;
}
