{
  Thread.currentThread().setName("UserRunnerThread-" + getCustomerId());
  try {
    for (int i=0; i < ITERATION_COUNT && !TERMINATE_ALL_USERS; i++) {
      if (contactExists()) {
        throw new IllegalStateException("contact already exists before add, customerId=" + customerId);
      }
      addContact(customerId);
      thinkRandomTime();
      if (!contactExists()) {
        throw new IllegalStateException("contact missing after successful add, customerId=" + customerId);
      }
      thinkRandomTime();
      readEveryonesFirstContact();
      thinkRandomTime();
      removeContact(customerId);
      if (contactExists()) {
        throw new IllegalStateException("contact still exists after successful remove call, customerId=" + customerId);
      }
      thinkRandomTime();
      ++completedIterations;
    }
  }
 catch (  Throwable t) {
    this.causeOfFailure=t;
    TERMINATE_ALL_USERS=true;
  }
 finally {
    this.completionLatch.countDown();
  }
}
