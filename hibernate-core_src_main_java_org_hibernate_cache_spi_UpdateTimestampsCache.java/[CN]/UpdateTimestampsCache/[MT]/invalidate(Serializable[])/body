{
  readWriteLock.writeLock().lock();
  try {
    Long ts=region.nextTimestamp();
    for (    Serializable space : spaces) {
      LOG.debugf("Invalidating space [%s], timestamp: %s",space,ts);
      region.put(space,ts);
      if (factory != null && factory.getStatistics().isStatisticsEnabled()) {
        factory.getStatisticsImplementor().updateTimestampsCachePut();
      }
    }
  }
  finally {
    readWriteLock.writeLock().unlock();
  }
}
