{
  final EntityPersister persister=entry.getPersister();
  final Object latestVersion=persister.getCurrentVersion(entry.getId(),session);
  if (!entry.getVersion().equals(latestVersion)) {
    throw new OptimisticLockException(object,"Newer version [" + latestVersion + "] of entity ["+ MessageHelper.infoString(entry.getEntityName(),entry.getId())+ "] found in database");
  }
}
