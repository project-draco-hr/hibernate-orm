{
  this.elementGraphAttributeMap=new HashMap<String,AttributeNodeImplementor>();
  for (  Subgraph<?> subgraph : attributeNode.getSubgraphs().values()) {
    for (    AttributeNode<?> subGraphAttributeNode : subgraph.getAttributeNodes()) {
      final AttributeNodeImplementor<?> nodeImplementor=(AttributeNodeImplementor<?>)subGraphAttributeNode;
      final AttributeNodeImplementor<?> old=this.elementGraphAttributeMap.put(nodeImplementor.getAttributeName(),nodeImplementor);
      if (old != null && old != nodeImplementor) {
        throw new IllegalStateException("Found multiple representations of the same attribute : " + nodeImplementor.getAttributeName());
      }
    }
  }
}
