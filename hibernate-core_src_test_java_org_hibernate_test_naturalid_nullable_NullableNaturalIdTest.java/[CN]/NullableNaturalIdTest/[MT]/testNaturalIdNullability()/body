{
  EntityPersister persister=sessionFactory().getEntityPersister(A.class.getName());
  EntityMetamodel entityMetamodel=persister.getEntityMetamodel();
  assertTrue(persister.getPropertyNullability()[entityMetamodel.getPropertyIndex("assC")]);
  assertTrue(persister.getPropertyNullability()[entityMetamodel.getPropertyIndex("myname")]);
  persister=sessionFactory().getEntityPersister(B.class.getName());
  entityMetamodel=persister.getEntityMetamodel();
  assertTrue(persister.getPropertyNullability()[entityMetamodel.getPropertyIndex("assA")]);
  assertFalse(persister.getPropertyNullability()[entityMetamodel.getPropertyIndex("naturalid")]);
  persister=sessionFactory().getEntityPersister(C.class.getName());
  entityMetamodel=persister.getEntityMetamodel();
  assertTrue(persister.getPropertyNullability()[entityMetamodel.getPropertyIndex("name")]);
  persister=sessionFactory().getEntityPersister(D.class.getName());
  entityMetamodel=persister.getEntityMetamodel();
  assertTrue(persister.getPropertyNullability()[entityMetamodel.getPropertyIndex("name")]);
  assertTrue(persister.getPropertyNullability()[entityMetamodel.getPropertyIndex("associatedC")]);
  persister=sessionFactory().getEntityPersister(User.class.getName());
  entityMetamodel=persister.getEntityMetamodel();
  assertTrue(persister.getPropertyNullability()[entityMetamodel.getPropertyIndex("name")]);
  assertTrue(persister.getPropertyNullability()[entityMetamodel.getPropertyIndex("org")]);
  assertTrue(persister.getPropertyNullability()[entityMetamodel.getPropertyIndex("intVal")]);
}
