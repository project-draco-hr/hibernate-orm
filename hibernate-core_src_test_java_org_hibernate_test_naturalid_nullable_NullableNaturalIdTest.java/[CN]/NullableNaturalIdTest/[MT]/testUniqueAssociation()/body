{
  Session session=openSession();
  session.beginTransaction();
  A a=new A();
  B b=new B();
  b.naturalid=100;
  session.persist(a);
  session.persist(b);
  b.assA=a;
  a.assB.add(b);
  session.getTransaction().commit();
  session.close();
  session=openSession();
  session.beginTransaction();
  assertNotNull(session.byNaturalId(B.class).using("naturalid",100).using("assA",a).load());
  assertNull(session.byNaturalId(B.class).using("naturalid",100).using("assA",null).load());
  session.getTransaction().commit();
  session.close();
  session=openSession();
  session.beginTransaction();
  session.delete(b);
  session.delete(a);
  session.getTransaction().commit();
  session.close();
}
