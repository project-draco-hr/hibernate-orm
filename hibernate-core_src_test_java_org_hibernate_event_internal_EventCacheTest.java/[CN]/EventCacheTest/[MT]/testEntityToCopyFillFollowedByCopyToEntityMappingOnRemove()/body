{
  EventCache cache=new EventCache();
  Object entity=new Simple(1);
  Object copy=new Simple(2);
  cache.put(entity,copy);
  checkCacheConsistency(cache,1);
  assertTrue(cache.containsKey(entity));
  assertFalse(cache.containsKey(copy));
  assertTrue(cache.invertMap().containsKey(copy));
  assertFalse(cache.invertMap().containsKey(entity));
  cache.remove(entity);
  checkCacheConsistency(cache,0);
  assertFalse(cache.containsKey(entity));
  assertFalse(cache.invertMap().containsKey(copy));
}
