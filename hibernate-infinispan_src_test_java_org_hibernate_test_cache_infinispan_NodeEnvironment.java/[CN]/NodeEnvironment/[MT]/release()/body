{
  if (entityRegionMap != null) {
    for (    EntityRegionImpl region : entityRegionMap.values()) {
      region.getCacheAdapter().withFlags(FlagAdapter.CACHE_MODE_LOCAL).clear();
      region.getCacheAdapter().stop();
    }
    entityRegionMap.clear();
  }
  if (collectionRegionMap != null) {
    for (    CollectionRegionImpl collectionRegion : collectionRegionMap.values()) {
      collectionRegion.getCacheAdapter().withFlags(FlagAdapter.CACHE_MODE_LOCAL).clear();
      collectionRegion.getCacheAdapter().stop();
    }
    collectionRegionMap.clear();
  }
  if (regionFactory != null) {
    regionFactory.stop();
  }
  if (serviceRegistry != null) {
    serviceRegistry.destroy();
  }
}
