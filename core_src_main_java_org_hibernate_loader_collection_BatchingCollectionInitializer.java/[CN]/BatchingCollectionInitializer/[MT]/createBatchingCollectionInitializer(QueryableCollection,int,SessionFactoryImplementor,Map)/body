{
  if (maxBatchSize > 1) {
    int[] batchSizesToCreate=ArrayHelper.getBatchSizes(maxBatchSize);
    Loader[] loadersToCreate=new Loader[batchSizesToCreate.length];
    for (int i=0; i < batchSizesToCreate.length; i++) {
      loadersToCreate[i]=new BasicCollectionLoader(persister,batchSizesToCreate[i],factory,enabledFilters);
    }
    return new BatchingCollectionInitializer(persister,batchSizesToCreate,loadersToCreate);
  }
 else {
    return new BasicCollectionLoader(persister,factory,enabledFilters);
  }
}
