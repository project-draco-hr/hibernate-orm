{
  if (abstractSession.tenantIdentifier == null) {
    throw new HibernateException("Tenant identifier required!");
  }
  try {
    listener.jdbcConnectionAcquisitionStart();
    return connectionProvider.getConnection(abstractSession.tenantIdentifier);
  }
  finally {
    listener.jdbcConnectionAcquisitionEnd();
  }
}
