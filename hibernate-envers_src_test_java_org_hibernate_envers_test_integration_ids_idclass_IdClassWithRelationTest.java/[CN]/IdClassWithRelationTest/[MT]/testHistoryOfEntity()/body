{
  SampleClass entity=new SampleClass(entityId.getId(),entityId.getType(),"initial data");
  SampleClass ver1=getAuditReader().find(SampleClass.class,entityId,1);
  Assert.assertEquals(entity.getId(),ver1.getId());
  Assert.assertEquals(entity.getSampleValue(),ver1.getSampleValue());
  Assert.assertEquals(entity.getType().getType(),ver1.getType().getType());
  Assert.assertEquals(entity.getType().getDescription(),ver1.getType().getDescription());
  entity.setSampleValue("modified data");
  entity.getType().setDescription("modified description");
  SampleClass ver2=getAuditReader().find(SampleClass.class,entityId,3);
  Assert.assertEquals(entity.getId(),ver2.getId());
  Assert.assertEquals(entity.getSampleValue(),ver2.getSampleValue());
  Assert.assertEquals(entity.getType().getType(),ver2.getType().getType());
  Assert.assertEquals(entity.getType().getDescription(),ver2.getType().getDescription());
}
