{
  String schema=StringTools.isEmpty(propertyAuditingData.getJoinTable().schema()) ? propertyValue.getCollectionTable().getSchema() : propertyAuditingData.getJoinTable().schema();
  String catalog=StringTools.isEmpty(propertyAuditingData.getJoinTable().catalog()) ? propertyValue.getCollectionTable().getCatalog() : propertyAuditingData.getJoinTable().catalog();
  Element middleEntityXml=MetadataTools.createEntity(xmlMappingData.newAdditionalMapping(),new AuditTableData(auditMiddleEntityName,auditMiddleTableName,schema,catalog),null);
  Element middleEntityXmlId=middleEntityXml.addElement("composite-id");
  middleEntityXmlId.addAttribute("name",mainGenerator.getVerEntCfg().getOriginalIdPropName());
  mainGenerator.addRevisionInfoRelation(middleEntityXmlId);
  mainGenerator.addRevisionType(middleEntityXml);
  return middleEntityXmlId;
}
