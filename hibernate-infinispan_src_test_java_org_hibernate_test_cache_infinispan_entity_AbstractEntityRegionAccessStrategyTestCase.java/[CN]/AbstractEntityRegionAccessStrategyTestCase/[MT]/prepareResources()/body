{
  Configuration cfg=createConfiguration(getConfigurationName());
  localEnvironment=new NodeEnvironment(cfg);
  localEnvironment.prepare();
  localEntityRegion=localEnvironment.getEntityRegion(REGION_NAME,getCacheDataDescription());
  localAccessStrategy=localEntityRegion.buildAccessStrategy(getAccessType());
  invalidation=localEntityRegion.getCacheAdapter().isClusteredInvalidation();
  synchronous=localEntityRegion.getCacheAdapter().isSynchronous();
  avoidConcurrentFlush();
  remoteEnvironment=new NodeEnvironment(cfg);
  remoteEnvironment.prepare();
  remoteEntityRegion=remoteEnvironment.getEntityRegion(REGION_NAME,getCacheDataDescription());
  remoteAccessStrategy=remoteEntityRegion.buildAccessStrategy(getAccessType());
  waitForClusterToForm(localEntityRegion.getCacheAdapter().getCache(),remoteEntityRegion.getCacheAdapter().getCache());
}
