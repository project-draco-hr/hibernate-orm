{
  final String query="org.hibernate.cache.internal.StandardQueryCache";
  Properties p=new Properties();
  InfinispanRegionFactory factory=createRegionFactory(p);
  try {
    assertTrue(factory.getDefinedConfigurations().contains("local-query"));
    QueryResultsRegionImpl region=(QueryResultsRegionImpl)factory.buildQueryResultsRegion(query,p);
    AdvancedCache cache=region.getCache();
    Configuration cacheCfg=cache.getCacheConfiguration();
    assertEquals(CacheMode.LOCAL,cacheCfg.clustering().cacheMode());
    assertFalse(cacheCfg.jmxStatistics().enabled());
  }
  finally {
    factory.stop();
  }
}
