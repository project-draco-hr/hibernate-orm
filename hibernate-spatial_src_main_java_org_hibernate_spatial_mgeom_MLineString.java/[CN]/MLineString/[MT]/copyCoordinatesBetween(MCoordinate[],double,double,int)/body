{
  CoordinateSubSequence sseq=new CoordinateSubSequence();
  sseq.firstIndex=-1;
  sseq.lastIndex=-1;
  for (int i=0; i < mcoordinates.length; i++) {
    double m=mcoordinates[i].m;
    if (m >= fromM && m <= toM) {
      sseq.vertices.add(mcoordinates[i]);
      if (sseq.firstIndex == -1) {
        sseq.firstIndex=i;
      }
    }
    if (direction == MGeometry.INCREASING) {
      if (m > toM) {
        break;
      }
      sseq.lastIndex=i;
    }
 else {
      if (m < fromM) {
        break;
      }
      sseq.lastIndex=i;
    }
  }
  return sseq;
}
