{
  if (log.isTraceEnabled()) {
    log.trace("transaction after completion callback, status: " + status);
  }
  try {
    jdbcContext.afterTransactionCompletion(status == Status.STATUS_COMMITTED,hibernateTransaction);
  }
  finally {
    if (ctx.shouldAutoClose() && !ctx.isClosed()) {
      log.trace("automatically closing session");
      ctx.managedClose();
    }
  }
}
