{
  logger.verbose("Starting class file : " + file.toURL());
  byte[] bytes=ByteCodeHelper.readByteCode(file);
  ClassDescriptor descriptor=getClassDescriptor(bytes);
  ClassTransformer transformer=getClassTransformer(descriptor);
  if (transformer == null) {
    logger.verbose("skipping file : " + file.toURL());
    return;
  }
  logger.info("processing class [" + descriptor.getName() + "]; file = "+ file.toURL());
  byte[] transformedBytes=transformer.transform(getClass().getClassLoader(),descriptor.getName(),null,null,descriptor.getBytes());
  OutputStream out=new FileOutputStream(file);
  try {
    out.write(transformedBytes);
    out.flush();
  }
  finally {
    try {
      out.close();
    }
 catch (    IOException ignore) {
    }
  }
}
