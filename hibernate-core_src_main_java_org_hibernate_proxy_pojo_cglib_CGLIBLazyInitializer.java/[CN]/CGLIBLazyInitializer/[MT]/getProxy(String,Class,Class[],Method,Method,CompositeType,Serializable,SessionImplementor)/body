{
  try {
    final CGLIBLazyInitializer instance=new CGLIBLazyInitializer(entityName,persistentClass,interfaces,id,getIdentifierMethod,setIdentifierMethod,componentIdType,session);
    final HibernateProxy proxy;
    Class factory=getProxyFactory(persistentClass,interfaces);
    proxy=getProxyInstance(factory,instance);
    instance.constructed=true;
    return proxy;
  }
 catch (  Throwable t) {
    LOG.error(LOG.cglibEnhancementFailed(entityName),t);
    throw new HibernateException(LOG.cglibEnhancementFailed(entityName),t);
  }
}
