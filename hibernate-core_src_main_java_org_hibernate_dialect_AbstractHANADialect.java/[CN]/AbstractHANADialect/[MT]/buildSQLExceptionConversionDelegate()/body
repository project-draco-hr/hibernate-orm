{
  return new SQLExceptionConversionDelegate(){
    @Override public JDBCException convert(    final SQLException sqlException,    final String message,    final String sql){
      final int errorCode=JdbcExceptionHelper.extractErrorCode(sqlException);
      if (errorCode == 131) {
        return new LockTimeoutException(message,sqlException,sql);
      }
      if (errorCode == 146) {
        return new LockTimeoutException(message,sqlException,sql);
      }
      if (errorCode == 132) {
        return new LockAcquisitionException(message,sqlException,sql);
      }
      if (errorCode == 133) {
        return new LockAcquisitionException(message,sqlException,sql);
      }
      if (errorCode == 257 || (errorCode >= 259 && errorCode <= 263)) {
        throw new SQLGrammarException(message,sqlException,sql);
      }
      if (errorCode == 287 || errorCode == 301 || errorCode == 461 || errorCode == 462) {
        final String constraintName=getViolatedConstraintNameExtracter().extractConstraintName(sqlException);
        return new ConstraintViolationException(message,sqlException,sql,constraintName);
      }
      return null;
    }
  }
;
}
