{
  if (booleanTests.removeLast()) {
    if (booleanTests.size() > 0) {
      booleanTests.removeLast();
      booleanTests.addLast(Boolean.TRUE);
    }
    appendToken(q,(joins.removeLast()).toString());
  }
 else {
    StringBuffer join=(StringBuffer)joins.removeLast();
    ((StringBuffer)joins.getLast()).append(join.toString());
  }
  if (nots.removeLast())   negated=!negated;
  if (!")".equals(lcToken))   appendToken(q,")");
}
