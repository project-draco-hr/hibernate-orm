{
  checkOpen(false);
  if (isNativeSqlQuery()) {
    throw new IllegalStateException("Illegal attempt to set lock mode on a native SQL query");
  }
  if (!isSelectQuery()) {
    throw new IllegalStateException("Illegal attempt to set lock mode on a non-SELECT query");
  }
  return jpaLockMode;
}
