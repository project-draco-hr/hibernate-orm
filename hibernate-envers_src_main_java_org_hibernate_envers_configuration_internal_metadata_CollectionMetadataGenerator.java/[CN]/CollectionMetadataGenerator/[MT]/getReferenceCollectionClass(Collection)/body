{
  PersistentClass referencedClass=null;
  if (collectionValue.getElement() instanceof OneToMany) {
    final OneToMany oneToManyValue=(OneToMany)collectionValue.getElement();
    referencedClass=oneToManyValue.getAssociatedClass();
  }
 else   if (collectionValue.getElement() instanceof ManyToOne) {
    final ManyToOne manyToOneValue=(ManyToOne)collectionValue.getElement();
    referencedClass=manyToOneValue.getMetadata().getEntityBinding(manyToOneValue.getReferencedEntityName());
  }
  return referencedClass;
}
