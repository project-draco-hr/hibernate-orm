{
  applyJdbcConnectionProperties();
  applyTransactionProperties();
  Object validationFactory=this.validatorFactory;
  if (validationFactory == null) {
    validationFactory=configurationValues.get(AvailableSettings.VALIDATION_FACTORY);
  }
  if (validationFactory != null) {
    BeanValidationIntegrator.validateFactory(validationFactory);
    serviceRegistryBuilder.applySetting(AvailableSettings.VALIDATION_FACTORY,validationFactory);
    configurationValues.put(AvailableSettings.VALIDATION_FACTORY,this.validatorFactory);
  }
  if ("true".equals(configurationValues.get(Environment.FLUSH_BEFORE_COMPLETION))) {
    serviceRegistryBuilder.applySetting(Environment.FLUSH_BEFORE_COMPLETION,"false");
    LOG.definingFlushBeforeCompletionIgnoredInHem(Environment.FLUSH_BEFORE_COMPLETION);
  }
  final StrategySelector strategySelector=serviceRegistryBuilder.getBootstrapServiceRegistry().getService(StrategySelector.class);
  for (  Object oEntry : configurationValues.entrySet()) {
    Map.Entry entry=(Map.Entry)oEntry;
    if (entry.getKey() instanceof String) {
      final String keyString=(String)entry.getKey();
      if (AvailableSettings.INTERCEPTOR.equals(keyString)) {
        sessionFactoryInterceptor=strategySelector.resolveStrategy(Interceptor.class,entry.getValue());
      }
 else       if (AvailableSettings.SESSION_INTERCEPTOR.equals(keyString)) {
        settings.setSessionInterceptorClass(loadSessionInterceptorClass(entry.getValue(),strategySelector));
      }
 else       if (AvailableSettings.NAMING_STRATEGY.equals(keyString)) {
        namingStrategy=strategySelector.resolveStrategy(NamingStrategy.class,entry.getValue());
      }
 else       if (AvailableSettings.NAMING_STRATEGY_DELEGATOR.equals(keyString)) {
        namingStrategyDelegator=strategySelector.resolveStrategy(NamingStrategyDelegator.class,entry.getValue());
      }
 else       if (AvailableSettings.SESSION_FACTORY_OBSERVER.equals(keyString)) {
        suppliedSessionFactoryObserver=strategySelector.resolveStrategy(SessionFactoryObserver.class,entry.getValue());
      }
 else       if (AvailableSettings.DISCARD_PC_ON_CLOSE.equals(keyString)) {
        settings.setReleaseResourcesOnCloseEnabled("true".equals(entry.getValue()));
      }
 else       if (keyString.startsWith(AvailableSettings.CLASS_CACHE_PREFIX)) {
        addCacheRegionDefinition(keyString.substring(AvailableSettings.CLASS_CACHE_PREFIX.length() + 1),(String)entry.getValue(),CacheRegionDefinition.CacheType.ENTITY);
      }
 else       if (keyString.startsWith(AvailableSettings.COLLECTION_CACHE_PREFIX)) {
        addCacheRegionDefinition(keyString.substring(AvailableSettings.COLLECTION_CACHE_PREFIX.length() + 1),(String)entry.getValue(),CacheRegionDefinition.CacheType.COLLECTION);
      }
 else       if (keyString.startsWith(AvailableSettings.JACC_PREFIX) && !(keyString.equals(AvailableSettings.JACC_CONTEXT_ID) || keyString.equals(AvailableSettings.JACC_ENABLED))) {
        addJaccDefinition((String)entry.getKey(),entry.getValue());
      }
    }
  }
}
