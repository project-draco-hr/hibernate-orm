{
  try {
    writeLock.lock();
    Lockable item=(Lockable)region.get(key);
    if (item != null && item.isUnlockable(lock)) {
      Lock lockItem=(Lock)item;
      if (lockItem.wasLockedConcurrently()) {
        decrementLock(key,lockItem);
        return false;
      }
 else {
        region.put(key,new Item(value,null,region.nextTimestamp()));
        return true;
      }
    }
 else {
      handleLockExpiry(key,item);
      return false;
    }
  }
  finally {
    writeLock.unlock();
  }
}
