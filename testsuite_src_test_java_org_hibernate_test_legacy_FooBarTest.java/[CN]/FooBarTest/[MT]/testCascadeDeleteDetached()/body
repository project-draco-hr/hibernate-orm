{
  Session s=openSession();
  s.beginTransaction();
  Baz baz=new Baz();
  List list=new ArrayList();
  list.add(new Fee());
  baz.setFees(list);
  s.save(baz);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  baz=(Baz)s.get(Baz.class,baz.getCode());
  s.getTransaction().commit();
  s.close();
  assertFalse(Hibernate.isInitialized(baz.getFees()));
  s=openSession();
  s.beginTransaction();
  s.delete(baz);
  s.flush();
  assertFalse(s.createQuery("from Fee").iterate().hasNext());
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  baz=new Baz();
  list=new ArrayList();
  list.add(new Fee());
  list.add(new Fee());
  baz.setFees(list);
  s.save(baz);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.beginTransaction();
  baz=(Baz)s.get(Baz.class,baz.getCode());
  Hibernate.initialize(baz.getFees());
  s.getTransaction().commit();
  s.close();
  assertTrue(baz.getFees().size() == 2);
  s=openSession();
  s.beginTransaction();
  s.delete(baz);
  s.flush();
  assertFalse(s.createQuery("from Fee").iterate().hasNext());
  s.getTransaction().commit();
  s.close();
}
