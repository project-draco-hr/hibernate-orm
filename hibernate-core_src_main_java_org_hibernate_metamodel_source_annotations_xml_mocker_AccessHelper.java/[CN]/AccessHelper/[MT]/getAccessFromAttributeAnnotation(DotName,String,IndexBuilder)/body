{
  Map<DotName,List<AnnotationInstance>> indexedAnnotations=indexBuilder.getIndexedAnnotations(className);
  if (indexedAnnotations != null && indexedAnnotations.containsKey(ACCESS)) {
    List<AnnotationInstance> annotationInstances=indexedAnnotations.get(ACCESS);
    if (MockHelper.isNotEmpty(annotationInstances)) {
      for (      AnnotationInstance annotationInstance : annotationInstances) {
        AnnotationTarget indexedPropertyTarget=annotationInstance.target();
        if (indexedPropertyTarget == null) {
          continue;
        }
        if (JandexHelper.getPropertyName(indexedPropertyTarget).equals(attributeName)) {
          JaxbAccessType accessType=JandexHelper.getEnumValue(annotationInstance,"value",JaxbAccessType.class);
          JaxbAccessType targetAccessType=annotationTargetToAccessType(indexedPropertyTarget);
          if (accessType.equals(targetAccessType)) {
            return targetAccessType;
          }
 else {
            LOG.warn(String.format("%s.%s has @Access on %s, but it tries to assign the access type to %s, this is not allowed by JPA spec, and will be ignored.",className,attributeName,targetAccessType,accessType));
          }
        }
      }
    }
  }
  return null;
}
