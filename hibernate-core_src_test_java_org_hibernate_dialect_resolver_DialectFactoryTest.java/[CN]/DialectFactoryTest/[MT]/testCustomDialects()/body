{
  DialectResolverSet resolvers=new DialectResolverSet();
  resolvers.addResolver(new TestingDialects.MyDialectResolver1());
  resolvers.addResolver(new TestingDialects.MyDialectResolver2());
  resolvers.addResolver(new TestingDialects.MyOverridingDialectResolver1());
  testDetermination("MyDatabase1",TestingDialects.MyDialect1.class,resolvers);
  testDetermination("MyDatabase2",1,TestingDialects.MyDialect21.class,resolvers);
  testDetermination("MyTrickyDatabase1",TestingDialects.MyDialect1.class,resolvers);
  testDetermination("DB2/MySpecialPlatform",TestingDialects.MySpecialDB2Dialect.class,resolvers);
  try {
    testDetermination("ErrorDatabase1",Void.TYPE,resolvers);
    fail();
  }
 catch (  HibernateException e) {
  }
  try {
    testDetermination("ErrorDatabase2",Void.TYPE,resolvers);
    fail();
  }
 catch (  HibernateException e) {
  }
}
