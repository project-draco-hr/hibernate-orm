{
  for (  Map.Entry<String,EntityConfiguration> entry : entitiesConfigurations.entrySet()) {
    final String entityName=entry.getKey();
    final EntityConfiguration entCfg=entry.getValue();
    for (    RelationDescription relDesc : entCfg.getRelationsIterator()) {
      if (relDesc.getRelationType() == RelationType.TO_ONE || relDesc.getRelationType() == RelationType.TO_MANY_MIDDLE) {
        final EntityConfiguration entityConfiguration=entitiesConfigurations.get(relDesc.getToEntityName());
        if (entityConfiguration != null) {
          for (          RelationDescription other : entityConfiguration.getRelationsIterator()) {
            if (relDesc.getFromPropertyName().equals(other.getMappedByPropertyName()) && (entityName.equals(other.getToEntityName()))) {
              relDesc.setBidirectional(true);
              other.setBidirectional(true);
            }
          }
        }
      }
    }
  }
}
