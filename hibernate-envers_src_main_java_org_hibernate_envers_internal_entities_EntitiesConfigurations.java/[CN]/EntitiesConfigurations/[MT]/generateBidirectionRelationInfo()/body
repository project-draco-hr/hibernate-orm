{
  for (  String entityName : entitiesConfigurations.keySet()) {
    final EntityConfiguration entCfg=entitiesConfigurations.get(entityName);
    for (    RelationDescription relDesc : entCfg.getRelationsIterator()) {
      if (relDesc.getRelationType() == RelationType.TO_ONE || relDesc.getRelationType() == RelationType.TO_MANY_MIDDLE) {
        final EntityConfiguration entityConfiguration=entitiesConfigurations.get(relDesc.getToEntityName());
        if (entityConfiguration != null) {
          for (          RelationDescription other : entityConfiguration.getRelationsIterator()) {
            if (relDesc.getFromPropertyName().equals(other.getMappedByPropertyName()) && (entityName.equals(other.getToEntityName()))) {
              relDesc.setBidirectional(true);
              other.setBidirectional(true);
            }
          }
        }
      }
    }
  }
}
