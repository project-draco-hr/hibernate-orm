{
  assertTrue(SchemaUtil.isColumnPresent("MedicalHistory","FK",getCfg()));
  assertTrue(!SchemaUtil.isColumnPresent("MedicalHistory","id",getCfg()));
  Session s=openSession();
  s.getTransaction().begin();
  Person person=new Person("aaa");
  s.persist(person);
  MedicalHistory medicalHistory=new MedicalHistory(person);
  s.persist(medicalHistory);
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.getTransaction().begin();
  medicalHistory=(MedicalHistory)s.get(MedicalHistory.class,"aaa");
  assertEquals(person.ssn,medicalHistory.patient.ssn);
  medicalHistory.lastupdate=new Date();
  s.getTransaction().commit();
  s.close();
  s=openSession();
  s.getTransaction().begin();
  medicalHistory=(MedicalHistory)s.get(MedicalHistory.class,"aaa");
  assertNotNull(medicalHistory.lastupdate);
  s.delete(medicalHistory);
  s.getTransaction().commit();
  s.close();
}
