{
  PersistentClass owner=component.getOwner();
  Map userSuppliedTuplizerImpls=new HashMap();
  if (component.getTuplizerMap() != null) {
    userSuppliedTuplizerImpls.putAll(component.getTuplizerMap());
  }
  Tuplizer dynamicMapTuplizer;
  String tuplizerClassName=(String)userSuppliedTuplizerImpls.remove(EntityMode.MAP);
  if (tuplizerClassName == null) {
    dynamicMapTuplizer=componentTuplizerFactory.constructDefaultTuplizer(EntityMode.MAP,component);
  }
 else {
    dynamicMapTuplizer=componentTuplizerFactory.constructTuplizer(tuplizerClassName,component);
  }
  tuplizerClassName=(String)userSuppliedTuplizerImpls.remove(EntityMode.POJO);
  Tuplizer pojoTuplizer;
  if (owner.hasPojoRepresentation() && component.hasPojoRepresentation()) {
    if (tuplizerClassName == null) {
      pojoTuplizer=componentTuplizerFactory.constructDefaultTuplizer(EntityMode.POJO,component);
    }
 else {
      pojoTuplizer=componentTuplizerFactory.constructTuplizer(tuplizerClassName,component);
    }
  }
 else {
    pojoTuplizer=dynamicMapTuplizer;
  }
  Tuplizer dom4jTuplizer;
  tuplizerClassName=(String)userSuppliedTuplizerImpls.remove(EntityMode.DOM4J);
  if (owner.hasDom4jRepresentation()) {
    if (tuplizerClassName == null) {
      dom4jTuplizer=componentTuplizerFactory.constructDefaultTuplizer(EntityMode.DOM4J,component);
    }
 else {
      dom4jTuplizer=componentTuplizerFactory.constructTuplizer(tuplizerClassName,component);
    }
  }
 else {
    dom4jTuplizer=null;
  }
  if (pojoTuplizer != null) {
    addTuplizer(EntityMode.POJO,pojoTuplizer);
  }
  if (dynamicMapTuplizer != null) {
    addTuplizer(EntityMode.MAP,dynamicMapTuplizer);
  }
  if (dom4jTuplizer != null) {
    addTuplizer(EntityMode.DOM4J,dom4jTuplizer);
  }
  if (!userSuppliedTuplizerImpls.isEmpty()) {
    Iterator itr=userSuppliedTuplizerImpls.entrySet().iterator();
    while (itr.hasNext()) {
      final Map.Entry entry=(Map.Entry)itr.next();
      final EntityMode entityMode=(EntityMode)entry.getKey();
      final String userTuplizerClassName=(String)entry.getValue();
      ComponentTuplizer tuplizer=componentTuplizerFactory.constructTuplizer(userTuplizerClassName,component);
      addTuplizer(entityMode,tuplizer);
    }
  }
}
