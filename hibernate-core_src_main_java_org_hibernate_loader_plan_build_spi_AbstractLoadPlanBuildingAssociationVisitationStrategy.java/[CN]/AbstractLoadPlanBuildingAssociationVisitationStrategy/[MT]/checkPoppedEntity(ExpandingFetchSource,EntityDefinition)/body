{
  if (!EntityReference.class.isInstance(fetchSource)) {
    throw new WalkingException(String.format("Mismatched FetchSource from stack on pop.  Expecting EntityReference(%s), but found %s",entityDefinition.getEntityPersister().getEntityName(),fetchSource));
  }
  final EntityReference entityReference=(EntityReference)fetchSource;
  if (!entityReference.getEntityPersister().equals(entityDefinition.getEntityPersister())) {
    throw new WalkingException("Mismatched FetchSource from stack on pop");
  }
}
