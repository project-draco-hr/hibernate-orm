{
  if (logicalConnection.isTransactionTimeoutSet()) {
    int timeout=(int)(logicalConnection.getTransactionTimeout() - (System.currentTimeMillis() / 1000));
    if (timeout <= 0) {
      throw new TransactionException("transaction timeout expired");
    }
 else {
      result.setQueryTimeout(timeout);
    }
  }
}
