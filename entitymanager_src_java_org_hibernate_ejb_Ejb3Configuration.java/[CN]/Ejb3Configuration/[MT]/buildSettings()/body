{
  Thread thread=null;
  ClassLoader contextClassLoader=null;
  if (overridenClassLoader != null) {
    thread=Thread.currentThread();
    contextClassLoader=thread.getContextClassLoader();
    thread.setContextClassLoader(overridenClassLoader);
  }
  try {
    return settingsFactory.buildSettings(cfg.getProperties());
  }
  finally {
    if (thread != null)     thread.setContextClassLoader(contextClassLoader);
  }
}
