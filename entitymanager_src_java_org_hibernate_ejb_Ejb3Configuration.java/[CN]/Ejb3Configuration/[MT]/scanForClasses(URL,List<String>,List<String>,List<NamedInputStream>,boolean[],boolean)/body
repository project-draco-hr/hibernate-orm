{
  if (jar == null) {
    log.error("Container is providing a null PersistenceUnitRootUrl: discovery impossible");
    return;
  }
  try {
    JarVisitor visitor=JarVisitorFactory.getVisitor(jar,getFilters(detectedArtifacts,searchORM,null));
    addScannedEntries(visitor,entities,packages,hbmFiles,null);
  }
 catch (  RuntimeException e) {
    throw new RuntimeException("error trying to scan <jar-file>: " + jar.toString(),e);
  }
catch (  IOException e) {
    throw new RuntimeException("Error while reading " + jar.toString(),e);
  }
}
