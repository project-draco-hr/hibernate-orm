{
  if (!begun) {
    throw new TransactionException("Transaction not successfully started");
  }
  LOG.rollback();
  try {
    getTransaction().setRollbackOnly();
  }
 catch (  SystemException se) {
    LOG.error(LOG.unableToSetTransactionToRollbackOnly(),se);
    throw new TransactionException("Could not set transaction to rollback only",se);
  }
  begun=false;
}
