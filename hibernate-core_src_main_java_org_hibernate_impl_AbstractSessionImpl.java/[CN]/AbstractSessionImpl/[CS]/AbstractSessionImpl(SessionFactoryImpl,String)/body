{
  this.factory=factory;
  this.tenantIdentifier=tenantIdentifier;
  if (MultiTenancyStrategy.NONE == factory.getSettings().getMultiTenancyStrategy()) {
    if (tenantIdentifier != null) {
      throw new HibernateException("SessionFactory was not configured for multi-tenancy");
    }
  }
 else {
    if (tenantIdentifier == null) {
      throw new HibernateException("SessionFactory configured for multi-tenancy, but no tenant identifier specified");
    }
  }
}
