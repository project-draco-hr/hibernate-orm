{
  DatabaseMetaData metaData=mock(DatabaseMetaData.class);
  when(metaData.getDatabaseProductName()).thenReturn(productName);
  when(metaData.getDatabaseMajorVersion()).thenReturn(majorVersion);
  when(metaData.getDatabaseMinorVersion()).thenReturn(minorVersion);
  Dialect dialect=new StandardDatabaseMetaDataDialectResolver(StandardDatabaseInfoDialectResolver.INSTANCE).resolveDialectInternal(metaData);
  StringBuilder builder=new StringBuilder(productName).append(" ").append(majorVersion);
  if (minorVersion > 0) {
    builder.append(".").append(minorVersion);
  }
  String dbms=builder.toString();
  assertNotNull("Dialect for " + dbms + " should not be null",dialect);
  assertTrue("Dialect for " + dbms + " should be "+ expectedDialect.getSimpleName(),expectedDialect.isInstance(dialect));
}
