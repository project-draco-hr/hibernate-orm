{
  final PendingPut pendingPut=new PendingPut(getOwnerForPut());
  final PendingPutMap pendingForKey=new PendingPutMap(pendingPut);
  final PendingPutMap existing=pendingPuts.putIfAbsent(key,pendingForKey);
  if (existing != null) {
    if (existing.acquireLock(10,TimeUnit.SECONDS)) {
      try {
        if (!existing.hasInvalidator()) {
          existing.put(pendingPut);
        }
      }
  finally {
        existing.releaseLock();
      }
    }
 else {
    }
  }
}
