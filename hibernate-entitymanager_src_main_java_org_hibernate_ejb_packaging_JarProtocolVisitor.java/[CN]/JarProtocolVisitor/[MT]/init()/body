{
  String file=jarUrl.getFile();
  String entry;
  int subEntryIndex=file.lastIndexOf("!");
  if (subEntryIndex == -1)   throw new AssertionFailure("JAR URL does not contain '!/' :" + jarUrl);
  if (subEntryIndex + 1 >= file.length()) {
    entry="";
  }
 else {
    entry=file.substring(subEntryIndex + 1);
  }
  URL fileUrl=JarVisitorFactory.getJarURLFromURLEntry(jarUrl,entry);
  delegate=JarVisitorFactory.getVisitor(fileUrl,filters,entry);
}
