{
  if (interceptor != null && interceptor != EmptyInterceptor.INSTANCE) {
    return interceptor;
  }
  if (sessionFactory.getSessionFactoryOptions().getInterceptor() != null) {
    return sessionFactory.getSessionFactoryOptions().getInterceptor();
  }
  if (sessionFactory.getSessionFactoryOptions().getStatelessInterceptorImplementor() != null) {
    try {
      return sessionFactory.getSessionFactoryOptions().getStatelessInterceptorImplementor().newInstance();
    }
 catch (    InstantiationException|IllegalAccessException e) {
      throw new HibernateException("Could not instantiate session-scoped SessionFactory Interceptor",e);
    }
  }
  return null;
}
